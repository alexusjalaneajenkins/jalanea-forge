(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function lh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lm={exports:{}},Uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function bN(){if(fT)return Uu;fT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,a){var l=null;if(a!==void 0&&(l=""+a),o.key!==void 0&&(l=""+o.key),"key"in o){a={};for(var c in o)c!=="key"&&(a[c]=o[c])}else a=o;return o=a.ref,{$$typeof:t,type:i,key:l,ref:o!==void 0?o:null,props:a}}return Uu.Fragment=e,Uu.jsx=n,Uu.jsxs=n,Uu}var dT;function RN(){return dT||(dT=1,Lm.exports=bN()),Lm.exports}var w=RN(),Vm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function NN(){if(hT)return Ve;hT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function S($){return $===null||typeof $!="object"?null:($=T&&$[T]||$["@@iterator"],typeof $=="function"?$:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function U($,oe,z){this.props=$,this.context=oe,this.refs=V,this.updater=z||I}U.prototype.isReactComponent={},U.prototype.setState=function($,oe){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,oe,"setState")},U.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function G(){}G.prototype=U.prototype;function B($,oe,z){this.props=$,this.context=oe,this.refs=V,this.updater=z||I}var ie=B.prototype=new G;ie.constructor=B,k(ie,U.prototype),ie.isPureReactComponent=!0;var se=Array.isArray;function K(){}var P={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function D($,oe,z){var _e=z.ref;return{$$typeof:t,type:$,key:oe,ref:_e!==void 0?_e:null,props:z}}function b($,oe){return D($.type,oe,$.props)}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function O($){var oe={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(z){return oe[z]})}var F=/\/+/g;function me($,oe){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):oe.toString(36)}function he($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(K,K):($.status="pending",$.then(function(oe){$.status==="pending"&&($.status="fulfilled",$.value=oe)},function(oe){$.status==="pending"&&($.status="rejected",$.reason=oe)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Q($,oe,z,_e,be){var we=typeof $;(we==="undefined"||we==="boolean")&&($=null);var qe=!1;if($===null)qe=!0;else switch(we){case"bigint":case"string":case"number":qe=!0;break;case"object":switch($.$$typeof){case t:case e:qe=!0;break;case m:return qe=$._init,Q(qe($._payload),oe,z,_e,be)}}if(qe)return be=be($),qe=_e===""?"."+me($,0):_e,se(be)?(z="",qe!=null&&(z=qe.replace(F,"$&/")+"/"),Q(be,oe,z,"",function(kn){return kn})):be!=null&&(N(be)&&(be=b(be,z+(be.key==null||$&&$.key===be.key?"":(""+be.key).replace(F,"$&/")+"/")+qe)),oe.push(be)),1;qe=0;var pt=_e===""?".":_e+":";if(se($))for(var at=0;at<$.length;at++)_e=$[at],we=pt+me(_e,at),qe+=Q(_e,oe,z,we,be);else if(at=S($),typeof at=="function")for($=at.call($),at=0;!(_e=$.next()).done;)_e=_e.value,we=pt+me(_e,at++),qe+=Q(_e,oe,z,we,be);else if(we==="object"){if(typeof $.then=="function")return Q(he($),oe,z,_e,be);throw oe=String($),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return qe}function de($,oe,z){if($==null)return $;var _e=[],be=0;return Q($,_e,"","",function(we){return oe.call(z,we,be++)}),_e}function Te($){if($._status===-1){var oe=$._result;oe=oe(),oe.then(function(z){($._status===0||$._status===-1)&&($._status=1,$._result=z)},function(z){($._status===0||$._status===-1)&&($._status=2,$._result=z)}),$._status===-1&&($._status=0,$._result=oe)}if($._status===1)return $._result.default;throw $._result}var Pe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},q={map:de,forEach:function($,oe,z){de($,function(){oe.apply(this,arguments)},z)},count:function($){var oe=0;return de($,function(){oe++}),oe},toArray:function($){return de($,function(oe){return oe})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ve.Activity=_,Ve.Children=q,Ve.Component=U,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=B,Ve.StrictMode=i,Ve.Suspense=f,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ve.__COMPILER_RUNTIME={__proto__:null,c:function($){return P.H.useMemoCache($)}},Ve.cache=function($){return function(){return $.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function($,oe,z){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var _e=k({},$.props),be=$.key;if(oe!=null)for(we in oe.key!==void 0&&(be=""+oe.key),oe)!L.call(oe,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&oe.ref===void 0||(_e[we]=oe[we]);var we=arguments.length-2;if(we===1)_e.children=z;else if(1<we){for(var qe=Array(we),pt=0;pt<we;pt++)qe[pt]=arguments[pt+2];_e.children=qe}return D($.type,be,_e)},Ve.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Ve.createElement=function($,oe,z){var _e,be={},we=null;if(oe!=null)for(_e in oe.key!==void 0&&(we=""+oe.key),oe)L.call(oe,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(be[_e]=oe[_e]);var qe=arguments.length-2;if(qe===1)be.children=z;else if(1<qe){for(var pt=Array(qe),at=0;at<qe;at++)pt[at]=arguments[at+2];be.children=pt}if($&&$.defaultProps)for(_e in qe=$.defaultProps,qe)be[_e]===void 0&&(be[_e]=qe[_e]);return D($,we,be)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function($){return{$$typeof:c,render:$}},Ve.isValidElement=N,Ve.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:Te}},Ve.memo=function($,oe){return{$$typeof:d,type:$,compare:oe===void 0?null:oe}},Ve.startTransition=function($){var oe=P.T,z={};P.T=z;try{var _e=$(),be=P.S;be!==null&&be(z,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(K,Pe)}catch(we){Pe(we)}finally{oe!==null&&z.types!==null&&(oe.types=z.types),P.T=oe}},Ve.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ve.use=function($){return P.H.use($)},Ve.useActionState=function($,oe,z){return P.H.useActionState($,oe,z)},Ve.useCallback=function($,oe){return P.H.useCallback($,oe)},Ve.useContext=function($){return P.H.useContext($)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function($,oe){return P.H.useDeferredValue($,oe)},Ve.useEffect=function($,oe){return P.H.useEffect($,oe)},Ve.useEffectEvent=function($){return P.H.useEffectEvent($)},Ve.useId=function(){return P.H.useId()},Ve.useImperativeHandle=function($,oe,z){return P.H.useImperativeHandle($,oe,z)},Ve.useInsertionEffect=function($,oe){return P.H.useInsertionEffect($,oe)},Ve.useLayoutEffect=function($,oe){return P.H.useLayoutEffect($,oe)},Ve.useMemo=function($,oe){return P.H.useMemo($,oe)},Ve.useOptimistic=function($,oe){return P.H.useOptimistic($,oe)},Ve.useReducer=function($,oe,z){return P.H.useReducer($,oe,z)},Ve.useRef=function($){return P.H.useRef($)},Ve.useState=function($){return P.H.useState($)},Ve.useSyncExternalStore=function($,oe,z){return P.H.useSyncExternalStore($,oe,z)},Ve.useTransition=function(){return P.H.useTransition()},Ve.version="19.2.1",Ve}var pT;function my(){return pT||(pT=1,Vm.exports=NN()),Vm.exports}var Z=my();const Eg=lh(Z);var Um={exports:{}},Ou={},Om={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function kN(){return mT||(mT=1,(function(t){function e(Q,de){var Te=Q.length;Q.push(de);e:for(;0<Te;){var Pe=Te-1>>>1,q=Q[Pe];if(0<o(q,de))Q[Pe]=de,Q[Te]=q,Te=Pe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var de=Q[0],Te=Q.pop();if(Te!==de){Q[0]=Te;e:for(var Pe=0,q=Q.length,$=q>>>1;Pe<$;){var oe=2*(Pe+1)-1,z=Q[oe],_e=oe+1,be=Q[_e];if(0>o(z,Te))_e<q&&0>o(be,z)?(Q[Pe]=be,Q[_e]=Te,Pe=_e):(Q[Pe]=z,Q[oe]=Te,Pe=oe);else if(_e<q&&0>o(be,Te))Q[Pe]=be,Q[_e]=Te,Pe=_e;else break e}}return de}function o(Q,de){var Te=Q.sortIndex-de.sortIndex;return Te!==0?Te:Q.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],m=1,_=null,T=3,S=!1,I=!1,k=!1,V=!1,U=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function ie(Q){for(var de=n(d);de!==null;){if(de.callback===null)i(d);else if(de.startTime<=Q)i(d),de.sortIndex=de.expirationTime,e(f,de);else break;de=n(d)}}function se(Q){if(k=!1,ie(Q),!I)if(n(f)!==null)I=!0,K||(K=!0,O());else{var de=n(d);de!==null&&he(se,de.startTime-Q)}}var K=!1,P=-1,L=5,D=-1;function b(){return V?!0:!(t.unstable_now()-D<L)}function N(){if(V=!1,K){var Q=t.unstable_now();D=Q;var de=!0;try{e:{I=!1,k&&(k=!1,G(P),P=-1),S=!0;var Te=T;try{t:{for(ie(Q),_=n(f);_!==null&&!(_.expirationTime>Q&&b());){var Pe=_.callback;if(typeof Pe=="function"){_.callback=null,T=_.priorityLevel;var q=Pe(_.expirationTime<=Q);if(Q=t.unstable_now(),typeof q=="function"){_.callback=q,ie(Q),de=!0;break t}_===n(f)&&i(f),ie(Q)}else i(f);_=n(f)}if(_!==null)de=!0;else{var $=n(d);$!==null&&he(se,$.startTime-Q),de=!1}}break e}finally{_=null,T=Te,S=!1}de=void 0}}finally{de?O():K=!1}}}var O;if(typeof B=="function")O=function(){B(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,me=F.port2;F.port1.onmessage=N,O=function(){me.postMessage(null)}}else O=function(){U(N,0)};function he(Q,de){P=U(function(){Q(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var de=3;break;default:de=T}var Te=T;T=de;try{return Q()}finally{T=Te}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(Q,de){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Te=T;T=Q;try{return de()}finally{T=Te}},t.unstable_scheduleCallback=function(Q,de,Te){var Pe=t.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Pe+Te:Pe):Te=Pe,Q){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Te+q,Q={id:m++,callback:de,priorityLevel:Q,startTime:Te,expirationTime:q,sortIndex:-1},Te>Pe?(Q.sortIndex=Te,e(d,Q),n(f)===null&&Q===n(d)&&(k?(G(P),P=-1):k=!0,he(se,Te-Pe))):(Q.sortIndex=q,e(f,Q),I||S||(I=!0,K||(K=!0,O()))),Q},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(Q){var de=T;return function(){var Te=T;T=de;try{return Q.apply(this,arguments)}finally{T=Te}}}})(Fm)),Fm}var gT;function MN(){return gT||(gT=1,Om.exports=kN()),Om.exports}var zm={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function DN(){if(yT)return En;yT=1;var t=my();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(f,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:f,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,En.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,m)},En.flushSync=function(f){var d=l.T,m=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=m,i.d.f()}},En.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},En.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},En.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,_=c(m,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:S}):m==="script"&&i.d.X(f,{crossOrigin:_,integrity:T,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},En.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},En.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,_=c(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},En.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},En.requestFormReset=function(f){i.d.r(f)},En.unstable_batchedUpdates=function(f,d){return f(d)},En.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},En.useFormStatus=function(){return l.H.useHostTransitionStatus()},En.version="19.2.1",En}var _T;function PN(){if(_T)return zm.exports;_T=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zm.exports=DN(),zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function LN(){if(vT)return Ou;vT=1;var t=MN(),e=my(),n=PN();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function l(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function c(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=a(r),s===null)throw Error(i(188));return s!==r?null:r}for(var u=r,h=s;;){var v=u.return;if(v===null)break;var E=v.alternate;if(E===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===u)return f(v),r;if(E===h)return f(v),s;E=E.sibling}throw Error(i(188))}if(u.return!==h.return)u=v,h=E;else{for(var C=!1,R=v.child;R;){if(R===u){C=!0,u=v,h=E;break}if(R===h){C=!0,h=v,u=E;break}R=R.sibling}if(!C){for(R=E.child;R;){if(R===u){C=!0,u=E,h=v;break}if(R===h){C=!0,h=E,u=v;break}R=R.sibling}if(!C)throw Error(i(189))}}if(u.alternate!==h)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function me(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case U:return"Profiler";case V:return"StrictMode";case se:return"Suspense";case K:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case B:return r.displayName||"Context";case G:return(r._context.displayName||"Context")+".Consumer";case ie:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return s=r.displayName||null,s!==null?s:me(r.type)||"Memo";case L:s=r._payload,r=r._init;try{return me(r(s))}catch{}}return null}var he=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Pe=[],q=-1;function $(r){return{current:r}}function oe(r){0>q||(r.current=Pe[q],Pe[q]=null,q--)}function z(r,s){q++,Pe[q]=r.current,r.current=s}var _e=$(null),be=$(null),we=$(null),qe=$(null);function pt(r,s){switch(z(we,s),z(be,r),z(_e,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?P0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=P0(s),r=L0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}oe(_e),z(_e,r)}function at(){oe(_e),oe(be),oe(we)}function kn(r){r.memoizedState!==null&&z(qe,r);var s=_e.current,u=L0(s,r.type);s!==u&&(z(be,r),z(_e,u))}function Ei(r){be.current===r&&(oe(_e),oe(be)),qe.current===r&&(oe(qe),Du._currentValue=Te)}var ro,oo;function ti(r){if(ro===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ro=s&&s[1]||"",oo=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+r+oo}var so=!1;function zi(r,s){if(!r||so)return"";so=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var ee=ne}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ne){ee=ne}r.call(ce.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=h.DetermineComponentFrameRoot(),C=E[0],R=E[1];if(C&&R){var H=C.split(`
`),W=R.split(`
`);for(v=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;v<W.length&&!W[v].includes("DetermineComponentFrameRoot");)v++;if(h===H.length||v===W.length)for(h=H.length-1,v=W.length-1;1<=h&&0<=v&&H[h]!==W[v];)v--;for(;1<=h&&0<=v;h--,v--)if(H[h]!==W[v]){if(h!==1||v!==1)do if(h--,v--,0>v||H[h]!==W[v]){var re=`
`+H[h].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=h&&0<=v);break}}}finally{so=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ti(u):""}function ao(r,s){switch(r.tag){case 26:case 27:case 5:return ti(r.type);case 16:return ti("Lazy");case 13:return r.child!==s&&s!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return zi(r.type,!1);case 11:return zi(r.type.render,!1);case 1:return zi(r.type,!0);case 31:return ti("Activity");default:return""}}function cs(r){try{var s="",u=null;do s+=ao(r,u),u=r,r=r.return;while(r);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var kt=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,Bi=t.unstable_cancelCallback,Ul=t.unstable_shouldYield,aa=t.unstable_requestPaint,un=t.unstable_now,Sr=t.unstable_getCurrentPriorityLevel,ae=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,He=t.unstable_LowPriority,it=t.unstable_IdlePriority,_n=t.log,ni=t.unstable_setDisableYieldValue,Ut=null,Mt=null;function rn(r){if(typeof _n=="function"&&ni(r),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Ut,r)}catch{}}var We=Math.clz32?Math.clz32:Lc,Ti=Math.log,vn=Math.LN2;function Lc(r){return r>>>=0,r===0?32:31-(Ti(r)/vn|0)|0}var qi=256,fs=262144,qt=4194304;function Hi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Gi(r,s,u){var h=r.pendingLanes;if(h===0)return 0;var v=0,E=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var R=h&134217727;return R!==0?(h=R&~E,h!==0?v=Hi(h):(C&=R,C!==0?v=Hi(C):u||(u=R&~r,u!==0&&(v=Hi(u))))):(R=h&~E,R!==0?v=Hi(R):C!==0?v=Hi(C):u||(u=h&~r,u!==0&&(v=Hi(u)))),v===0?0:s!==0&&s!==v&&(s&E)===0&&(E=v&-v,u=s&-s,E>=u||E===32&&(u&4194048)!==0)?s:v}function Si(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Fh(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vc(){var r=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),r}function $i(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function ds(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function zh(r,s,u,h,v,E){var C=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var R=r.entanglements,H=r.expirationTimes,W=r.hiddenUpdates;for(u=C&~u;0<u;){var re=31-We(u),ce=1<<re;R[re]=0,H[re]=-1;var ee=W[re];if(ee!==null)for(W[re]=null,re=0;re<ee.length;re++){var ne=ee[re];ne!==null&&(ne.lane&=-536870913)}u&=~ce}h!==0&&hs(r,h,0),E!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=E&~(C&~s))}function hs(r,s,u){r.pendingLanes|=s,r.suspendedLanes&=~s;var h=31-We(s);r.entangledLanes|=s,r.entanglements[h]=r.entanglements[h]|1073741824|u&261930}function Ol(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var h=31-We(u),v=1<<h;v&s|r[h]&s&&(r[h]|=s),u&=~v}}function Fl(r,s){var u=s&-s;return u=(u&42)!==0?1:ps(u),(u&(r.suspendedLanes|s))!==0?0:u}function ps(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ar(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Uc(){var r=de.p;return r!==0?r:(r=window.event,r===void 0?32:rT(r.type))}function Ai(r,s){var u=de.p;try{return de.p=r,s()}finally{de.p=u}}var Ci=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Ci,on="__reactProps$"+Ci,Yi="__reactContainer$"+Ci,la="__reactEvents$"+Ci,Bh="__reactListeners$"+Ci,Oc="__reactHandles$"+Ci,Fc="__reactResources$"+Ci,Ki="__reactMarker$"+Ci;function ua(r){delete r[Ht],delete r[on],delete r[la],delete r[Bh],delete r[Oc]}function Ji(r){var s=r[Ht];if(s)return s;for(var u=r.parentNode;u;){if(s=u[Yi]||u[Ht]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=q0(r);r!==null;){if(u=r[Ht])return u;r=q0(r)}return s}r=u,u=r.parentNode}return null}function ii(r){if(r=r[Ht]||r[Yi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Hn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Qi(r){var s=r[Fc];return s||(s=r[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(r){r[Ki]=!0}var zl=new Set,Bl={};function ji(r,s){Xi(r,s),Xi(r+"Capture",s)}function Xi(r,s){for(Bl[r]=s,r=0;r<s.length;r++)zl.add(s[r])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},Gl={};function zc(r){return kt.call(Gl,r)?!0:kt.call(Hl,r)?!1:ql.test(r)?Gl[r]=!0:(Hl[r]=!0,!1)}function ca(r,s,u){if(zc(s))if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+u)}}function Gn(r,s,u){if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+u)}}function $t(r,s,u,h){if(h===null)r.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(s,u,""+h)}}function sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function lo(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $l(r,s,u){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,E=h.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(C){u=""+C,E.call(this,C)}}),Object.defineProperty(r,s,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ft(r){if(!r._valueTracker){var s=lo(r)?"checked":"value";r._valueTracker=$l(r,s,""+r[s])}}function ms(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return r&&(h=lo(r)?r.checked?"true":"false":r.value),r=h,r!==u?(s.setValue(r),!0):!1}function Wi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var gs=/[\n"\\]/g;function Mn(r){return r.replace(gs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function fa(r,s,u,h,v,E,C,R){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),s!=null?C==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+sn(s)):r.value!==""+sn(s)&&(r.value=""+sn(s)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),s!=null?Yl(r,C,sn(s)):u!=null?Yl(r,C,sn(u)):h!=null&&r.removeAttribute("value"),v==null&&E!=null&&(r.defaultChecked=!!E),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+sn(R):r.removeAttribute("name")}function Bc(r,s,u,h,v,E,C,R){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.type=E),s!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||s!=null)){ft(r);return}u=u!=null?""+sn(u):"",s=s!=null?""+sn(s):u,R||s===r.value||(r.value=s),r.defaultValue=s}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=R?r.checked:!!h,r.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C),ft(r)}function Yl(r,s,u){s==="number"&&Wi(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function uo(r,s,u,h){if(r=r.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=s.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&h&&(r[u].defaultSelected=!0)}else{for(u=""+sn(u),s=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,h&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function qc(r,s,u){if(s!=null&&(s=""+sn(s),s!==r.value&&(r.value=s),u==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=u!=null?""+sn(u):""}function co(r,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(i(92));if(he(h)){if(1<h.length)throw Error(i(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=sn(s),r.defaultValue=u,h=r.textContent,h===u&&h!==""&&h!==null&&(r.value=h),ft(r)}function Dn(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var Hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(r,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":h?r.setProperty(s,u):typeof u!="number"||u===0||Hc.has(s)?s==="float"?r.cssFloat=u:r[s]=(""+u).trim():r[s]=u+"px"}function Jl(r,s,u){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var v in s)h=s[v],s.hasOwnProperty(v)&&u[v]!==h&&Kl(r,v,h)}else for(var E in s)s.hasOwnProperty(E)&&Kl(r,E,s[E])}function da(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(r){return fo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function wi(){}var Ql=null;function ri(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ho=null,Zi=null;function ys(r){var s=ii(r);if(s&&(r=s.stateNode)){var u=r[on]||null;e:switch(r=s.stateNode,s.type){case"input":if(fa(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==r&&h.form===r.form){var v=h[on]||null;if(!v)throw Error(i(90));fa(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===r.form&&ms(h)}break e;case"textarea":qc(r,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&uo(r,!!u.multiple,s,!1)}}}var pa=!1;function po(r,s,u){if(pa)return r(s,u);pa=!0;try{var h=r(s);return h}finally{if(pa=!1,(ho!==null||Zi!==null)&&(Of(),ho&&(s=ho,r=Zi,Zi=ho=null,ys(s),r)))for(s=0;s<r.length;s++)ys(r[s])}}function xi(r,s){var u=r.stateNode;if(u===null)return null;var h=u[on]||null;if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,s,typeof u));return u}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(oi)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){_s=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{_s=!1}var er=null,jl=null,vs=null;function Xl(){if(vs)return vs;var r,s=jl,u=s.length,h,v="value"in er?er.value:er.textContent,E=v.length;for(r=0;r<u&&s[r]===v[r];r++);var C=u-r;for(h=1;h<=C&&s[u-h]===v[E-h];h++);return vs=v.slice(r,1<h?1-h:void 0)}function Es(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Cr(){return!0}function Ii(){return!1}function cn(r){function s(u,h,v,E,C){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=E,this.target=C,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(u=r[R],this[R]=u?u(E):E[R]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Cr:Ii,this.isPropagationStopped=Ii,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),s}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=cn(wr),mo=_({},wr,{view:0,detail:0}),Wl=cn(mo),go,ma,nr,ga=_({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==nr&&(nr&&r.type==="mousemove"?(go=r.screenX-nr.screenX,ma=r.screenY-nr.screenY):ma=go=0,nr=r),go)},movementY:function(r){return"movementY"in r?r.movementY:ma}}),Zl=cn(ga),Ts=_({},ga,{dataTransfer:0}),$c=cn(Ts),Yc=_({},mo,{relatedTarget:0}),Ss=cn(Yc),eu=_({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=cn(eu),ya=_({},wr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Jc=cn(ya),Qc=_({},wr,{data:0}),ir=cn(Qc),jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Wc[r])?!!s[r]:!1}function yo(){return Zc}var bn=_({},mo,{key:function(r){if(r.key){var s=jc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Es(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(r){return r.type==="keypress"?Es(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Es(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ef=cn(bn),tf=_({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=cn(tf),y=_({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),A=cn(y),x=_({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=cn(x),j=_({},ga,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=cn(j),ye=_({},wr,{newState:0,oldState:0}),Oe=cn(ye),Ot=[9,13,27,32],lt=oi&&"CompositionEvent"in window,It=null;oi&&"documentMode"in document&&(It=document.documentMode);var si=oi&&"TextEvent"in window&&!It,rr=oi&&(!lt||It&&8<It&&11>=It),bi=" ",Ri=!1;function As(r,s){switch(r){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var va=!1;function Wb(r,s){switch(r){case"compositionend":return _a(s);case"keypress":return s.which!==32?null:(Ri=!0,bi);case"textInput":return r=s.data,r===bi&&Ri?null:r;default:return null}}function Zb(r,s){if(va)return r==="compositionend"||!lt&&As(r,s)?(r=Xl(),vs=jl=er=null,va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rr&&s.locale!=="ko"?null:s.data;default:return null}}var eR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $_(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!eR[r.type]:s==="textarea"}function Y_(r,s,u,h){ho?Zi?Zi.push(h):Zi=[h]:ho=h,s=$f(s,"onChange"),0<s.length&&(u=new tr("onChange","change",null,u,h),r.push({event:u,listeners:s}))}var tu=null,nu=null;function tR(r){b0(r,0)}function nf(r){var s=Hn(r);if(ms(s))return r}function K_(r,s){if(r==="change")return s}var J_=!1;if(oi){var qh;if(oi){var Hh="oninput"in document;if(!Hh){var Q_=document.createElement("div");Q_.setAttribute("oninput","return;"),Hh=typeof Q_.oninput=="function"}qh=Hh}else qh=!1;J_=qh&&(!document.documentMode||9<document.documentMode)}function j_(){tu&&(tu.detachEvent("onpropertychange",X_),nu=tu=null)}function X_(r){if(r.propertyName==="value"&&nf(nu)){var s=[];Y_(s,nu,r,ri(r)),po(tR,s)}}function nR(r,s,u){r==="focusin"?(j_(),tu=s,nu=u,tu.attachEvent("onpropertychange",X_)):r==="focusout"&&j_()}function iR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nf(nu)}function rR(r,s){if(r==="click")return nf(s)}function oR(r,s){if(r==="input"||r==="change")return nf(s)}function sR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:sR;function iu(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!kt.call(s,v)||!$n(r[v],s[v]))return!1}return!0}function W_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Z_(r,s){var u=W_(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=s&&h>=s)return{node:u,offset:s-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=W_(u)}}function ev(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ev(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function tv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Wi(r.document);s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Wi(r.document)}return s}function Gh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var aR=oi&&"documentMode"in document&&11>=document.documentMode,Ea=null,$h=null,ru=null,Yh=!1;function nv(r,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Yh||Ea==null||Ea!==Wi(h)||(h=Ea,"selectionStart"in h&&Gh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ru&&iu(ru,h)||(ru=h,h=$f($h,"onSelect"),0<h.length&&(s=new tr("onSelect","select",null,s,u),r.push({event:s,listeners:h}),s.target=Ea)))}function Cs(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var Ta={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Kh={},iv={};oi&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ws(r){if(Kh[r])return Kh[r];if(!Ta[r])return r;var s=Ta[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in iv)return Kh[r]=s[u];return r}var rv=ws("animationend"),ov=ws("animationiteration"),sv=ws("animationstart"),lR=ws("transitionrun"),uR=ws("transitionstart"),cR=ws("transitioncancel"),av=ws("transitionend"),lv=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Ni(r,s){lv.set(r,s),ji(s,[r])}var rf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ai=[],Sa=0,Qh=0;function of(){for(var r=Sa,s=Qh=Sa=0;s<r;){var u=ai[s];ai[s++]=null;var h=ai[s];ai[s++]=null;var v=ai[s];ai[s++]=null;var E=ai[s];if(ai[s++]=null,h!==null&&v!==null){var C=h.pending;C===null?v.next=v:(v.next=C.next,C.next=v),h.pending=v}E!==0&&uv(u,v,E)}}function sf(r,s,u,h){ai[Sa++]=r,ai[Sa++]=s,ai[Sa++]=u,ai[Sa++]=h,Qh|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function jh(r,s,u,h){return sf(r,s,u,h),af(r)}function xs(r,s){return sf(r,null,null,s),af(r)}function uv(r,s,u){r.lanes|=u;var h=r.alternate;h!==null&&(h.lanes|=u);for(var v=!1,E=r.return;E!==null;)E.childLanes|=u,h=E.alternate,h!==null&&(h.childLanes|=u),E.tag===22&&(r=E.stateNode,r===null||r._visibility&1||(v=!0)),r=E,E=E.return;return r.tag===3?(E=r.stateNode,v&&s!==null&&(v=31-We(u),r=E.hiddenUpdates,h=r[v],h===null?r[v]=[s]:h.push(s),s.lane=u|536870912),E):null}function af(r){if(50<xu)throw xu=0,om=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Aa={};function fR(r,s,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,s,u,h){return new fR(r,s,u,h)}function Xh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ir(r,s){var u=r.alternate;return u===null?(u=Yn(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function cv(r,s){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,s=u.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function lf(r,s,u,h,v,E){var C=0;if(h=r,typeof r=="function")Xh(r)&&(C=1);else if(typeof r=="string")C=gN(r,u,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Yn(31,u,s,v),r.elementType=D,r.lanes=E,r;case k:return Is(u.children,v,E,s);case V:C=8,v|=24;break;case U:return r=Yn(12,u,s,v|2),r.elementType=U,r.lanes=E,r;case se:return r=Yn(13,u,s,v),r.elementType=se,r.lanes=E,r;case K:return r=Yn(19,u,s,v),r.elementType=K,r.lanes=E,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:C=10;break e;case G:C=9;break e;case ie:C=11;break e;case P:C=14;break e;case L:C=16,h=null;break e}C=29,u=Error(i(130,r===null?"null":typeof r,"")),h=null}return s=Yn(C,u,s,v),s.elementType=r,s.type=h,s.lanes=E,s}function Is(r,s,u,h){return r=Yn(7,r,h,s),r.lanes=u,r}function Wh(r,s,u){return r=Yn(6,r,null,s),r.lanes=u,r}function fv(r){var s=Yn(18,null,null,0);return s.stateNode=r,s}function Zh(r,s,u){return s=Yn(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var dv=new WeakMap;function li(r,s){if(typeof r=="object"&&r!==null){var u=dv.get(r);return u!==void 0?u:(s={value:r,source:s,stack:cs(s)},dv.set(r,s),s)}return{value:r,source:s,stack:cs(s)}}var Ca=[],wa=0,uf=null,ou=0,ui=[],ci=0,_o=null,or=1,sr="";function br(r,s){Ca[wa++]=ou,Ca[wa++]=uf,uf=r,ou=s}function hv(r,s,u){ui[ci++]=or,ui[ci++]=sr,ui[ci++]=_o,_o=r;var h=or;r=sr;var v=32-We(h)-1;h&=~(1<<v),u+=1;var E=32-We(s)+v;if(30<E){var C=v-v%5;E=(h&(1<<C)-1).toString(32),h>>=C,v-=C,or=1<<32-We(s)+v|u<<v|h,sr=E+r}else or=1<<E|u<<v|h,sr=r}function ep(r){r.return!==null&&(br(r,1),hv(r,1,0))}function tp(r){for(;r===uf;)uf=Ca[--wa],Ca[wa]=null,ou=Ca[--wa],Ca[wa]=null;for(;r===_o;)_o=ui[--ci],ui[ci]=null,sr=ui[--ci],ui[ci]=null,or=ui[--ci],ui[ci]=null}function pv(r,s){ui[ci++]=or,ui[ci++]=sr,ui[ci++]=_o,or=s.id,sr=s.overflow,_o=r}var fn=null,At=null,Ze=!1,vo=null,fi=!1,np=Error(i(519));function Eo(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(li(s,r)),np}function mv(r){var s=r.stateNode,u=r.type,h=r.memoizedProps;switch(s[Ht]=r,s[on]=h,u){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(u=0;u<bu.length;u++)$e(bu[u],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),Bc(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),co(s,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||M0(s.textContent,u)?(h.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),h.onScroll!=null&&$e("scroll",s),h.onScrollEnd!=null&&$e("scrollend",s),h.onClick!=null&&(s.onclick=wi),s=!0):s=!1,s||Eo(r,!0)}function gv(r){for(fn=r.return;fn;)switch(fn.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:fn=fn.return}}function xa(r){if(r!==fn)return!1;if(!Ze)return gv(r),Ze=!0,!1;var s=r.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Em(r.type,r.memoizedProps)),u=!u),u&&At&&Eo(r),gv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));At=B0(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));At=B0(r)}else s===27?(s=At,Po(r.type)?(r=wm,wm=null,At=r):At=s):At=fn?hi(r.stateNode.nextSibling):null;return!0}function bs(){At=fn=null,Ze=!1}function ip(){var r=vo;return r!==null&&(Un===null?Un=r:Un.push.apply(Un,r),vo=null),r}function su(r){vo===null?vo=[r]:vo.push(r)}var rp=$(null),Rs=null,Rr=null;function To(r,s,u){z(rp,s._currentValue),s._currentValue=u}function Nr(r){r._currentValue=rp.current,oe(rp)}function op(r,s,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===u)break;r=r.return}}function sp(r,s,u,h){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var E=v.dependencies;if(E!==null){var C=v.child;E=E.firstContext;e:for(;E!==null;){var R=E;E=v;for(var H=0;H<s.length;H++)if(R.context===s[H]){E.lanes|=u,R=E.alternate,R!==null&&(R.lanes|=u),op(E.return,u,r),h||(C=null);break e}E=R.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=u,E=C.alternate,E!==null&&(E.lanes|=u),op(C,u,r),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===r){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function Ia(r,s,u,h){r=null;for(var v=s,E=!1;v!==null;){if(!E){if((v.flags&524288)!==0)E=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var R=v.type;$n(v.pendingProps.value,C.value)||(r!==null?r.push(R):r=[R])}}else if(v===qe.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Du):r=[Du])}v=v.return}r!==null&&sp(s,r,u,h),s.flags|=262144}function cf(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ns(r){Rs=r,Rr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return yv(Rs,r)}function ff(r,s){return Rs===null&&Ns(r),yv(r,s)}function yv(r,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Rr===null){if(r===null)throw Error(i(308));Rr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Rr=Rr.next=s;return u}var dR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(u,h){r.push(h)}};this.abort=function(){s.aborted=!0,r.forEach(function(u){return u()})}},hR=t.unstable_scheduleCallback,pR=t.unstable_NormalPriority,Yt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ap(){return{controller:new dR,data:new Map,refCount:0}}function au(r){r.refCount--,r.refCount===0&&hR(pR,function(){r.controller.abort()})}var lu=null,lp=0,ba=0,Ra=null;function mR(r,s){if(lu===null){var u=lu=[];lp=0,ba=fm(),Ra={status:"pending",value:void 0,then:function(h){u.push(h)}}}return lp++,s.then(_v,_v),s}function _v(){if(--lp===0&&lu!==null){Ra!==null&&(Ra.status="fulfilled");var r=lu;lu=null,ba=0,Ra=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function gR(r,s){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return r.then(function(){h.status="fulfilled",h.value=s;for(var v=0;v<u.length;v++)(0,u[v])(s)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var vv=Q.S;Q.S=function(r,s){n0=un(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mR(r,s),vv!==null&&vv(r,s)};var ks=$(null);function up(){var r=ks.current;return r!==null?r:vt.pooledCache}function df(r,s){s===null?z(ks,ks.current):z(ks,s.pool)}function Ev(){var r=up();return r===null?null:{parent:Yt._currentValue,pool:r}}var Na=Error(i(460)),cp=Error(i(474)),hf=Error(i(542)),pf={then:function(){}};function Tv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Sv(r,s,u){switch(u=r[u],u===void 0?r.push(s):u!==s&&(s.then(wi,wi),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Cv(r),r;default:if(typeof s.status=="string")s.then(wi,wi);else{if(r=vt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(h){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=h}},function(h){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Cv(r),r}throw Ds=s,Na}}function Ms(r){try{var s=r._init;return s(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ds=u,Na):u}}var Ds=null;function Av(){if(Ds===null)throw Error(i(459));var r=Ds;return Ds=null,r}function Cv(r){if(r===Na||r===hf)throw Error(i(483))}var ka=null,uu=0;function mf(r){var s=uu;return uu+=1,ka===null&&(ka=[]),Sv(ka,r,s)}function cu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function gf(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function wv(r){function s(J,Y){if(r){var X=J.deletions;X===null?(J.deletions=[Y],J.flags|=16):X.push(Y)}}function u(J,Y){if(!r)return null;for(;Y!==null;)s(J,Y),Y=Y.sibling;return null}function h(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function v(J,Y){return J=Ir(J,Y),J.index=0,J.sibling=null,J}function E(J,Y,X){return J.index=X,r?(X=J.alternate,X!==null?(X=X.index,X<Y?(J.flags|=67108866,Y):X):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function C(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function R(J,Y,X,le){return Y===null||Y.tag!==6?(Y=Wh(X,J.mode,le),Y.return=J,Y):(Y=v(Y,X),Y.return=J,Y)}function H(J,Y,X,le){var xe=X.type;return xe===k?re(J,Y,X.props.children,le,X.key):Y!==null&&(Y.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&Ms(xe)===Y.type)?(Y=v(Y,X.props),cu(Y,X),Y.return=J,Y):(Y=lf(X.type,X.key,X.props,null,J.mode,le),cu(Y,X),Y.return=J,Y)}function W(J,Y,X,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==X.containerInfo||Y.stateNode.implementation!==X.implementation?(Y=Zh(X,J.mode,le),Y.return=J,Y):(Y=v(Y,X.children||[]),Y.return=J,Y)}function re(J,Y,X,le,xe){return Y===null||Y.tag!==7?(Y=Is(X,J.mode,le,xe),Y.return=J,Y):(Y=v(Y,X),Y.return=J,Y)}function ce(J,Y,X){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Wh(""+Y,J.mode,X),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return X=lf(Y.type,Y.key,Y.props,null,J.mode,X),cu(X,Y),X.return=J,X;case I:return Y=Zh(Y,J.mode,X),Y.return=J,Y;case L:return Y=Ms(Y),ce(J,Y,X)}if(he(Y)||O(Y))return Y=Is(Y,J.mode,X,null),Y.return=J,Y;if(typeof Y.then=="function")return ce(J,mf(Y),X);if(Y.$$typeof===B)return ce(J,ff(J,Y),X);gf(J,Y)}return null}function ee(J,Y,X,le){var xe=Y!==null?Y.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return xe!==null?null:R(J,Y,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===xe?H(J,Y,X,le):null;case I:return X.key===xe?W(J,Y,X,le):null;case L:return X=Ms(X),ee(J,Y,X,le)}if(he(X)||O(X))return xe!==null?null:re(J,Y,X,le,null);if(typeof X.then=="function")return ee(J,Y,mf(X),le);if(X.$$typeof===B)return ee(J,Y,ff(J,X),le);gf(J,X)}return null}function ne(J,Y,X,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return J=J.get(X)||null,R(Y,J,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case S:return J=J.get(le.key===null?X:le.key)||null,H(Y,J,le,xe);case I:return J=J.get(le.key===null?X:le.key)||null,W(Y,J,le,xe);case L:return le=Ms(le),ne(J,Y,X,le,xe)}if(he(le)||O(le))return J=J.get(X)||null,re(Y,J,le,xe,null);if(typeof le.then=="function")return ne(J,Y,X,mf(le),xe);if(le.$$typeof===B)return ne(J,Y,X,ff(Y,le),xe);gf(Y,le)}return null}function Ae(J,Y,X,le){for(var xe=null,rt=null,Ce=Y,ze=Y=0,Je=null;Ce!==null&&ze<X.length;ze++){Ce.index>ze?(Je=Ce,Ce=null):Je=Ce.sibling;var ot=ee(J,Ce,X[ze],le);if(ot===null){Ce===null&&(Ce=Je);break}r&&Ce&&ot.alternate===null&&s(J,Ce),Y=E(ot,Y,ze),rt===null?xe=ot:rt.sibling=ot,rt=ot,Ce=Je}if(ze===X.length)return u(J,Ce),Ze&&br(J,ze),xe;if(Ce===null){for(;ze<X.length;ze++)Ce=ce(J,X[ze],le),Ce!==null&&(Y=E(Ce,Y,ze),rt===null?xe=Ce:rt.sibling=Ce,rt=Ce);return Ze&&br(J,ze),xe}for(Ce=h(Ce);ze<X.length;ze++)Je=ne(Ce,J,ze,X[ze],le),Je!==null&&(r&&Je.alternate!==null&&Ce.delete(Je.key===null?ze:Je.key),Y=E(Je,Y,ze),rt===null?xe=Je:rt.sibling=Je,rt=Je);return r&&Ce.forEach(function(Fo){return s(J,Fo)}),Ze&&br(J,ze),xe}function ke(J,Y,X,le){if(X==null)throw Error(i(151));for(var xe=null,rt=null,Ce=Y,ze=Y=0,Je=null,ot=X.next();Ce!==null&&!ot.done;ze++,ot=X.next()){Ce.index>ze?(Je=Ce,Ce=null):Je=Ce.sibling;var Fo=ee(J,Ce,ot.value,le);if(Fo===null){Ce===null&&(Ce=Je);break}r&&Ce&&Fo.alternate===null&&s(J,Ce),Y=E(Fo,Y,ze),rt===null?xe=Fo:rt.sibling=Fo,rt=Fo,Ce=Je}if(ot.done)return u(J,Ce),Ze&&br(J,ze),xe;if(Ce===null){for(;!ot.done;ze++,ot=X.next())ot=ce(J,ot.value,le),ot!==null&&(Y=E(ot,Y,ze),rt===null?xe=ot:rt.sibling=ot,rt=ot);return Ze&&br(J,ze),xe}for(Ce=h(Ce);!ot.done;ze++,ot=X.next())ot=ne(Ce,J,ze,ot.value,le),ot!==null&&(r&&ot.alternate!==null&&Ce.delete(ot.key===null?ze:ot.key),Y=E(ot,Y,ze),rt===null?xe=ot:rt.sibling=ot,rt=ot);return r&&Ce.forEach(function(IN){return s(J,IN)}),Ze&&br(J,ze),xe}function _t(J,Y,X,le){if(typeof X=="object"&&X!==null&&X.type===k&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var xe=X.key;Y!==null;){if(Y.key===xe){if(xe=X.type,xe===k){if(Y.tag===7){u(J,Y.sibling),le=v(Y,X.props.children),le.return=J,J=le;break e}}else if(Y.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&Ms(xe)===Y.type){u(J,Y.sibling),le=v(Y,X.props),cu(le,X),le.return=J,J=le;break e}u(J,Y);break}else s(J,Y);Y=Y.sibling}X.type===k?(le=Is(X.props.children,J.mode,le,X.key),le.return=J,J=le):(le=lf(X.type,X.key,X.props,null,J.mode,le),cu(le,X),le.return=J,J=le)}return C(J);case I:e:{for(xe=X.key;Y!==null;){if(Y.key===xe)if(Y.tag===4&&Y.stateNode.containerInfo===X.containerInfo&&Y.stateNode.implementation===X.implementation){u(J,Y.sibling),le=v(Y,X.children||[]),le.return=J,J=le;break e}else{u(J,Y);break}else s(J,Y);Y=Y.sibling}le=Zh(X,J.mode,le),le.return=J,J=le}return C(J);case L:return X=Ms(X),_t(J,Y,X,le)}if(he(X))return Ae(J,Y,X,le);if(O(X)){if(xe=O(X),typeof xe!="function")throw Error(i(150));return X=xe.call(X),ke(J,Y,X,le)}if(typeof X.then=="function")return _t(J,Y,mf(X),le);if(X.$$typeof===B)return _t(J,Y,ff(J,X),le);gf(J,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,Y!==null&&Y.tag===6?(u(J,Y.sibling),le=v(Y,X),le.return=J,J=le):(u(J,Y),le=Wh(X,J.mode,le),le.return=J,J=le),C(J)):u(J,Y)}return function(J,Y,X,le){try{uu=0;var xe=_t(J,Y,X,le);return ka=null,xe}catch(Ce){if(Ce===Na||Ce===hf)throw Ce;var rt=Yn(29,Ce,null,J.mode);return rt.lanes=le,rt.return=J,rt}finally{}}}var Ps=wv(!0),xv=wv(!1),So=!1;function fp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ao(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Co(r,s,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(ut&2)!==0){var v=h.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),h.pending=s,s=af(r),uv(r,null,u),s}return sf(r,h,s,u),af(r)}function fu(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=r.pendingLanes,u|=h,s.lanes=u,Ol(r,u)}}function hp(r,s){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?v=E=C:E=E.next=C,u=u.next}while(u!==null);E===null?v=E=s:E=E.next=s}else v=E=s;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:h.shared,callbacks:h.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}var pp=!1;function du(){if(pp){var r=Ra;if(r!==null)throw r}}function hu(r,s,u,h){pp=!1;var v=r.updateQueue;So=!1;var E=v.firstBaseUpdate,C=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var H=R,W=H.next;H.next=null,C===null?E=W:C.next=W,C=H;var re=r.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==C&&(R===null?re.firstBaseUpdate=W:R.next=W,re.lastBaseUpdate=H))}if(E!==null){var ce=v.baseState;C=0,re=W=H=null,R=E;do{var ee=R.lane&-536870913,ne=ee!==R.lane;if(ne?(Ke&ee)===ee:(h&ee)===ee){ee!==0&&ee===ba&&(pp=!0),re!==null&&(re=re.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ae=r,ke=R;ee=s;var _t=u;switch(ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){ce=Ae.call(_t,ce,ee);break e}ce=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,ee=typeof Ae=="function"?Ae.call(_t,ce,ee):Ae,ee==null)break e;ce=_({},ce,ee);break e;case 2:So=!0}}ee=R.callback,ee!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(W=re=ne,H=ce):re=re.next=ne,C|=ee;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);re===null&&(H=ce),v.baseState=H,v.firstBaseUpdate=W,v.lastBaseUpdate=re,E===null&&(v.shared.lanes=0),Ro|=C,r.lanes=C,r.memoizedState=ce}}function Iv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function bv(r,s){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Iv(u[r],s)}var Ma=$(null),yf=$(0);function Rv(r,s){r=Fr,z(yf,r),z(Ma,s),Fr=r|s.baseLanes}function mp(){z(yf,Fr),z(Ma,Ma.current)}function gp(){Fr=yf.current,oe(Ma),oe(yf)}var Kn=$(null),di=null;function wo(r){var s=r.alternate;z(Ft,Ft.current&1),z(Kn,r),di===null&&(s===null||Ma.current!==null||s.memoizedState!==null)&&(di=r)}function yp(r){z(Ft,Ft.current),z(Kn,r),di===null&&(di=r)}function Nv(r){r.tag===22?(z(Ft,Ft.current),z(Kn,r),di===null&&(di=r)):xo()}function xo(){z(Ft,Ft.current),z(Kn,Kn.current)}function Jn(r){oe(Kn),di===r&&(di=null),oe(Ft)}var Ft=$(0);function _f(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Am(u)||Cm(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kr=0,Fe=null,gt=null,Kt=null,vf=!1,Da=!1,Ls=!1,Ef=0,pu=0,Pa=null,yR=0;function Lt(){throw Error(i(321))}function _p(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!$n(r[u],s[u]))return!1;return!0}function vp(r,s,u,h,v,E){return kr=E,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=r===null||r.memoizedState===null?hE:Pp,Ls=!1,E=u(h,v),Ls=!1,Da&&(E=Mv(s,u,h,v)),kv(r),E}function kv(r){Q.H=yu;var s=gt!==null&&gt.next!==null;if(kr=0,Kt=gt=Fe=null,vf=!1,pu=0,Pa=null,s)throw Error(i(300));r===null||Jt||(r=r.dependencies,r!==null&&cf(r)&&(Jt=!0))}function Mv(r,s,u,h){Fe=r;var v=0;do{if(Da&&(Pa=null),pu=0,Da=!1,25<=v)throw Error(i(301));if(v+=1,Kt=gt=null,r.updateQueue!=null){var E=r.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Q.H=pE,E=s(u,h)}while(Da);return E}function _R(){var r=Q.H,s=r.useState()[0];return s=typeof s.then=="function"?mu(s):s,r=r.useState()[0],(gt!==null?gt.memoizedState:null)!==r&&(Fe.flags|=1024),s}function Ep(){var r=Ef!==0;return Ef=0,r}function Tp(r,s,u){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~u}function Sp(r){if(vf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vf=!1}kr=0,Kt=gt=Fe=null,Da=!1,pu=Ef=0,Pa=null}function Rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Fe.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function zt(){if(gt===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var s=Kt===null?Fe.memoizedState:Kt.next;if(s!==null)Kt=s,gt=r;else{if(r===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Kt===null?Fe.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(r){var s=pu;return pu+=1,Pa===null&&(Pa=[]),r=Sv(Pa,r,s),s=Fe,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?hE:Pp),r}function Sf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return mu(r);if(r.$$typeof===B)return dn(r)}throw Error(i(438,String(r)))}function Ap(r){var s=null,u=Fe.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=Fe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Tf(),Fe.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(r),h=0;h<r;h++)u[h]=b;return s.index++,u}function Mr(r,s){return typeof s=="function"?s(r):s}function Af(r){var s=zt();return Cp(s,gt,r)}function Cp(r,s,u){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=u;var v=r.baseQueue,E=h.pending;if(E!==null){if(v!==null){var C=v.next;v.next=E.next,E.next=C}s.baseQueue=v=E,h.pending=null}if(E=r.baseState,v===null)r.memoizedState=E;else{s=v.next;var R=C=null,H=null,W=s,re=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(Ke&ce)===ce:(kr&ce)===ce){var ee=W.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===ba&&(re=!0);else if((kr&ee)===ee){W=W.next,ee===ba&&(re=!0);continue}else ce={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(R=H=ce,C=E):H=H.next=ce,Fe.lanes|=ee,Ro|=ee;ce=W.action,Ls&&u(E,ce),E=W.hasEagerState?W.eagerState:u(E,ce)}else ee={lane:ce,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(R=H=ee,C=E):H=H.next=ee,Fe.lanes|=ce,Ro|=ce;W=W.next}while(W!==null&&W!==s);if(H===null?C=E:H.next=R,!$n(E,r.memoizedState)&&(Jt=!0,re&&(u=Ra,u!==null)))throw u;r.memoizedState=E,r.baseState=C,r.baseQueue=H,h.lastRenderedState=E}return v===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function wp(r){var s=zt(),u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var h=u.dispatch,v=u.pending,E=s.memoizedState;if(v!==null){u.pending=null;var C=v=v.next;do E=r(E,C.action),C=C.next;while(C!==v);$n(E,s.memoizedState)||(Jt=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),u.lastRenderedState=E}return[E,h]}function Dv(r,s,u){var h=Fe,v=zt(),E=Ze;if(E){if(u===void 0)throw Error(i(407));u=u()}else u=s();var C=!$n((gt||v).memoizedState,u);if(C&&(v.memoizedState=u,Jt=!0),v=v.queue,bp(Vv.bind(null,h,v,r),[r]),v.getSnapshot!==s||C||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,La(9,{destroy:void 0},Lv.bind(null,h,v,u,s),null),vt===null)throw Error(i(349));E||(kr&127)!==0||Pv(h,s,u)}return u}function Pv(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=Fe.updateQueue,s===null?(s=Tf(),Fe.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Lv(r,s,u,h){s.value=u,s.getSnapshot=h,Uv(s)&&Ov(r)}function Vv(r,s,u){return u(function(){Uv(s)&&Ov(r)})}function Uv(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!$n(r,u)}catch{return!0}}function Ov(r){var s=xs(r,2);s!==null&&On(s,r,2)}function xp(r){var s=Rn();if(typeof r=="function"){var u=r;if(r=u(),Ls){rn(!0);try{u()}finally{rn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:r},s}function Fv(r,s,u,h){return r.baseState=u,Cp(r,gt,typeof h=="function"?h:Mr)}function vR(r,s,u,h,v){if(xf(r))throw Error(i(485));if(r=s.action,r!==null){var E={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){E.listeners.push(C)}};Q.T!==null?u(!0):E.isTransition=!1,h(E),u=s.pending,u===null?(E.next=s.pending=E,zv(s,E)):(E.next=u.next,s.pending=u.next=E)}}function zv(r,s){var u=s.action,h=s.payload,v=r.state;if(s.isTransition){var E=Q.T,C={};Q.T=C;try{var R=u(v,h),H=Q.S;H!==null&&H(C,R),Bv(r,s,R)}catch(W){Ip(r,s,W)}finally{E!==null&&C.types!==null&&(E.types=C.types),Q.T=E}}else try{E=u(v,h),Bv(r,s,E)}catch(W){Ip(r,s,W)}}function Bv(r,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){qv(r,s,h)},function(h){return Ip(r,s,h)}):qv(r,s,u)}function qv(r,s,u){s.status="fulfilled",s.value=u,Hv(s),r.state=u,s=r.pending,s!==null&&(u=s.next,u===s?r.pending=null:(u=u.next,s.next=u,zv(r,u)))}function Ip(r,s,u){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,Hv(s),s=s.next;while(s!==h)}r.action=null}function Hv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Gv(r,s){return s}function $v(r,s){if(Ze){var u=vt.formState;if(u!==null){e:{var h=Fe;if(Ze){if(At){t:{for(var v=At,E=fi;v.nodeType!==8;){if(!E){v=null;break t}if(v=hi(v.nextSibling),v===null){v=null;break t}}E=v.data,v=E==="F!"||E==="F"?v:null}if(v){At=hi(v.nextSibling),h=v.data==="F!";break e}}Eo(h)}h=!1}h&&(s=u[0])}}return u=Rn(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:s},u.queue=h,u=cE.bind(null,Fe,h),h.dispatch=u,h=xp(!1),E=Dp.bind(null,Fe,!1,h.queue),h=Rn(),v={state:s,dispatch:null,action:r,pending:null},h.queue=v,u=vR.bind(null,Fe,v,E,u),v.dispatch=u,h.memoizedState=r,[s,u,!1]}function Yv(r){var s=zt();return Kv(s,gt,r)}function Kv(r,s,u){if(s=Cp(r,s,Gv)[0],r=Af(Mr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=mu(s)}catch(C){throw C===Na?hf:C}else h=s;s=zt();var v=s.queue,E=v.dispatch;return u!==s.memoizedState&&(Fe.flags|=2048,La(9,{destroy:void 0},ER.bind(null,v,u),null)),[h,E,r]}function ER(r,s){r.action=s}function Jv(r){var s=zt(),u=gt;if(u!==null)return Kv(s,u,r);zt(),s=s.memoizedState,u=zt();var h=u.queue.dispatch;return u.memoizedState=r,[s,h,!1]}function La(r,s,u,h){return r={tag:r,create:u,deps:h,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=Tf(),Fe.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,s.lastEffect=r),r}function Qv(){return zt().memoizedState}function Cf(r,s,u,h){var v=Rn();Fe.flags|=r,v.memoizedState=La(1|s,{destroy:void 0},u,h===void 0?null:h)}function wf(r,s,u,h){var v=zt();h=h===void 0?null:h;var E=v.memoizedState.inst;gt!==null&&h!==null&&_p(h,gt.memoizedState.deps)?v.memoizedState=La(s,E,u,h):(Fe.flags|=r,v.memoizedState=La(1|s,E,u,h))}function jv(r,s){Cf(8390656,8,r,s)}function bp(r,s){wf(2048,8,r,s)}function TR(r){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=Tf(),Fe.updateQueue=s,s.events=[r];else{var u=s.events;u===null?s.events=[r]:u.push(r)}}function Xv(r){var s=zt().memoizedState;return TR({ref:s,nextImpl:r}),function(){if((ut&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Wv(r,s){return wf(4,2,r,s)}function Zv(r,s){return wf(4,4,r,s)}function eE(r,s){if(typeof s=="function"){r=r();var u=s(r);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function tE(r,s,u){u=u!=null?u.concat([r]):null,wf(4,4,eE.bind(null,s,r),u)}function Rp(){}function nE(r,s){var u=zt();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&_p(s,h[1])?h[0]:(u.memoizedState=[r,s],r)}function iE(r,s){var u=zt();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&_p(s,h[1]))return h[0];if(h=r(),Ls){rn(!0);try{r()}finally{rn(!1)}}return u.memoizedState=[h,s],h}function Np(r,s,u){return u===void 0||(kr&1073741824)!==0&&(Ke&261930)===0?r.memoizedState=s:(r.memoizedState=u,r=r0(),Fe.lanes|=r,Ro|=r,u)}function rE(r,s,u,h){return $n(u,s)?u:Ma.current!==null?(r=Np(r,u,h),$n(r,s)||(Jt=!0),r):(kr&42)===0||(kr&1073741824)!==0&&(Ke&261930)===0?(Jt=!0,r.memoizedState=u):(r=r0(),Fe.lanes|=r,Ro|=r,s)}function oE(r,s,u,h,v){var E=de.p;de.p=E!==0&&8>E?E:8;var C=Q.T,R={};Q.T=R,Dp(r,!1,s,u);try{var H=v(),W=Q.S;if(W!==null&&W(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=gR(H,h);gu(r,s,re,Xn(r))}else gu(r,s,h,Xn(r))}catch(ce){gu(r,s,{then:function(){},status:"rejected",reason:ce},Xn())}finally{de.p=E,C!==null&&R.types!==null&&(C.types=R.types),Q.T=C}}function SR(){}function kp(r,s,u,h){if(r.tag!==5)throw Error(i(476));var v=sE(r).queue;oE(r,v,s,Te,u===null?SR:function(){return aE(r),u(h)})}function sE(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:Te},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:u},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function aE(r){var s=sE(r);s.next===null&&(s=r.alternate.memoizedState),gu(r,s.next.queue,{},Xn())}function Mp(){return dn(Du)}function lE(){return zt().memoizedState}function uE(){return zt().memoizedState}function AR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var u=Xn();r=Ao(u);var h=Co(s,r,u);h!==null&&(On(h,s,u),fu(h,s,u)),s={cache:ap()},r.payload=s;return}s=s.return}}function CR(r,s,u){var h=Xn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xf(r)?fE(s,u):(u=jh(r,s,u,h),u!==null&&(On(u,r,h),dE(u,s,h)))}function cE(r,s,u){var h=Xn();gu(r,s,u,h)}function gu(r,s,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(xf(r))fE(s,v);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var C=s.lastRenderedState,R=E(C,u);if(v.hasEagerState=!0,v.eagerState=R,$n(R,C))return sf(r,s,v,0),vt===null&&of(),!1}catch{}finally{}if(u=jh(r,s,v,h),u!==null)return On(u,r,h),dE(u,s,h),!0}return!1}function Dp(r,s,u,h){if(h={lane:2,revertLane:fm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},xf(r)){if(s)throw Error(i(479))}else s=jh(r,u,h,2),s!==null&&On(s,r,2)}function xf(r){var s=r.alternate;return r===Fe||s!==null&&s===Fe}function fE(r,s){Da=vf=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function dE(r,s,u){if((u&4194048)!==0){var h=s.lanes;h&=r.pendingLanes,u|=h,s.lanes=u,Ol(r,u)}}var yu={readContext:dn,use:Sf,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};yu.useEffectEvent=Lt;var hE={readContext:dn,use:Sf,useCallback:function(r,s){return Rn().memoizedState=[r,s===void 0?null:s],r},useContext:dn,useEffect:jv,useImperativeHandle:function(r,s,u){u=u!=null?u.concat([r]):null,Cf(4194308,4,eE.bind(null,s,r),u)},useLayoutEffect:function(r,s){return Cf(4194308,4,r,s)},useInsertionEffect:function(r,s){Cf(4,2,r,s)},useMemo:function(r,s){var u=Rn();s=s===void 0?null:s;var h=r();if(Ls){rn(!0);try{r()}finally{rn(!1)}}return u.memoizedState=[h,s],h},useReducer:function(r,s,u){var h=Rn();if(u!==void 0){var v=u(s);if(Ls){rn(!0);try{u(s)}finally{rn(!1)}}}else v=s;return h.memoizedState=h.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},h.queue=r,r=r.dispatch=CR.bind(null,Fe,r),[h.memoizedState,r]},useRef:function(r){var s=Rn();return r={current:r},s.memoizedState=r},useState:function(r){r=xp(r);var s=r.queue,u=cE.bind(null,Fe,s);return s.dispatch=u,[r.memoizedState,u]},useDebugValue:Rp,useDeferredValue:function(r,s){var u=Rn();return Np(u,r,s)},useTransition:function(){var r=xp(!1);return r=oE.bind(null,Fe,r.queue,!0,!1),Rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,u){var h=Fe,v=Rn();if(Ze){if(u===void 0)throw Error(i(407));u=u()}else{if(u=s(),vt===null)throw Error(i(349));(Ke&127)!==0||Pv(h,s,u)}v.memoizedState=u;var E={value:u,getSnapshot:s};return v.queue=E,jv(Vv.bind(null,h,E,r),[r]),h.flags|=2048,La(9,{destroy:void 0},Lv.bind(null,h,E,u,s),null),u},useId:function(){var r=Rn(),s=vt.identifierPrefix;if(Ze){var u=sr,h=or;u=(h&~(1<<32-We(h)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Ef++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=yR++,s="_"+s+"r_"+u.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Mp,useFormState:$v,useActionState:$v,useOptimistic:function(r){var s=Rn();s.memoizedState=s.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Dp.bind(null,Fe,!0,u),u.dispatch=s,[r,s]},useMemoCache:Ap,useCacheRefresh:function(){return Rn().memoizedState=AR.bind(null,Fe)},useEffectEvent:function(r){var s=Rn(),u={impl:r};return s.memoizedState=u,function(){if((ut&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Pp={readContext:dn,use:Sf,useCallback:nE,useContext:dn,useEffect:bp,useImperativeHandle:tE,useInsertionEffect:Wv,useLayoutEffect:Zv,useMemo:iE,useReducer:Af,useRef:Qv,useState:function(){return Af(Mr)},useDebugValue:Rp,useDeferredValue:function(r,s){var u=zt();return rE(u,gt.memoizedState,r,s)},useTransition:function(){var r=Af(Mr)[0],s=zt().memoizedState;return[typeof r=="boolean"?r:mu(r),s]},useSyncExternalStore:Dv,useId:lE,useHostTransitionStatus:Mp,useFormState:Yv,useActionState:Yv,useOptimistic:function(r,s){var u=zt();return Fv(u,gt,r,s)},useMemoCache:Ap,useCacheRefresh:uE};Pp.useEffectEvent=Xv;var pE={readContext:dn,use:Sf,useCallback:nE,useContext:dn,useEffect:bp,useImperativeHandle:tE,useInsertionEffect:Wv,useLayoutEffect:Zv,useMemo:iE,useReducer:wp,useRef:Qv,useState:function(){return wp(Mr)},useDebugValue:Rp,useDeferredValue:function(r,s){var u=zt();return gt===null?Np(u,r,s):rE(u,gt.memoizedState,r,s)},useTransition:function(){var r=wp(Mr)[0],s=zt().memoizedState;return[typeof r=="boolean"?r:mu(r),s]},useSyncExternalStore:Dv,useId:lE,useHostTransitionStatus:Mp,useFormState:Jv,useActionState:Jv,useOptimistic:function(r,s){var u=zt();return gt!==null?Fv(u,gt,r,s):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Ap,useCacheRefresh:uE};pE.useEffectEvent=Xv;function Lp(r,s,u,h){s=r.memoizedState,u=u(h,s),u=u==null?s:_({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Vp={enqueueSetState:function(r,s,u){r=r._reactInternals;var h=Xn(),v=Ao(h);v.payload=s,u!=null&&(v.callback=u),s=Co(r,v,h),s!==null&&(On(s,r,h),fu(s,r,h))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var h=Xn(),v=Ao(h);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=Co(r,v,h),s!==null&&(On(s,r,h),fu(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=Xn(),h=Ao(u);h.tag=2,s!=null&&(h.callback=s),s=Co(r,h,u),s!==null&&(On(s,r,u),fu(s,r,u))}};function mE(r,s,u,h,v,E,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,E,C):s.prototype&&s.prototype.isPureReactComponent?!iu(u,h)||!iu(v,E):!0}function gE(r,s,u,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==r&&Vp.enqueueReplaceState(s,s.state,null)}function Vs(r,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(r=r.defaultProps){u===s&&(u=_({},u));for(var v in r)u[v]===void 0&&(u[v]=r[v])}return u}function yE(r){rf(r)}function _E(r){console.error(r)}function vE(r){rf(r)}function If(r,s){try{var u=r.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function EE(r,s,u){try{var h=r.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Up(r,s,u){return u=Ao(u),u.tag=3,u.payload={element:null},u.callback=function(){If(r,s)},u}function TE(r){return r=Ao(r),r.tag=3,r}function SE(r,s,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var E=h.value;r.payload=function(){return v(E)},r.callback=function(){EE(s,u,h)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){EE(s,u,h),typeof v!="function"&&(No===null?No=new Set([this]):No.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function wR(r,s,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&Ia(s,u,v,!0),u=Kn.current,u!==null){switch(u.tag){case 31:case 13:return di===null?Ff():u.alternate===null&&Vt===0&&(Vt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===pf?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),lm(r,h,v)),!1;case 22:return u.flags|=65536,h===pf?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),lm(r,h,v)),!1}throw Error(i(435,u.tag))}return lm(r,h,v),Ff(),!1}if(Ze)return s=Kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,h!==np&&(r=Error(i(422),{cause:h}),su(li(r,u)))):(h!==np&&(s=Error(i(423),{cause:h}),su(li(s,u))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,h=li(h,u),v=Up(r.stateNode,h,v),hp(r,v),Vt!==4&&(Vt=2)),!1;var E=Error(i(520),{cause:h});if(E=li(E,u),wu===null?wu=[E]:wu.push(E),Vt!==4&&(Vt=2),s===null)return!0;h=li(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,r=v&-v,u.lanes|=r,r=Up(u.stateNode,h,r),hp(u,r),!1;case 1:if(s=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(No===null||!No.has(E))))return u.flags|=65536,v&=-v,u.lanes|=v,v=TE(v),SE(v,r,u,h),hp(u,v),!1}u=u.return}while(u!==null);return!1}var Op=Error(i(461)),Jt=!1;function hn(r,s,u,h){s.child=r===null?xv(s,null,u,h):Ps(s,r.child,u,h)}function AE(r,s,u,h,v){u=u.render;var E=s.ref;if("ref"in h){var C={};for(var R in h)R!=="ref"&&(C[R]=h[R])}else C=h;return Ns(s),h=vp(r,s,u,C,E,v),R=Ep(),r!==null&&!Jt?(Tp(r,s,v),Dr(r,s,v)):(Ze&&R&&ep(s),s.flags|=1,hn(r,s,h,v),s.child)}function CE(r,s,u,h,v){if(r===null){var E=u.type;return typeof E=="function"&&!Xh(E)&&E.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=E,wE(r,s,E,h,v)):(r=lf(u.type,null,h,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(E=r.child,!Yp(r,v)){var C=E.memoizedProps;if(u=u.compare,u=u!==null?u:iu,u(C,h)&&r.ref===s.ref)return Dr(r,s,v)}return s.flags|=1,r=Ir(E,h),r.ref=s.ref,r.return=s,s.child=r}function wE(r,s,u,h,v){if(r!==null){var E=r.memoizedProps;if(iu(E,h)&&r.ref===s.ref)if(Jt=!1,s.pendingProps=h=E,Yp(r,v))(r.flags&131072)!==0&&(Jt=!0);else return s.lanes=r.lanes,Dr(r,s,v)}return Fp(r,s,u,h,v)}function xE(r,s,u,h){var v=h.children,E=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(E=E!==null?E.baseLanes|u:u,r!==null){for(h=s.child=r.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~E}else h=0,s.child=null;return IE(r,s,E,u,h)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&df(s,E!==null?E.cachePool:null),E!==null?Rv(s,E):mp(),Nv(s);else return h=s.lanes=536870912,IE(r,s,E!==null?E.baseLanes|u:u,u,h)}else E!==null?(df(s,E.cachePool),Rv(s,E),xo(),s.memoizedState=null):(r!==null&&df(s,null),mp(),xo());return hn(r,s,v,u),s.child}function _u(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function IE(r,s,u,h,v){var E=up();return E=E===null?null:{parent:Yt._currentValue,pool:E},s.memoizedState={baseLanes:u,cachePool:E},r!==null&&df(s,null),mp(),Nv(s),r!==null&&Ia(r,s,h,!0),s.childLanes=v,null}function bf(r,s){return s=Nf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function bE(r,s,u){return Ps(s,r.child,null,u),r=bf(s,s.pendingProps),r.flags|=2,Jn(s),s.memoizedState=null,r}function xR(r,s,u){var h=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Ze){if(h.mode==="hidden")return r=bf(s,h),s.lanes=536870912,_u(null,r);if(yp(s),(r=At)?(r=z0(r,fi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:_o!==null?{id:or,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},u=fv(r),u.return=s,s.child=u,fn=s,At=null)):r=null,r===null)throw Eo(s);return s.lanes=536870912,null}return bf(s,h)}var E=r.memoizedState;if(E!==null){var C=E.dehydrated;if(yp(s),v)if(s.flags&256)s.flags&=-257,s=bE(r,s,u);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Jt||Ia(r,s,u,!1),v=(u&r.childLanes)!==0,Jt||v){if(h=vt,h!==null&&(C=Fl(h,u),C!==0&&C!==E.retryLane))throw E.retryLane=C,xs(r,C),On(h,r,C),Op;Ff(),s=bE(r,s,u)}else r=E.treeContext,At=hi(C.nextSibling),fn=s,Ze=!0,vo=null,fi=!1,r!==null&&pv(s,r),s=bf(s,h),s.flags|=4096;return s}return r=Ir(r.child,{mode:h.mode,children:h.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Rf(r,s){var u=s.ref;if(u===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(s.flags|=4194816)}}function Fp(r,s,u,h,v){return Ns(s),u=vp(r,s,u,h,void 0,v),h=Ep(),r!==null&&!Jt?(Tp(r,s,v),Dr(r,s,v)):(Ze&&h&&ep(s),s.flags|=1,hn(r,s,u,v),s.child)}function RE(r,s,u,h,v,E){return Ns(s),s.updateQueue=null,u=Mv(s,h,u,v),kv(r),h=Ep(),r!==null&&!Jt?(Tp(r,s,E),Dr(r,s,E)):(Ze&&h&&ep(s),s.flags|=1,hn(r,s,u,E),s.child)}function NE(r,s,u,h,v){if(Ns(s),s.stateNode===null){var E=Aa,C=u.contextType;typeof C=="object"&&C!==null&&(E=dn(C)),E=new u(h,E),s.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Vp,s.stateNode=E,E._reactInternals=s,E=s.stateNode,E.props=h,E.state=s.memoizedState,E.refs={},fp(s),C=u.contextType,E.context=typeof C=="object"&&C!==null?dn(C):Aa,E.state=s.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Lp(s,u,C,h),E.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(C=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),C!==E.state&&Vp.enqueueReplaceState(E,E.state,null),hu(s,h,E,v),du(),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(r===null){E=s.stateNode;var R=s.memoizedProps,H=Vs(u,R);E.props=H;var W=E.context,re=u.contextType;C=Aa,typeof re=="object"&&re!==null&&(C=dn(re));var ce=u.getDerivedStateFromProps;re=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R||W!==C)&&gE(s,E,h,C),So=!1;var ee=s.memoizedState;E.state=ee,hu(s,h,E,v),du(),W=s.memoizedState,R||ee!==W||So?(typeof ce=="function"&&(Lp(s,u,ce,h),W=s.memoizedState),(H=So||mE(s,u,H,h,ee,W,C))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=W),E.props=h,E.state=W,E.context=C,h=H):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,dp(r,s),C=s.memoizedProps,re=Vs(u,C),E.props=re,ce=s.pendingProps,ee=E.context,W=u.contextType,H=Aa,typeof W=="object"&&W!==null&&(H=dn(W)),R=u.getDerivedStateFromProps,(W=typeof R=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ce||ee!==H)&&gE(s,E,h,H),So=!1,ee=s.memoizedState,E.state=ee,hu(s,h,E,v),du();var ne=s.memoizedState;C!==ce||ee!==ne||So||r!==null&&r.dependencies!==null&&cf(r.dependencies)?(typeof R=="function"&&(Lp(s,u,R,h),ne=s.memoizedState),(re=So||mE(s,u,re,h,ee,ne,H)||r!==null&&r.dependencies!==null&&cf(r.dependencies))?(W||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ne,H),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ne,H)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ne),E.props=h,E.state=ne,E.context=H,h=re):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),h=!1)}return E=h,Rf(r,s),h=(s.flags&128)!==0,E||h?(E=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:E.render(),s.flags|=1,r!==null&&h?(s.child=Ps(s,r.child,null,v),s.child=Ps(s,null,u,v)):hn(r,s,u,v),s.memoizedState=E.state,r=s.child):r=Dr(r,s,v),r}function kE(r,s,u,h){return bs(),s.flags|=256,hn(r,s,u,h),s.child}var zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bp(r){return{baseLanes:r,cachePool:Ev()}}function qp(r,s,u){return r=r!==null?r.childLanes&~u:0,s&&(r|=jn),r}function ME(r,s,u){var h=s.pendingProps,v=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=r!==null&&r.memoizedState===null?!1:(Ft.current&2)!==0),C&&(v=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ze){if(v?wo(s):xo(),(r=At)?(r=z0(r,fi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:_o!==null?{id:or,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},u=fv(r),u.return=s,s.child=u,fn=s,At=null)):r=null,r===null)throw Eo(s);return Cm(r)?s.lanes=32:s.lanes=536870912,null}var R=h.children;return h=h.fallback,v?(xo(),v=s.mode,R=Nf({mode:"hidden",children:R},v),h=Is(h,v,u,null),R.return=s,h.return=s,R.sibling=h,s.child=R,h=s.child,h.memoizedState=Bp(u),h.childLanes=qp(r,C,u),s.memoizedState=zp,_u(null,h)):(wo(s),Hp(s,R))}var H=r.memoizedState;if(H!==null&&(R=H.dehydrated,R!==null)){if(E)s.flags&256?(wo(s),s.flags&=-257,s=Gp(r,s,u)):s.memoizedState!==null?(xo(),s.child=r.child,s.flags|=128,s=null):(xo(),R=h.fallback,v=s.mode,h=Nf({mode:"visible",children:h.children},v),R=Is(R,v,u,null),R.flags|=2,h.return=s,R.return=s,h.sibling=R,s.child=h,Ps(s,r.child,null,u),h=s.child,h.memoizedState=Bp(u),h.childLanes=qp(r,C,u),s.memoizedState=zp,s=_u(null,h));else if(wo(s),Cm(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var W=C.dgst;C=W,h=Error(i(419)),h.stack="",h.digest=C,su({value:h,source:null,stack:null}),s=Gp(r,s,u)}else if(Jt||Ia(r,s,u,!1),C=(u&r.childLanes)!==0,Jt||C){if(C=vt,C!==null&&(h=Fl(C,u),h!==0&&h!==H.retryLane))throw H.retryLane=h,xs(r,h),On(C,r,h),Op;Am(R)||Ff(),s=Gp(r,s,u)}else Am(R)?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,At=hi(R.nextSibling),fn=s,Ze=!0,vo=null,fi=!1,r!==null&&pv(s,r),s=Hp(s,h.children),s.flags|=4096);return s}return v?(xo(),R=h.fallback,v=s.mode,H=r.child,W=H.sibling,h=Ir(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,W!==null?R=Ir(W,R):(R=Is(R,v,u,null),R.flags|=2),R.return=s,h.return=s,h.sibling=R,s.child=h,_u(null,h),h=s.child,R=r.child.memoizedState,R===null?R=Bp(u):(v=R.cachePool,v!==null?(H=Yt._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=Ev(),R={baseLanes:R.baseLanes|u,cachePool:v}),h.memoizedState=R,h.childLanes=qp(r,C,u),s.memoizedState=zp,_u(r.child,h)):(wo(s),u=r.child,r=u.sibling,u=Ir(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,r!==null&&(C=s.deletions,C===null?(s.deletions=[r],s.flags|=16):C.push(r)),s.child=u,s.memoizedState=null,u)}function Hp(r,s){return s=Nf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Nf(r,s){return r=Yn(22,r,null,s),r.lanes=0,r}function Gp(r,s,u){return Ps(s,r.child,null,u),r=Hp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function DE(r,s,u){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),op(r.return,s,u)}function $p(r,s,u,h,v,E){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:E}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=u,C.tailMode=v,C.treeForkCount=E)}function PE(r,s,u){var h=s.pendingProps,v=h.revealOrder,E=h.tail;h=h.children;var C=Ft.current,R=(C&2)!==0;if(R?(C=C&1|2,s.flags|=128):C&=1,z(Ft,C),hn(r,s,h,u),h=Ze?ou:0,!R&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&DE(r,u,s);else if(r.tag===19)DE(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(u=s.child,v=null;u!==null;)r=u.alternate,r!==null&&_f(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),$p(s,!1,v,u,E,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&_f(r)===null){s.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}$p(s,!0,u,null,E,h);break;case"together":$p(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Dr(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),Ro|=s.lanes,(u&s.childLanes)===0)if(r!==null){if(Ia(r,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,u=Ir(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Ir(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function Yp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&cf(r)))}function IR(r,s,u){switch(s.tag){case 3:pt(s,s.stateNode.containerInfo),To(s,Yt,r.memoizedState.cache),bs();break;case 27:case 5:kn(s);break;case 4:pt(s,s.stateNode.containerInfo);break;case 10:To(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,yp(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(wo(s),s.flags|=128,null):(u&s.child.childLanes)!==0?ME(r,s,u):(wo(s),r=Dr(r,s,u),r!==null?r.sibling:null);wo(s);break;case 19:var v=(r.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(Ia(r,s,u,!1),h=(u&s.childLanes)!==0),v){if(h)return PE(r,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),z(Ft,Ft.current),h)break;return null;case 22:return s.lanes=0,xE(r,s,u,s.pendingProps);case 24:To(s,Yt,r.memoizedState.cache)}return Dr(r,s,u)}function LE(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Yp(r,u)&&(s.flags&128)===0)return Jt=!1,IR(r,s,u);Jt=(r.flags&131072)!==0}else Jt=!1,Ze&&(s.flags&1048576)!==0&&hv(s,ou,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(r=Ms(s.elementType),s.type=r,typeof r=="function")Xh(r)?(h=Vs(r,h),s.tag=1,s=NE(null,s,r,h,u)):(s.tag=0,s=Fp(null,s,r,h,u));else{if(r!=null){var v=r.$$typeof;if(v===ie){s.tag=11,s=AE(null,s,r,h,u);break e}else if(v===P){s.tag=14,s=CE(null,s,r,h,u);break e}}throw s=me(r)||r,Error(i(306,s,""))}}return s;case 0:return Fp(r,s,s.type,s.pendingProps,u);case 1:return h=s.type,v=Vs(h,s.pendingProps),NE(r,s,h,v,u);case 3:e:{if(pt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));h=s.pendingProps;var E=s.memoizedState;v=E.element,dp(r,s),hu(s,h,null,u);var C=s.memoizedState;if(h=C.cache,To(s,Yt,h),h!==E.cache&&sp(s,[Yt],u,!0),du(),h=C.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=kE(r,s,h,u);break e}else if(h!==v){v=li(Error(i(424)),s),su(v),s=kE(r,s,h,u);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(At=hi(r.firstChild),fn=s,Ze=!0,vo=null,fi=!0,u=xv(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(bs(),h===v){s=Dr(r,s,u);break e}hn(r,s,h,u)}s=s.child}return s;case 26:return Rf(r,s),r===null?(u=Y0(s.type,null,s.pendingProps,null))?s.memoizedState=u:Ze||(u=s.type,r=s.pendingProps,h=Yf(we.current).createElement(u),h[Ht]=s,h[on]=r,pn(h,u,r),Gt(h),s.stateNode=h):s.memoizedState=Y0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return kn(s),r===null&&Ze&&(h=s.stateNode=H0(s.type,s.pendingProps,we.current),fn=s,fi=!0,v=At,Po(s.type)?(wm=v,At=hi(h.firstChild)):At=v),hn(r,s,s.pendingProps.children,u),Rf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ze&&((v=h=At)&&(h=iN(h,s.type,s.pendingProps,fi),h!==null?(s.stateNode=h,fn=s,At=hi(h.firstChild),fi=!1,v=!0):v=!1),v||Eo(s)),kn(s),v=s.type,E=s.pendingProps,C=r!==null?r.memoizedProps:null,h=E.children,Em(v,E)?h=null:C!==null&&Em(v,C)&&(s.flags|=32),s.memoizedState!==null&&(v=vp(r,s,_R,null,null,u),Du._currentValue=v),Rf(r,s),hn(r,s,h,u),s.child;case 6:return r===null&&Ze&&((r=u=At)&&(u=rN(u,s.pendingProps,fi),u!==null?(s.stateNode=u,fn=s,At=null,r=!0):r=!1),r||Eo(s)),null;case 13:return ME(r,s,u);case 4:return pt(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Ps(s,null,h,u):hn(r,s,h,u),s.child;case 11:return AE(r,s,s.type,s.pendingProps,u);case 7:return hn(r,s,s.pendingProps,u),s.child;case 8:return hn(r,s,s.pendingProps.children,u),s.child;case 12:return hn(r,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,To(s,s.type,h.value),hn(r,s,h.children,u),s.child;case 9:return v=s.type._context,h=s.pendingProps.children,Ns(s),v=dn(v),h=h(v),s.flags|=1,hn(r,s,h,u),s.child;case 14:return CE(r,s,s.type,s.pendingProps,u);case 15:return wE(r,s,s.type,s.pendingProps,u);case 19:return PE(r,s,u);case 31:return xR(r,s,u);case 22:return xE(r,s,u,s.pendingProps);case 24:return Ns(s),h=dn(Yt),r===null?(v=up(),v===null&&(v=vt,E=ap(),v.pooledCache=E,E.refCount++,E!==null&&(v.pooledCacheLanes|=u),v=E),s.memoizedState={parent:h,cache:v},fp(s),To(s,Yt,v)):((r.lanes&u)!==0&&(dp(r,s),hu(s,null,null,u),du()),v=r.memoizedState,E=s.memoizedState,v.parent!==h?(v={parent:h,cache:h},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),To(s,Yt,h)):(h=E.cache,To(s,Yt,h),h!==v.cache&&sp(s,[Yt],u,!0))),hn(r,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Pr(r){r.flags|=4}function Kp(r,s,u,h,v){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(l0())r.flags|=8192;else throw Ds=pf,cp}else r.flags&=-16777217}function VE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!X0(s))if(l0())r.flags|=8192;else throw Ds=pf,cp}function kf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Vc():536870912,r.lanes|=s,Fa|=s)}function vu(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ct(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(s)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=h,r.childLanes=u,s}function bR(r,s,u){var h=s.pendingProps;switch(tp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return u=s.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Nr(Yt),at(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(xa(s)?Pr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ip())),Ct(s),null;case 26:var v=s.type,E=s.memoizedState;return r===null?(Pr(s),E!==null?(Ct(s),VE(s,E)):(Ct(s),Kp(s,v,null,h,u))):E?E!==r.memoizedState?(Pr(s),Ct(s),VE(s,E)):(Ct(s),s.flags&=-16777217):(r=r.memoizedProps,r!==h&&Pr(s),Ct(s),Kp(s,v,r,h,u)),null;case 27:if(Ei(s),u=we.current,v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Pr(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return Ct(s),null}r=_e.current,xa(s)?mv(s):(r=H0(v,h,u),s.stateNode=r,Pr(s))}return Ct(s),null;case 5:if(Ei(s),v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==h&&Pr(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return Ct(s),null}if(E=_e.current,xa(s))mv(s);else{var C=Yf(we.current);switch(E){case 1:E=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:E=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":E=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":E=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":E=C.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?E.multiple=!0:h.size&&(E.size=h.size);break;default:E=typeof h.is=="string"?C.createElement(v,{is:h.is}):C.createElement(v)}}E[Ht]=s,E[on]=h;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)E.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=E;e:switch(pn(E,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Pr(s)}}return Ct(s),Kp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,u),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==h&&Pr(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(i(166));if(r=we.current,xa(s)){if(r=s.stateNode,u=s.memoizedProps,h=null,v=fn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}r[Ht]=s,r=!!(r.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||M0(r.nodeValue,u)),r||Eo(s,!0)}else r=Yf(r).createTextNode(h),r[Ht]=s,s.stateNode=r}return Ct(s),null;case 31:if(u=s.memoizedState,r===null||r.memoizedState!==null){if(h=xa(s),u!==null){if(r===null){if(!h)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ht]=s}else bs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),r=!1}else u=ip(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return s.flags&256?(Jn(s),s):(Jn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Ct(s),null;case 13:if(h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=xa(s),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ht]=s}else bs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),v=!1}else v=ip(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Jn(s),s):(Jn(s),null)}return Jn(s),(s.flags&128)!==0?(s.lanes=u,s):(u=h!==null,r=r!==null&&r.memoizedState!==null,u&&(h=s.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==v&&(h.flags|=2048)),u!==r&&u&&(s.child.flags|=8192),kf(s,s.updateQueue),Ct(s),null);case 4:return at(),r===null&&mm(s.stateNode.containerInfo),Ct(s),null;case 10:return Nr(s.type),Ct(s),null;case 19:if(oe(Ft),h=s.memoizedState,h===null)return Ct(s),null;if(v=(s.flags&128)!==0,E=h.rendering,E===null)if(v)vu(h,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=_f(r),E!==null){for(s.flags|=128,vu(h,!1),r=E.updateQueue,s.updateQueue=r,kf(s,r),s.subtreeFlags=0,r=u,u=s.child;u!==null;)cv(u,r),u=u.sibling;return z(Ft,Ft.current&1|2),Ze&&br(s,h.treeForkCount),s.child}r=r.sibling}h.tail!==null&&un()>Vf&&(s.flags|=128,v=!0,vu(h,!1),s.lanes=4194304)}else{if(!v)if(r=_f(E),r!==null){if(s.flags|=128,v=!0,r=r.updateQueue,s.updateQueue=r,kf(s,r),vu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!E.alternate&&!Ze)return Ct(s),null}else 2*un()-h.renderingStartTime>Vf&&u!==536870912&&(s.flags|=128,v=!0,vu(h,!1),s.lanes=4194304);h.isBackwards?(E.sibling=s.child,s.child=E):(r=h.last,r!==null?r.sibling=E:s.child=E,h.last=E)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=un(),r.sibling=null,u=Ft.current,z(Ft,v?u&1|2:u&1),Ze&&br(s,h.treeForkCount),r):(Ct(s),null);case 22:case 23:return Jn(s),gp(),h=s.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),u=s.updateQueue,u!==null&&kf(s,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),r!==null&&oe(ks),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Nr(Yt),Ct(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function RR(r,s){switch(tp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Nr(Yt),at(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ei(s),null;case 31:if(s.memoizedState!==null){if(Jn(s),s.alternate===null)throw Error(i(340));bs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Jn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));bs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return oe(Ft),null;case 4:return at(),null;case 10:return Nr(s.type),null;case 22:case 23:return Jn(s),gp(),r!==null&&oe(ks),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Nr(Yt),null;case 25:return null;default:return null}}function UE(r,s){switch(tp(s),s.tag){case 3:Nr(Yt),at();break;case 26:case 27:case 5:Ei(s);break;case 4:at();break;case 31:s.memoizedState!==null&&Jn(s);break;case 13:Jn(s);break;case 19:oe(Ft);break;case 10:Nr(s.type);break;case 22:case 23:Jn(s),gp(),r!==null&&oe(ks);break;case 24:Nr(Yt)}}function Eu(r,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&r)===r){h=void 0;var E=u.create,C=u.inst;h=E(),C.destroy=h}u=u.next}while(u!==v)}}catch(R){ht(s,s.return,R)}}function Io(r,s,u){try{var h=s.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var E=v.next;h=E;do{if((h.tag&r)===r){var C=h.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,v=s;var H=u,W=R;try{W()}catch(re){ht(v,H,re)}}}h=h.next}while(h!==E)}}catch(re){ht(s,s.return,re)}}function OE(r){var s=r.updateQueue;if(s!==null){var u=r.stateNode;try{bv(s,u)}catch(h){ht(r,r.return,h)}}}function FE(r,s,u){u.props=Vs(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(h){ht(r,s,h)}}function Tu(r,s){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof u=="function"?r.refCleanup=u(h):u.current=h}}catch(v){ht(r,s,v)}}function ar(r,s){var u=r.ref,h=r.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){ht(r,s,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){ht(r,s,v)}else u.current=null}function zE(r){var s=r.type,u=r.memoizedProps,h=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){ht(r,r.return,v)}}function Jp(r,s,u){try{var h=r.stateNode;XR(h,r.type,u,s),h[on]=s}catch(v){ht(r,r.return,v)}}function BE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Po(r.type)||r.tag===4}function Qp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||BE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Po(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jp(r,s,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(r),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=wi));else if(h!==4&&(h===27&&Po(r.type)&&(u=r.stateNode,s=null),r=r.child,r!==null))for(jp(r,s,u),r=r.sibling;r!==null;)jp(r,s,u),r=r.sibling}function Mf(r,s,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(h!==4&&(h===27&&Po(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Mf(r,s,u),r=r.sibling;r!==null;)Mf(r,s,u),r=r.sibling}function qE(r){var s=r.stateNode,u=r.memoizedProps;try{for(var h=r.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);pn(s,h,u),s[Ht]=r,s[on]=u}catch(E){ht(r,r.return,E)}}var Lr=!1,Qt=!1,Xp=!1,HE=typeof WeakSet=="function"?WeakSet:Set,an=null;function NR(r,s){if(r=r.containerInfo,_m=Zf,r=tv(r),Gh(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var C=0,R=-1,H=-1,W=0,re=0,ce=r,ee=null;t:for(;;){for(var ne;ce!==u||v!==0&&ce.nodeType!==3||(R=C+v),ce!==E||h!==0&&ce.nodeType!==3||(H=C+h),ce.nodeType===3&&(C+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)ee=ce,ce=ne;for(;;){if(ce===r)break t;if(ee===u&&++W===v&&(R=C),ee===E&&++re===h&&(H=C),(ne=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ne}u=R===-1||H===-1?null:{start:R,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(vm={focusedElem:r,selectionRange:u},Zf=!1,an=s;an!==null;)if(s=an,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,an=r;else for(;an!==null;){switch(s=an,E=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)v=r[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&E!==null){r=void 0,u=s,v=E.memoizedProps,E=E.memoizedState,h=u.stateNode;try{var Ae=Vs(u.type,v);r=h.getSnapshotBeforeUpdate(Ae,E),h.__reactInternalSnapshotBeforeUpdate=r}catch(ke){ht(u,u.return,ke)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,u=r.nodeType,u===9)Sm(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Sm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,an=r;break}an=s.return}}function GE(r,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ur(r,u),h&4&&Eu(5,u);break;case 1:if(Ur(r,u),h&4)if(r=u.stateNode,s===null)try{r.componentDidMount()}catch(C){ht(u,u.return,C)}else{var v=Vs(u.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(v,s,r.__reactInternalSnapshotBeforeUpdate)}catch(C){ht(u,u.return,C)}}h&64&&OE(u),h&512&&Tu(u,u.return);break;case 3:if(Ur(r,u),h&64&&(r=u.updateQueue,r!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{bv(r,s)}catch(C){ht(u,u.return,C)}}break;case 27:s===null&&h&4&&qE(u);case 26:case 5:Ur(r,u),s===null&&h&4&&zE(u),h&512&&Tu(u,u.return);break;case 12:Ur(r,u);break;case 31:Ur(r,u),h&4&&KE(r,u);break;case 13:Ur(r,u),h&4&&JE(r,u),h&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=FR.bind(null,u),oN(r,u))));break;case 22:if(h=u.memoizedState!==null||Lr,!h){s=s!==null&&s.memoizedState!==null||Qt,v=Lr;var E=Qt;Lr=h,(Qt=s)&&!E?Or(r,u,(u.subtreeFlags&8772)!==0):Ur(r,u),Lr=v,Qt=E}break;case 30:break;default:Ur(r,u)}}function $E(r){var s=r.alternate;s!==null&&(r.alternate=null,$E(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ua(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,Pn=!1;function Vr(r,s,u){for(u=u.child;u!==null;)YE(r,s,u),u=u.sibling}function YE(r,s,u){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ut,u)}catch{}switch(u.tag){case 26:Qt||ar(u,s),Vr(r,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Qt||ar(u,s);var h=bt,v=Pn;Po(u.type)&&(bt=u.stateNode,Pn=!1),Vr(r,s,u),Nu(u.stateNode),bt=h,Pn=v;break;case 5:Qt||ar(u,s);case 6:if(h=bt,v=Pn,bt=null,Vr(r,s,u),bt=h,Pn=v,bt!==null)if(Pn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(u.stateNode)}catch(E){ht(u,s,E)}else try{bt.removeChild(u.stateNode)}catch(E){ht(u,s,E)}break;case 18:bt!==null&&(Pn?(r=bt,O0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Ka(r)):O0(bt,u.stateNode));break;case 4:h=bt,v=Pn,bt=u.stateNode.containerInfo,Pn=!0,Vr(r,s,u),bt=h,Pn=v;break;case 0:case 11:case 14:case 15:Io(2,u,s),Qt||Io(4,u,s),Vr(r,s,u);break;case 1:Qt||(ar(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&FE(u,s,h)),Vr(r,s,u);break;case 21:Vr(r,s,u);break;case 22:Qt=(h=Qt)||u.memoizedState!==null,Vr(r,s,u),Qt=h;break;default:Vr(r,s,u)}}function KE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ka(r)}catch(u){ht(s,s.return,u)}}}function JE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ka(r)}catch(u){ht(s,s.return,u)}}function kR(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new HE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new HE),s;default:throw Error(i(435,r.tag))}}function Df(r,s){var u=kR(r);s.forEach(function(h){if(!u.has(h)){u.add(h);var v=zR.bind(null,r,h);h.then(v,v)}})}function Ln(r,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],E=r,C=s,R=C;e:for(;R!==null;){switch(R.tag){case 27:if(Po(R.type)){bt=R.stateNode,Pn=!1;break e}break;case 5:bt=R.stateNode,Pn=!1;break e;case 3:case 4:bt=R.stateNode.containerInfo,Pn=!0;break e}R=R.return}if(bt===null)throw Error(i(160));YE(E,C,v),bt=null,Pn=!1,E=v.alternate,E!==null&&(E.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)QE(s,r),s=s.sibling}var ki=null;function QE(r,s){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ln(s,r),Vn(r),h&4&&(Io(3,r,r.return),Eu(3,r),Io(5,r,r.return));break;case 1:Ln(s,r),Vn(r),h&512&&(Qt||u===null||ar(u,u.return)),h&64&&Lr&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=ki;if(Ln(s,r),Vn(r),h&512&&(Qt||u===null||ar(u,u.return)),h&4){var E=u!==null?u.memoizedState:null;if(h=r.memoizedState,u===null)if(h===null)if(r.stateNode===null){e:{h=r.type,u=r.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":E=v.getElementsByTagName("title")[0],(!E||E[Ki]||E[Ht]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=v.createElement(h),v.head.insertBefore(E,v.querySelector("head > title"))),pn(E,h,u),E[Ht]=r,Gt(E),h=E;break e;case"link":var C=Q0("link","href",v).get(h+(u.href||""));if(C){for(var R=0;R<C.length;R++)if(E=C[R],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(R,1);break t}}E=v.createElement(h),pn(E,h,u),v.head.appendChild(E);break;case"meta":if(C=Q0("meta","content",v).get(h+(u.content||""))){for(R=0;R<C.length;R++)if(E=C[R],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(R,1);break t}}E=v.createElement(h),pn(E,h,u),v.head.appendChild(E);break;default:throw Error(i(468,h))}E[Ht]=r,Gt(E),h=E}r.stateNode=h}else j0(v,r.type,r.stateNode);else r.stateNode=J0(v,h,r.memoizedProps);else E!==h?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,h===null?j0(v,r.type,r.stateNode):J0(v,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Jp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Ln(s,r),Vn(r),h&512&&(Qt||u===null||ar(u,u.return)),u!==null&&h&4&&Jp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Ln(s,r),Vn(r),h&512&&(Qt||u===null||ar(u,u.return)),r.flags&32){v=r.stateNode;try{Dn(v,"")}catch(Ae){ht(r,r.return,Ae)}}h&4&&r.stateNode!=null&&(v=r.memoizedProps,Jp(r,v,u!==null?u.memoizedProps:v)),h&1024&&(Xp=!0);break;case 6:if(Ln(s,r),Vn(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,u=r.stateNode;try{u.nodeValue=h}catch(Ae){ht(r,r.return,Ae)}}break;case 3:if(Qf=null,v=ki,ki=Kf(s.containerInfo),Ln(s,r),ki=v,Vn(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ka(s.containerInfo)}catch(Ae){ht(r,r.return,Ae)}Xp&&(Xp=!1,jE(r));break;case 4:h=ki,ki=Kf(r.stateNode.containerInfo),Ln(s,r),Vn(r),ki=h;break;case 12:Ln(s,r),Vn(r);break;case 31:Ln(s,r),Vn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Df(r,h)));break;case 13:Ln(s,r),Vn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Lf=un()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Df(r,h)));break;case 22:v=r.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,W=Lr,re=Qt;if(Lr=W||v,Qt=re||H,Ln(s,r),Qt=re,Lr=W,Vn(r),h&8192)e:for(s=r.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(u===null||H||Lr||Qt||Us(r)),u=null,s=r;;){if(s.tag===5||s.tag===26){if(u===null){H=u=s;try{if(E=H.stateNode,v)C=E.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=H.stateNode;var ce=H.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ae){ht(H,H.return,Ae)}}}else if(s.tag===6){if(u===null){H=s;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(Ae){ht(H,H.return,Ae)}}}else if(s.tag===18){if(u===null){H=s;try{var ne=H.stateNode;v?F0(ne,!0):F0(H.stateNode,!1)}catch(Ae){ht(H,H.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=r.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Df(r,u))));break;case 19:Ln(s,r),Vn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Df(r,h)));break;case 30:break;case 21:break;default:Ln(s,r),Vn(r)}}function Vn(r){var s=r.flags;if(s&2){try{for(var u,h=r.return;h!==null;){if(BE(h)){u=h;break}h=h.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,E=Qp(r);Mf(r,E,v);break;case 5:var C=u.stateNode;u.flags&32&&(Dn(C,""),u.flags&=-33);var R=Qp(r);Mf(r,R,C);break;case 3:case 4:var H=u.stateNode.containerInfo,W=Qp(r);jp(r,W,H);break;default:throw Error(i(161))}}catch(re){ht(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function jE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;jE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ur(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)GE(r,s.alternate,s),s=s.sibling}function Us(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Io(4,s,s.return),Us(s);break;case 1:ar(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&FE(s,s.return,u),Us(s);break;case 27:Nu(s.stateNode);case 26:case 5:ar(s,s.return),Us(s);break;case 22:s.memoizedState===null&&Us(s);break;case 30:Us(s);break;default:Us(s)}r=r.sibling}}function Or(r,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,v=r,E=s,C=E.flags;switch(E.tag){case 0:case 11:case 15:Or(v,E,u),Eu(4,E);break;case 1:if(Or(v,E,u),h=E,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(W){ht(h,h.return,W)}if(h=E,v=h.updateQueue,v!==null){var R=h.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)Iv(H[v],R)}catch(W){ht(h,h.return,W)}}u&&C&64&&OE(E),Tu(E,E.return);break;case 27:qE(E);case 26:case 5:Or(v,E,u),u&&h===null&&C&4&&zE(E),Tu(E,E.return);break;case 12:Or(v,E,u);break;case 31:Or(v,E,u),u&&C&4&&KE(v,E);break;case 13:Or(v,E,u),u&&C&4&&JE(v,E);break;case 22:E.memoizedState===null&&Or(v,E,u),Tu(E,E.return);break;case 30:break;default:Or(v,E,u)}s=s.sibling}}function Wp(r,s){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&au(u))}function Zp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&au(r))}function Mi(r,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)XE(r,s,u,h),s=s.sibling}function XE(r,s,u,h){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Mi(r,s,u,h),v&2048&&Eu(9,s);break;case 1:Mi(r,s,u,h);break;case 3:Mi(r,s,u,h),v&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&au(r)));break;case 12:if(v&2048){Mi(r,s,u,h),r=s.stateNode;try{var E=s.memoizedProps,C=E.id,R=E.onPostCommit;typeof R=="function"&&R(C,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){ht(s,s.return,H)}}else Mi(r,s,u,h);break;case 31:Mi(r,s,u,h);break;case 13:Mi(r,s,u,h);break;case 23:break;case 22:E=s.stateNode,C=s.alternate,s.memoizedState!==null?E._visibility&2?Mi(r,s,u,h):Su(r,s):E._visibility&2?Mi(r,s,u,h):(E._visibility|=2,Va(r,s,u,h,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Wp(C,s);break;case 24:Mi(r,s,u,h),v&2048&&Zp(s.alternate,s);break;default:Mi(r,s,u,h)}}function Va(r,s,u,h,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var E=r,C=s,R=u,H=h,W=C.flags;switch(C.tag){case 0:case 11:case 15:Va(E,C,R,H,v),Eu(8,C);break;case 23:break;case 22:var re=C.stateNode;C.memoizedState!==null?re._visibility&2?Va(E,C,R,H,v):Su(E,C):(re._visibility|=2,Va(E,C,R,H,v)),v&&W&2048&&Wp(C.alternate,C);break;case 24:Va(E,C,R,H,v),v&&W&2048&&Zp(C.alternate,C);break;default:Va(E,C,R,H,v)}s=s.sibling}}function Su(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=r,h=s,v=h.flags;switch(h.tag){case 22:Su(u,h),v&2048&&Wp(h.alternate,h);break;case 24:Su(u,h),v&2048&&Zp(h.alternate,h);break;default:Su(u,h)}s=s.sibling}}var Au=8192;function Ua(r,s,u){if(r.subtreeFlags&Au)for(r=r.child;r!==null;)WE(r,s,u),r=r.sibling}function WE(r,s,u){switch(r.tag){case 26:Ua(r,s,u),r.flags&Au&&r.memoizedState!==null&&yN(u,ki,r.memoizedState,r.memoizedProps);break;case 5:Ua(r,s,u);break;case 3:case 4:var h=ki;ki=Kf(r.stateNode.containerInfo),Ua(r,s,u),ki=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=Au,Au=16777216,Ua(r,s,u),Au=h):Ua(r,s,u));break;default:Ua(r,s,u)}}function ZE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Cu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];an=h,t0(h,r)}ZE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)e0(r),r=r.sibling}function e0(r){switch(r.tag){case 0:case 11:case 15:Cu(r),r.flags&2048&&Io(9,r,r.return);break;case 3:Cu(r);break;case 12:Cu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Pf(r)):Cu(r);break;default:Cu(r)}}function Pf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];an=h,t0(h,r)}ZE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Io(8,s,s.return),Pf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Pf(s));break;default:Pf(s)}r=r.sibling}}function t0(r,s){for(;an!==null;){var u=an;switch(u.tag){case 0:case 11:case 15:Io(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:au(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,an=h;else e:for(u=r;an!==null;){h=an;var v=h.sibling,E=h.return;if($E(h),h===u){an=null;break e}if(v!==null){v.return=E,an=v;break e}an=E}}}var MR={getCacheForType:function(r){var s=dn(Yt),u=s.data.get(r);return u===void 0&&(u=r(),s.data.set(r,u)),u},cacheSignal:function(){return dn(Yt).controller.signal}},DR=typeof WeakMap=="function"?WeakMap:Map,ut=0,vt=null,Ge=null,Ke=0,dt=0,Qn=null,bo=!1,Oa=!1,em=!1,Fr=0,Vt=0,Ro=0,Os=0,tm=0,jn=0,Fa=0,wu=null,Un=null,nm=!1,Lf=0,n0=0,Vf=1/0,Uf=null,No=null,tn=0,ko=null,za=null,zr=0,im=0,rm=null,i0=null,xu=0,om=null;function Xn(){return(ut&2)!==0&&Ke!==0?Ke&-Ke:Q.T!==null?fm():Uc()}function r0(){if(jn===0)if((Ke&536870912)===0||Ze){var r=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),jn=r}else jn=536870912;return r=Kn.current,r!==null&&(r.flags|=32),jn}function On(r,s,u){(r===vt&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(Ba(r,0),Mo(r,Ke,jn,!1)),ds(r,u),((ut&2)===0||r!==vt)&&(r===vt&&((ut&2)===0&&(Os|=u),Vt===4&&Mo(r,Ke,jn,!1)),lr(r))}function o0(r,s,u){if((ut&6)!==0)throw Error(i(327));var h=!u&&(s&127)===0&&(s&r.expiredLanes)===0||Si(r,s),v=h?VR(r,s):am(r,s,!0),E=h;do{if(v===0){Oa&&!h&&Mo(r,s,0,!1);break}else{if(u=r.current.alternate,E&&!PR(u)){v=am(r,s,!1),E=!1;continue}if(v===2){if(E=s,r.errorRecoveryDisabledLanes&E)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var R=r;v=wu;var H=R.current.memoizedState.isDehydrated;if(H&&(Ba(R,C).flags|=256),C=am(R,C,!1),C!==2){if(em&&!H){R.errorRecoveryDisabledLanes|=E,Os|=E,v=4;break e}E=Un,Un=v,E!==null&&(Un===null?Un=E:Un.push.apply(Un,E))}v=C}if(E=!1,v!==2)continue}}if(v===1){Ba(r,0),Mo(r,s,0,!0);break}e:{switch(h=r,E=v,E){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Mo(h,s,jn,!bo);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=Lf+300-un(),10<v)){if(Mo(h,s,jn,!bo),Gi(h,0,!0)!==0)break e;zr=s,h.timeoutHandle=V0(s0.bind(null,h,u,Un,Uf,nm,s,jn,Os,Fa,bo,E,"Throttled",-0,0),v);break e}s0(h,u,Un,Uf,nm,s,jn,Os,Fa,bo,E,null,-0,0)}}break}while(!0);lr(r)}function s0(r,s,u,h,v,E,C,R,H,W,re,ce,ee,ne){if(r.timeoutHandle=-1,ce=s.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wi},WE(s,E,ce);var Ae=(E&62914560)===E?Lf-un():(E&4194048)===E?n0-un():0;if(Ae=_N(ce,Ae),Ae!==null){zr=E,r.cancelPendingCommit=Ae(p0.bind(null,r,s,E,u,h,v,C,R,H,re,ce,null,ee,ne)),Mo(r,E,C,!W);return}}p0(r,s,E,u,h,v,C,R,H)}function PR(r){for(var s=r;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],E=v.getSnapshot;v=v.value;try{if(!$n(E(),v))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mo(r,s,u,h){s&=~tm,s&=~Os,r.suspendedLanes|=s,r.pingedLanes&=~s,h&&(r.warmLanes|=s),h=r.expirationTimes;for(var v=s;0<v;){var E=31-We(v),C=1<<E;h[E]=-1,v&=~C}u!==0&&hs(r,u,s)}function Of(){return(ut&6)===0?(Iu(0),!1):!0}function sm(){if(Ge!==null){if(dt===0)var r=Ge.return;else r=Ge,Rr=Rs=null,Sp(r),ka=null,uu=0,r=Ge;for(;r!==null;)UE(r.alternate,r),r=r.return;Ge=null}}function Ba(r,s){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,eN(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),zr=0,sm(),vt=r,Ge=u=Ir(r.current,null),Ke=s,dt=0,Qn=null,bo=!1,Oa=Si(r,s),em=!1,Fa=jn=tm=Os=Ro=Vt=0,Un=wu=null,nm=!1,(s&8)!==0&&(s|=s&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=s;0<h;){var v=31-We(h),E=1<<v;s|=r[v],h&=~E}return Fr=s,of(),u}function a0(r,s){Fe=null,Q.H=yu,s===Na||s===hf?(s=Av(),dt=3):s===cp?(s=Av(),dt=4):dt=s===Op?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,Ge===null&&(Vt=1,If(r,li(s,r.current)))}function l0(){var r=Kn.current;return r===null?!0:(Ke&4194048)===Ke?di===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?r===di:!1}function u0(){var r=Q.H;return Q.H=yu,r===null?yu:r}function c0(){var r=Q.A;return Q.A=MR,r}function Ff(){Vt=4,bo||(Ke&4194048)!==Ke&&Kn.current!==null||(Oa=!0),(Ro&134217727)===0&&(Os&134217727)===0||vt===null||Mo(vt,Ke,jn,!1)}function am(r,s,u){var h=ut;ut|=2;var v=u0(),E=c0();(vt!==r||Ke!==s)&&(Uf=null,Ba(r,s)),s=!1;var C=Vt;e:do try{if(dt!==0&&Ge!==null){var R=Ge,H=Qn;switch(dt){case 8:sm(),C=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(s=!0);var W=dt;if(dt=0,Qn=null,qa(r,R,H,W),u&&Oa){C=0;break e}break;default:W=dt,dt=0,Qn=null,qa(r,R,H,W)}}LR(),C=Vt;break}catch(re){a0(r,re)}while(!0);return s&&r.shellSuspendCounter++,Rr=Rs=null,ut=h,Q.H=v,Q.A=E,Ge===null&&(vt=null,Ke=0,of()),C}function LR(){for(;Ge!==null;)f0(Ge)}function VR(r,s){var u=ut;ut|=2;var h=u0(),v=c0();vt!==r||Ke!==s?(Uf=null,Vf=un()+500,Ba(r,s)):Oa=Si(r,s);e:do try{if(dt!==0&&Ge!==null){s=Ge;var E=Qn;t:switch(dt){case 1:dt=0,Qn=null,qa(r,s,E,1);break;case 2:case 9:if(Tv(E)){dt=0,Qn=null,d0(s);break}s=function(){dt!==2&&dt!==9||vt!==r||(dt=7),lr(r)},E.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Tv(E)?(dt=0,Qn=null,d0(s)):(dt=0,Qn=null,qa(r,s,E,7));break;case 5:var C=null;switch(Ge.tag){case 26:C=Ge.memoizedState;case 5:case 27:var R=Ge;if(C?X0(C):R.stateNode.complete){dt=0,Qn=null;var H=R.sibling;if(H!==null)Ge=H;else{var W=R.return;W!==null?(Ge=W,zf(W)):Ge=null}break t}}dt=0,Qn=null,qa(r,s,E,5);break;case 6:dt=0,Qn=null,qa(r,s,E,6);break;case 8:sm(),Vt=6;break e;default:throw Error(i(462))}}UR();break}catch(re){a0(r,re)}while(!0);return Rr=Rs=null,Q.H=h,Q.A=v,ut=u,Ge!==null?0:(vt=null,Ke=0,of(),Vt)}function UR(){for(;Ge!==null&&!Ul();)f0(Ge)}function f0(r){var s=LE(r.alternate,r,Fr);r.memoizedProps=r.pendingProps,s===null?zf(r):Ge=s}function d0(r){var s=r,u=s.alternate;switch(s.tag){case 15:case 0:s=RE(u,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=RE(u,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:Sp(s);default:UE(u,s),s=Ge=cv(s,Fr),s=LE(u,s,Fr)}r.memoizedProps=r.pendingProps,s===null?zf(r):Ge=s}function qa(r,s,u,h){Rr=Rs=null,Sp(s),ka=null,uu=0;var v=s.return;try{if(wR(r,v,s,u,Ke)){Vt=1,If(r,li(u,r.current)),Ge=null;return}}catch(E){if(v!==null)throw Ge=v,E;Vt=1,If(r,li(u,r.current)),Ge=null;return}s.flags&32768?(Ze||h===1?r=!0:Oa||(Ke&536870912)!==0?r=!1:(bo=r=!0,(h===2||h===9||h===3||h===6)&&(h=Kn.current,h!==null&&h.tag===13&&(h.flags|=16384))),h0(s,r)):zf(s)}function zf(r){var s=r;do{if((s.flags&32768)!==0){h0(s,bo);return}r=s.return;var u=bR(s.alternate,s,Fr);if(u!==null){Ge=u;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=r}while(s!==null);Vt===0&&(Vt=5)}function h0(r,s){do{var u=RR(r.alternate,r);if(u!==null){u.flags&=32767,Ge=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=u}while(r!==null);Vt=6,Ge=null}function p0(r,s,u,h,v,E,C,R,H){r.cancelPendingCommit=null;do Bf();while(tn!==0);if((ut&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(E=s.lanes|s.childLanes,E|=Qh,zh(r,u,E,C,R,H),r===vt&&(Ge=vt=null,Ke=0),za=s,ko=r,zr=u,im=E,rm=v,i0=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,BR(Re,function(){return v0(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=Q.T,Q.T=null,v=de.p,de.p=2,C=ut,ut|=4;try{NR(r,s,u)}finally{ut=C,de.p=v,Q.T=h}}tn=1,m0(),g0(),y0()}}function m0(){if(tn===1){tn=0;var r=ko,s=za,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null;var h=de.p;de.p=2;var v=ut;ut|=4;try{QE(s,r);var E=vm,C=tv(r.containerInfo),R=E.focusedElem,H=E.selectionRange;if(C!==R&&R&&R.ownerDocument&&ev(R.ownerDocument.documentElement,R)){if(H!==null&&Gh(R)){var W=H.start,re=H.end;if(re===void 0&&(re=W),"selectionStart"in R)R.selectionStart=W,R.selectionEnd=Math.min(re,R.value.length);else{var ce=R.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Ae=R.textContent.length,ke=Math.min(H.start,Ae),_t=H.end===void 0?ke:Math.min(H.end,Ae);!ne.extend&&ke>_t&&(C=_t,_t=ke,ke=C);var J=Z_(R,ke),Y=Z_(R,_t);if(J&&Y&&(ne.rangeCount!==1||ne.anchorNode!==J.node||ne.anchorOffset!==J.offset||ne.focusNode!==Y.node||ne.focusOffset!==Y.offset)){var X=ce.createRange();X.setStart(J.node,J.offset),ne.removeAllRanges(),ke>_t?(ne.addRange(X),ne.extend(Y.node,Y.offset)):(X.setEnd(Y.node,Y.offset),ne.addRange(X))}}}}for(ce=[],ne=R;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ce.length;R++){var le=ce[R];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Zf=!!_m,vm=_m=null}finally{ut=v,de.p=h,Q.T=u}}r.current=s,tn=2}}function g0(){if(tn===2){tn=0;var r=ko,s=za,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=Q.T,Q.T=null;var h=de.p;de.p=2;var v=ut;ut|=4;try{GE(r,s.alternate,s)}finally{ut=v,de.p=h,Q.T=u}}tn=3}}function y0(){if(tn===4||tn===3){tn=0,aa();var r=ko,s=za,u=zr,h=i0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,za=ko=null,_0(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(No=null),Ar(u),s=s.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ut,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=Q.T,v=de.p,de.p=2,Q.T=null;try{for(var E=r.onRecoverableError,C=0;C<h.length;C++){var R=h[C];E(R.value,{componentStack:R.stack})}}finally{Q.T=s,de.p=v}}(zr&3)!==0&&Bf(),lr(r),v=r.pendingLanes,(u&261930)!==0&&(v&42)!==0?r===om?xu++:(xu=0,om=r):xu=0,Iu(0)}}function _0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,au(s)))}function Bf(){return m0(),g0(),y0(),v0()}function v0(){if(tn!==5)return!1;var r=ko,s=im;im=0;var u=Ar(zr),h=Q.T,v=de.p;try{de.p=32>u?32:u,Q.T=null,u=rm,rm=null;var E=ko,C=zr;if(tn=0,za=ko=null,zr=0,(ut&6)!==0)throw Error(i(331));var R=ut;if(ut|=4,e0(E.current),XE(E,E.current,C,u),ut=R,Iu(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ut,E)}catch{}return!0}finally{de.p=v,Q.T=h,_0(r,s)}}function E0(r,s,u){s=li(u,s),s=Up(r.stateNode,s,2),r=Co(r,s,2),r!==null&&(ds(r,2),lr(r))}function ht(r,s,u){if(r.tag===3)E0(r,r,u);else for(;s!==null;){if(s.tag===3){E0(s,r,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(No===null||!No.has(h))){r=li(u,r),u=TE(2),h=Co(s,u,2),h!==null&&(SE(u,h,s,r),ds(h,2),lr(h));break}}s=s.return}}function lm(r,s,u){var h=r.pingCache;if(h===null){h=r.pingCache=new DR;var v=new Set;h.set(s,v)}else v=h.get(s),v===void 0&&(v=new Set,h.set(s,v));v.has(u)||(em=!0,v.add(u),r=OR.bind(null,r,s,u),s.then(r,r))}function OR(r,s,u){var h=r.pingCache;h!==null&&h.delete(s),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,vt===r&&(Ke&u)===u&&(Vt===4||Vt===3&&(Ke&62914560)===Ke&&300>un()-Lf?(ut&2)===0&&Ba(r,0):tm|=u,Fa===Ke&&(Fa=0)),lr(r)}function T0(r,s){s===0&&(s=Vc()),r=xs(r,s),r!==null&&(ds(r,s),lr(r))}function FR(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),T0(r,u)}function zR(r,s){var u=0;switch(r.tag){case 31:case 13:var h=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(s),T0(r,u)}function BR(r,s){return Pt(r,s)}var qf=null,Ha=null,um=!1,Hf=!1,cm=!1,Do=0;function lr(r){r!==Ha&&r.next===null&&(Ha===null?qf=Ha=r:Ha=Ha.next=r),Hf=!0,um||(um=!0,HR())}function Iu(r,s){if(!cm&&Hf){cm=!0;do for(var u=!1,h=qf;h!==null;){if(r!==0){var v=h.pendingLanes;if(v===0)var E=0;else{var C=h.suspendedLanes,R=h.pingedLanes;E=(1<<31-We(42|r)+1)-1,E&=v&~(C&~R),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,w0(h,E))}else E=Ke,E=Gi(h,h===vt?E:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(E&3)===0||Si(h,E)||(u=!0,w0(h,E));h=h.next}while(u);cm=!1}}function qR(){S0()}function S0(){Hf=um=!1;var r=0;Do!==0&&ZR()&&(r=Do);for(var s=un(),u=null,h=qf;h!==null;){var v=h.next,E=A0(h,s);E===0?(h.next=null,u===null?qf=v:u.next=v,v===null&&(Ha=u)):(u=h,(r!==0||(E&3)!==0)&&(Hf=!0)),h=v}tn!==0&&tn!==5||Iu(r),Do!==0&&(Do=0)}function A0(r,s){for(var u=r.suspendedLanes,h=r.pingedLanes,v=r.expirationTimes,E=r.pendingLanes&-62914561;0<E;){var C=31-We(E),R=1<<C,H=v[C];H===-1?((R&u)===0||(R&h)!==0)&&(v[C]=Fh(R,s)):H<=s&&(r.expiredLanes|=R),E&=~R}if(s=vt,u=Ke,u=Gi(r,r===s?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,u===0||r===s&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Bi(h),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Si(r,u)){if(s=u&-u,s===r.callbackPriority)return s;switch(h!==null&&Bi(h),Ar(u)){case 2:case 8:u=ge;break;case 32:u=Re;break;case 268435456:u=it;break;default:u=Re}return h=C0.bind(null,r),u=Pt(u,h),r.callbackPriority=s,r.callbackNode=u,s}return h!==null&&h!==null&&Bi(h),r.callbackPriority=2,r.callbackNode=null,2}function C0(r,s){if(tn!==0&&tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Bf()&&r.callbackNode!==u)return null;var h=Ke;return h=Gi(r,r===vt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(o0(r,h,s),A0(r,un()),r.callbackNode!=null&&r.callbackNode===u?C0.bind(null,r):null)}function w0(r,s){if(Bf())return null;o0(r,s,!0)}function HR(){tN(function(){(ut&6)!==0?Pt(ae,qR):S0()})}function fm(){if(Do===0){var r=ba;r===0&&(r=qi,qi<<=1,(qi&261888)===0&&(qi=256)),Do=r}return Do}function x0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ha(""+r)}function I0(r,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,r.id&&u.setAttribute("form",r.id),s.parentNode.insertBefore(u,s),r=new FormData(r),u.parentNode.removeChild(u),r}function GR(r,s,u,h,v){if(s==="submit"&&u&&u.stateNode===v){var E=x0((v[on]||null).action),C=h.submitter;C&&(s=(s=C[on]||null)?x0(s.formAction):C.getAttribute("formAction"),s!==null&&(E=s,C=null));var R=new tr("action","action",null,h,v);r.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Do!==0){var H=C?I0(v,C):new FormData(v);kp(u,{pending:!0,data:H,method:v.method,action:E},null,H)}}else typeof E=="function"&&(R.preventDefault(),H=C?I0(v,C):new FormData(v),kp(u,{pending:!0,data:H,method:v.method,action:E},E,H))},currentTarget:v}]})}}for(var dm=0;dm<Jh.length;dm++){var hm=Jh[dm],$R=hm.toLowerCase(),YR=hm[0].toUpperCase()+hm.slice(1);Ni($R,"on"+YR)}Ni(rv,"onAnimationEnd"),Ni(ov,"onAnimationIteration"),Ni(sv,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(lR,"onTransitionRun"),Ni(uR,"onTransitionStart"),Ni(cR,"onTransitionCancel"),Ni(av,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function b0(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],v=h.event;h=h.listeners;e:{var E=void 0;if(s)for(var C=h.length-1;0<=C;C--){var R=h[C],H=R.instance,W=R.currentTarget;if(R=R.listener,H!==E&&v.isPropagationStopped())break e;E=R,v.currentTarget=W;try{E(v)}catch(re){rf(re)}v.currentTarget=null,E=H}else for(C=0;C<h.length;C++){if(R=h[C],H=R.instance,W=R.currentTarget,R=R.listener,H!==E&&v.isPropagationStopped())break e;E=R,v.currentTarget=W;try{E(v)}catch(re){rf(re)}v.currentTarget=null,E=H}}}}function $e(r,s){var u=s[la];u===void 0&&(u=s[la]=new Set);var h=r+"__bubble";u.has(h)||(R0(s,r,2,!1),u.add(h))}function pm(r,s,u){var h=0;s&&(h|=4),R0(u,r,h,s)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function mm(r){if(!r[Gf]){r[Gf]=!0,zl.forEach(function(u){u!=="selectionchange"&&(KR.has(u)||pm(u,!1,r),pm(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Gf]||(s[Gf]=!0,pm("selectionchange",!1,s))}}function R0(r,s,u,h){switch(rT(s)){case 2:var v=TN;break;case 8:v=SN;break;default:v=Nm}u=v.bind(null,s,u,r),v=void 0,!_s||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),h?v!==void 0?r.addEventListener(s,u,{capture:!0,passive:v}):r.addEventListener(s,u,!0):v!==void 0?r.addEventListener(s,u,{passive:v}):r.addEventListener(s,u,!1)}function gm(r,s,u,h,v){var E=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var R=h.stateNode.containerInfo;if(R===v)break;if(C===4)for(C=h.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;R!==null;){if(C=Ji(R),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){h=E=C;continue e}R=R.parentNode}}h=h.return}po(function(){var W=E,re=ri(u),ce=[];e:{var ee=lv.get(r);if(ee!==void 0){var ne=tr,Ae=r;switch(r){case"keypress":if(Es(u)===0)break e;case"keydown":case"keyup":ne=ef;break;case"focusin":Ae="focus",ne=Ss;break;case"focusout":Ae="blur",ne=Ss;break;case"beforeblur":case"afterblur":ne=Ss;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=A;break;case rv:case ov:case sv:ne=Kc;break;case av:ne=M;break;case"scroll":case"scrollend":ne=Wl;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=xr;break;case"toggle":case"beforetoggle":ne=Oe}var ke=(s&4)!==0,_t=!ke&&(r==="scroll"||r==="scrollend"),J=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var Y=W,X;Y!==null;){var le=Y;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||J===null||(le=xi(Y,J),le!=null&&ke.push(Ru(Y,le,X))),_t)break;Y=Y.return}0<ke.length&&(ee=new ne(ee,Ae,null,u,re),ce.push({event:ee,listeners:ke}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",ee&&u!==Ql&&(Ae=u.relatedTarget||u.fromElement)&&(Ji(Ae)||Ae[Yi]))break e;if((ne||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Ae=u.relatedTarget||u.toElement,ne=W,Ae=Ae?Ji(Ae):null,Ae!==null&&(_t=a(Ae),ke=Ae.tag,Ae!==_t||ke!==5&&ke!==27&&ke!==6)&&(Ae=null)):(ne=null,Ae=W),ne!==Ae)){if(ke=Zl,le="onMouseLeave",J="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(ke=xr,le="onPointerLeave",J="onPointerEnter",Y="pointer"),_t=ne==null?ee:Hn(ne),X=Ae==null?ee:Hn(Ae),ee=new ke(le,Y+"leave",ne,u,re),ee.target=_t,ee.relatedTarget=X,le=null,Ji(re)===W&&(ke=new ke(J,Y+"enter",Ae,u,re),ke.target=X,ke.relatedTarget=_t,le=ke),_t=le,ne&&Ae)t:{for(ke=JR,J=ne,Y=Ae,X=0,le=J;le;le=ke(le))X++;le=0;for(var xe=Y;xe;xe=ke(xe))le++;for(;0<X-le;)J=ke(J),X--;for(;0<le-X;)Y=ke(Y),le--;for(;X--;){if(J===Y||Y!==null&&J===Y.alternate){ke=J;break t}J=ke(J),Y=ke(Y)}ke=null}else ke=null;ne!==null&&N0(ce,ee,ne,ke,!1),Ae!==null&&_t!==null&&N0(ce,_t,Ae,ke,!0)}}e:{if(ee=W?Hn(W):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var rt=K_;else if($_(ee))if(J_)rt=oR;else{rt=iR;var Ce=nR}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?W&&da(W.elementType)&&(rt=K_):rt=rR;if(rt&&(rt=rt(r,W))){Y_(ce,rt,u,re);break e}Ce&&Ce(r,ee,W),r==="focusout"&&W&&ee.type==="number"&&W.memoizedProps.value!=null&&Yl(ee,"number",ee.value)}switch(Ce=W?Hn(W):window,r){case"focusin":($_(Ce)||Ce.contentEditable==="true")&&(Ea=Ce,$h=W,ru=null);break;case"focusout":ru=$h=Ea=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,nv(ce,u,re);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":nv(ce,u,re)}var ze;if(lt)e:{switch(r){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else va?As(r,u)&&(Je="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(rr&&u.locale!=="ko"&&(va||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&va&&(ze=Xl()):(er=re,jl="value"in er?er.value:er.textContent,va=!0)),Ce=$f(W,Je),0<Ce.length&&(Je=new ir(Je,r,null,u,re),ce.push({event:Je,listeners:Ce}),ze?Je.data=ze:(ze=_a(u),ze!==null&&(Je.data=ze)))),(ze=si?Wb(r,u):Zb(r,u))&&(Je=$f(W,"onBeforeInput"),0<Je.length&&(Ce=new ir("onBeforeInput","beforeinput",null,u,re),ce.push({event:Ce,listeners:Je}),Ce.data=ze)),GR(ce,r,W,u,re)}b0(ce,s)})}function Ru(r,s,u){return{instance:r,listener:s,currentTarget:u}}function $f(r,s){for(var u=s+"Capture",h=[];r!==null;){var v=r,E=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||E===null||(v=xi(r,u),v!=null&&h.unshift(Ru(r,v,E)),v=xi(r,s),v!=null&&h.push(Ru(r,v,E))),r.tag===3)return h;r=r.return}return[]}function JR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function N0(r,s,u,h,v){for(var E=s._reactName,C=[];u!==null&&u!==h;){var R=u,H=R.alternate,W=R.stateNode;if(R=R.tag,H!==null&&H===h)break;R!==5&&R!==26&&R!==27||W===null||(H=W,v?(W=xi(u,E),W!=null&&C.unshift(Ru(u,W,H))):v||(W=xi(u,E),W!=null&&C.push(Ru(u,W,H)))),u=u.return}C.length!==0&&r.push({event:s,listeners:C})}var QR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function k0(r){return(typeof r=="string"?r:""+r).replace(QR,`
`).replace(jR,"")}function M0(r,s){return s=k0(s),k0(r)===s}function yt(r,s,u,h,v,E){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Dn(r,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Dn(r,""+h);break;case"className":Gn(r,"class",h);break;case"tabIndex":Gn(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(r,u,h);break;case"style":Jl(r,h,E);break;case"data":if(s!=="object"){Gn(r,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){r.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(u);break}h=ha(""+h),r.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(s!=="input"&&yt(r,s,"name",v.name,v,null),yt(r,s,"formEncType",v.formEncType,v,null),yt(r,s,"formMethod",v.formMethod,v,null),yt(r,s,"formTarget",v.formTarget,v,null)):(yt(r,s,"encType",v.encType,v,null),yt(r,s,"method",v.method,v,null),yt(r,s,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(u);break}h=ha(""+h),r.setAttribute(u,h);break;case"onClick":h!=null&&(r.onclick=wi);break;case"onScroll":h!=null&&$e("scroll",r);break;case"onScrollEnd":h!=null&&$e("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}u=ha(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,""+h):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":h===!0?r.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,h):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(u,h):r.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(u):r.setAttribute(u,h);break;case"popover":$e("beforetoggle",r),$e("toggle",r),ca(r,"popover",h);break;case"xlinkActuate":$t(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":$t(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":$t(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":$t(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":$t(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":$t(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":$t(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":$t(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":$t(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ca(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Gc.get(u)||u,ca(r,u,h))}}function ym(r,s,u,h,v,E){switch(u){case"style":Jl(r,h,E);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof h=="string"?Dn(r,h):(typeof h=="number"||typeof h=="bigint")&&Dn(r,""+h);break;case"onScroll":h!=null&&$e("scroll",r);break;case"onScrollEnd":h!=null&&$e("scrollend",r);break;case"onClick":h!=null&&(r.onclick=wi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bl.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),s=u.slice(2,v?u.length-7:void 0),E=r[on]||null,E=E!=null?E[u]:null,typeof E=="function"&&r.removeEventListener(s,E,v),typeof h=="function")){typeof E!="function"&&E!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(s,h,v);break e}u in r?r[u]=h:h===!0?r.setAttribute(u,""):ca(r,u,h)}}}function pn(r,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",r),$e("load",r);var h=!1,v=!1,E;for(E in u)if(u.hasOwnProperty(E)){var C=u[E];if(C!=null)switch(E){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:yt(r,s,E,C,u,null)}}v&&yt(r,s,"srcSet",u.srcSet,u,null),h&&yt(r,s,"src",u.src,u,null);return;case"input":$e("invalid",r);var R=E=C=v=null,H=null,W=null;for(h in u)if(u.hasOwnProperty(h)){var re=u[h];if(re!=null)switch(h){case"name":v=re;break;case"type":C=re;break;case"checked":H=re;break;case"defaultChecked":W=re;break;case"value":E=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:yt(r,s,h,re,u,null)}}Bc(r,E,R,H,W,C,v,!1);return;case"select":$e("invalid",r),h=C=E=null;for(v in u)if(u.hasOwnProperty(v)&&(R=u[v],R!=null))switch(v){case"value":E=R;break;case"defaultValue":C=R;break;case"multiple":h=R;default:yt(r,s,v,R,u,null)}s=E,u=C,r.multiple=!!h,s!=null?uo(r,!!h,s,!1):u!=null&&uo(r,!!h,u,!0);return;case"textarea":$e("invalid",r),E=v=h=null;for(C in u)if(u.hasOwnProperty(C)&&(R=u[C],R!=null))switch(C){case"value":h=R;break;case"defaultValue":v=R;break;case"children":E=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:yt(r,s,C,R,u,null)}co(r,h,v,E);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(h=u[H],h!=null))switch(H){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:yt(r,s,H,h,u,null)}return;case"dialog":$e("beforetoggle",r),$e("toggle",r),$e("cancel",r),$e("close",r);break;case"iframe":case"object":$e("load",r);break;case"video":case"audio":for(h=0;h<bu.length;h++)$e(bu[h],r);break;case"image":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"embed":case"source":case"link":$e("error",r),$e("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in u)if(u.hasOwnProperty(W)&&(h=u[W],h!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:yt(r,s,W,h,u,null)}return;default:if(da(s)){for(re in u)u.hasOwnProperty(re)&&(h=u[re],h!==void 0&&ym(r,s,re,h,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(h=u[R],h!=null&&yt(r,s,R,h,u,null))}function XR(r,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,E=null,C=null,R=null,H=null,W=null,re=null;for(ne in u){var ce=u[ne];if(u.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":H=ce;default:h.hasOwnProperty(ne)||yt(r,s,ne,null,h,ce)}}for(var ee in h){var ne=h[ee];if(ce=u[ee],h.hasOwnProperty(ee)&&(ne!=null||ce!=null))switch(ee){case"type":E=ne;break;case"name":v=ne;break;case"checked":W=ne;break;case"defaultChecked":re=ne;break;case"value":C=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==ce&&yt(r,s,ee,ne,h,ce)}}fa(r,C,R,H,W,re,E,v);return;case"select":ne=C=R=ee=null;for(E in u)if(H=u[E],u.hasOwnProperty(E)&&H!=null)switch(E){case"value":break;case"multiple":ne=H;default:h.hasOwnProperty(E)||yt(r,s,E,null,h,H)}for(v in h)if(E=h[v],H=u[v],h.hasOwnProperty(v)&&(E!=null||H!=null))switch(v){case"value":ee=E;break;case"defaultValue":R=E;break;case"multiple":C=E;default:E!==H&&yt(r,s,v,E,h,H)}s=R,u=C,h=ne,ee!=null?uo(r,!!u,ee,!1):!!h!=!!u&&(s!=null?uo(r,!!u,s,!0):uo(r,!!u,u?[]:"",!1));return;case"textarea":ne=ee=null;for(R in u)if(v=u[R],u.hasOwnProperty(R)&&v!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:yt(r,s,R,null,h,v)}for(C in h)if(v=h[C],E=u[C],h.hasOwnProperty(C)&&(v!=null||E!=null))switch(C){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==E&&yt(r,s,C,v,h,E)}qc(r,ee,ne);return;case"option":for(var Ae in u)if(ee=u[Ae],u.hasOwnProperty(Ae)&&ee!=null&&!h.hasOwnProperty(Ae))switch(Ae){case"selected":r.selected=!1;break;default:yt(r,s,Ae,null,h,ee)}for(H in h)if(ee=h[H],ne=u[H],h.hasOwnProperty(H)&&ee!==ne&&(ee!=null||ne!=null))switch(H){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:yt(r,s,H,ee,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in u)ee=u[ke],u.hasOwnProperty(ke)&&ee!=null&&!h.hasOwnProperty(ke)&&yt(r,s,ke,null,h,ee);for(W in h)if(ee=h[W],ne=u[W],h.hasOwnProperty(W)&&ee!==ne&&(ee!=null||ne!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:yt(r,s,W,ee,h,ne)}return;default:if(da(s)){for(var _t in u)ee=u[_t],u.hasOwnProperty(_t)&&ee!==void 0&&!h.hasOwnProperty(_t)&&ym(r,s,_t,void 0,h,ee);for(re in h)ee=h[re],ne=u[re],!h.hasOwnProperty(re)||ee===ne||ee===void 0&&ne===void 0||ym(r,s,re,ee,h,ne);return}}for(var J in u)ee=u[J],u.hasOwnProperty(J)&&ee!=null&&!h.hasOwnProperty(J)&&yt(r,s,J,null,h,ee);for(ce in h)ee=h[ce],ne=u[ce],!h.hasOwnProperty(ce)||ee===ne||ee==null&&ne==null||yt(r,s,ce,ee,h,ne)}function D0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],E=v.transferSize,C=v.initiatorType,R=v.duration;if(E&&R&&D0(C)){for(C=0,R=v.responseEnd,h+=1;h<u.length;h++){var H=u[h],W=H.startTime;if(W>R)break;var re=H.transferSize,ce=H.initiatorType;re&&D0(ce)&&(H=H.responseEnd,C+=re*(H<R?1:(R-W)/(H-W)))}if(--h,s+=8*(E+C)/(v.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var _m=null,vm=null;function Yf(r){return r.nodeType===9?r:r.ownerDocument}function P0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Em(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tm=null;function ZR(){var r=window.event;return r&&r.type==="popstate"?r===Tm?!1:(Tm=r,!0):(Tm=null,!1)}var V0=typeof setTimeout=="function"?setTimeout:void 0,eN=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,tN=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(r){return U0.resolve(null).then(r).catch(nN)}:V0;function nN(r){setTimeout(function(){throw r})}function Po(r){return r==="head"}function O0(r,s){var u=s,h=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){r.removeChild(v),Ka(s);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Nu(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,Nu(u);for(var E=u.firstChild;E;){var C=E.nextSibling,R=E.nodeName;E[Ki]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=C}}else u==="body"&&Nu(r.ownerDocument.body);u=v}while(u);Ka(s)}function F0(r,s){var u=r;r=0;do{var h=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=h}while(u)}function Sm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Sm(u),ua(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function iN(r,s,u,h){for(;r.nodeType===1;){var v=u;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Ki])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(E=r.getAttribute("rel"),E==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(E!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(E=r.getAttribute("src"),(E!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&E&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var E=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===E)return r}else return r;if(r=hi(r.nextSibling),r===null)break}return null}function rN(r,s,u){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=hi(r.nextSibling),r===null))return null;return r}function z0(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=hi(r.nextSibling),r===null))return null;return r}function Am(r){return r.data==="$?"||r.data==="$~"}function Cm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function oN(r,s){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||u.readyState!=="loading")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function hi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var wm=null;function B0(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(s===0)return hi(r.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}r=r.nextSibling}return null}function q0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return r;s--}else u!=="/$"&&u!=="/&"||s++}r=r.previousSibling}return null}function H0(r,s,u){switch(s=Yf(u),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Nu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ua(r)}var pi=new Map,G0=new Set;function Kf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Br=de.d;de.d={f:sN,r:aN,D:lN,C:uN,L:cN,m:fN,X:hN,S:dN,M:pN};function sN(){var r=Br.f(),s=Of();return r||s}function aN(r){var s=ii(r);s!==null&&s.tag===5&&s.type==="form"?aE(s):Br.r(r)}var Ga=typeof document>"u"?null:document;function $0(r,s,u){var h=Ga;if(h&&typeof s=="string"&&s){var v=Mn(s);v='link[rel="'+r+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),G0.has(v)||(G0.add(v),r={rel:r,crossOrigin:u,href:s},h.querySelector(v)===null&&(s=h.createElement("link"),pn(s,"link",r),Gt(s),h.head.appendChild(s)))}}function lN(r){Br.D(r),$0("dns-prefetch",r,null)}function uN(r,s){Br.C(r,s),$0("preconnect",r,s)}function cN(r,s,u){Br.L(r,s,u);var h=Ga;if(h&&r&&s){var v='link[rel="preload"][as="'+Mn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Mn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Mn(u.imageSizes)+'"]')):v+='[href="'+Mn(r)+'"]';var E=v;switch(s){case"style":E=$a(r);break;case"script":E=Ya(r)}pi.has(E)||(r=_({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:r,as:s},u),pi.set(E,r),h.querySelector(v)!==null||s==="style"&&h.querySelector(ku(E))||s==="script"&&h.querySelector(Mu(E))||(s=h.createElement("link"),pn(s,"link",r),Gt(s),h.head.appendChild(s)))}}function fN(r,s){Br.m(r,s);var u=Ga;if(u&&r){var h=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Mn(h)+'"][href="'+Mn(r)+'"]',E=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ya(r)}if(!pi.has(E)&&(r=_({rel:"modulepreload",href:r},s),pi.set(E,r),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Mu(E)))return}h=u.createElement("link"),pn(h,"link",r),Gt(h),u.head.appendChild(h)}}}function dN(r,s,u){Br.S(r,s,u);var h=Ga;if(h&&r){var v=Qi(h).hoistableStyles,E=$a(r);s=s||"default";var C=v.get(E);if(!C){var R={loading:0,preload:null};if(C=h.querySelector(ku(E)))R.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},u),(u=pi.get(E))&&xm(r,u);var H=C=h.createElement("link");Gt(H),pn(H,"link",r),H._p=new Promise(function(W,re){H.onload=W,H.onerror=re}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Jf(C,s,h)}C={type:"stylesheet",instance:C,count:1,state:R},v.set(E,C)}}}function hN(r,s){Br.X(r,s);var u=Ga;if(u&&r){var h=Qi(u).hoistableScripts,v=Ya(r),E=h.get(v);E||(E=u.querySelector(Mu(v)),E||(r=_({src:r,async:!0},s),(s=pi.get(v))&&Im(r,s),E=u.createElement("script"),Gt(E),pn(E,"link",r),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(v,E))}}function pN(r,s){Br.M(r,s);var u=Ga;if(u&&r){var h=Qi(u).hoistableScripts,v=Ya(r),E=h.get(v);E||(E=u.querySelector(Mu(v)),E||(r=_({src:r,async:!0,type:"module"},s),(s=pi.get(v))&&Im(r,s),E=u.createElement("script"),Gt(E),pn(E,"link",r),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(v,E))}}function Y0(r,s,u,h){var v=(v=we.current)?Kf(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=$a(u.href),u=Qi(v).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=$a(u.href);var E=Qi(v).hoistableStyles,C=E.get(r);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(r,C),(E=v.querySelector(ku(r)))&&!E._p&&(C.instance=E,C.state.loading=5),pi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},pi.set(r,u),E||mN(v,r,u,C.state))),s&&h===null)throw Error(i(528,""));return C}if(s&&h!==null)throw Error(i(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ya(u),u=Qi(v).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function $a(r){return'href="'+Mn(r)+'"'}function ku(r){return'link[rel="stylesheet"]['+r+"]"}function K0(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function mN(r,s,u,h){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=r.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),pn(s,"link",u),Gt(s),r.head.appendChild(s))}function Ya(r){return'[src="'+Mn(r)+'"]'}function Mu(r){return"script[async]"+r}function J0(r,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=r.querySelector('style[data-href~="'+Mn(u.href)+'"]');if(h)return s.instance=h,Gt(h),h;var v=_({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Gt(h),pn(h,"style",v),Jf(h,u.precedence,r),s.instance=h;case"stylesheet":v=$a(u.href);var E=r.querySelector(ku(v));if(E)return s.state.loading|=4,s.instance=E,Gt(E),E;h=K0(u),(v=pi.get(v))&&xm(h,v),E=(r.ownerDocument||r).createElement("link"),Gt(E);var C=E;return C._p=new Promise(function(R,H){C.onload=R,C.onerror=H}),pn(E,"link",h),s.state.loading|=4,Jf(E,u.precedence,r),s.instance=E;case"script":return E=Ya(u.src),(v=r.querySelector(Mu(E)))?(s.instance=v,Gt(v),v):(h=u,(v=pi.get(E))&&(h=_({},u),Im(h,v)),r=r.ownerDocument||r,v=r.createElement("script"),Gt(v),pn(v,"link",h),r.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Jf(h,u.precedence,r));return s.instance}function Jf(r,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,E=v,C=0;C<h.length;C++){var R=h[C];if(R.dataset.precedence===s)E=R;else if(E!==v)break}E?E.parentNode.insertBefore(r,E.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(r,s.firstChild))}function xm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Im(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Qf=null;function Q0(r,s,u){if(Qf===null){var h=new Map,v=Qf=new Map;v.set(u,h)}else v=Qf,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(r))return h;for(h.set(r,null),u=u.getElementsByTagName(r),v=0;v<u.length;v++){var E=u[v];if(!(E[Ki]||E[Ht]||r==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var C=E.getAttribute(s)||"";C=r+C;var R=h.get(C);R?R.push(E):h.set(C,[E])}}return h}function j0(r,s,u){r=r.ownerDocument||r,r.head.insertBefore(u,s==="title"?r.querySelector("head > title"):null)}function gN(r,s,u){if(u===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function X0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function yN(r,s,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=$a(h.href),E=s.querySelector(ku(v));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=jf.bind(r),s.then(r,r)),u.state.loading|=4,u.instance=E,Gt(E);return}E=s.ownerDocument||s,h=K0(h),(v=pi.get(v))&&xm(h,v),E=E.createElement("link"),Gt(E);var C=E;C._p=new Promise(function(R,H){C.onload=R,C.onerror=H}),pn(E,"link",h),u.instance=E}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=jf.bind(r),s.addEventListener("load",u),s.addEventListener("error",u))}}var bm=0;function _N(r,s){return r.stylesheets&&r.count===0&&Wf(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var h=setTimeout(function(){if(r.stylesheets&&Wf(r,r.stylesheets),r.unsuspend){var E=r.unsuspend;r.unsuspend=null,E()}},6e4+s);0<r.imgBytes&&bm===0&&(bm=62500*WR());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Wf(r,r.stylesheets),r.unsuspend)){var E=r.unsuspend;r.unsuspend=null,E()}},(r.imgBytes>bm?50:800)+s);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xf=null;function Wf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xf=new Map,s.forEach(vN,r),Xf=null,jf.call(r))}function vN(r,s){if(!(s.state.loading&4)){var u=Xf.get(r);if(u)var h=u.get(null);else{u=new Map,Xf.set(r,u);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<v.length;E++){var C=v[E];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),h=C)}h&&u.set(null,h)}v=s.instance,C=v.getAttribute("data-precedence"),E=u.get(C)||h,E===h&&u.set(null,v),u.set(C,v),this.count++,h=jf.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),E?E.parentNode.insertBefore(v,E.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),s.state.loading|=4}}var Du={$$typeof:B,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function EN(r,s,u,h,v,E,C,R,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=E,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function W0(r,s,u,h,v,E,C,R,H,W,re,ce){return r=new EN(r,s,u,C,H,W,re,ce,R),s=1,E===!0&&(s|=24),E=Yn(3,null,null,s),r.current=E,E.stateNode=r,s=ap(),s.refCount++,r.pooledCache=s,s.refCount++,E.memoizedState={element:h,isDehydrated:u,cache:s},fp(E),r}function Z0(r){return r?(r=Aa,r):Aa}function eT(r,s,u,h,v,E){v=Z0(v),h.context===null?h.context=v:h.pendingContext=v,h=Ao(s),h.payload={element:u},E=E===void 0?null:E,E!==null&&(h.callback=E),u=Co(r,h,s),u!==null&&(On(u,r,s),fu(u,r,s))}function tT(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function Rm(r,s){tT(r,s),(r=r.alternate)&&tT(r,s)}function nT(r){if(r.tag===13||r.tag===31){var s=xs(r,67108864);s!==null&&On(s,r,67108864),Rm(r,67108864)}}function iT(r){if(r.tag===13||r.tag===31){var s=Xn();s=ps(s);var u=xs(r,s);u!==null&&On(u,r,s),Rm(r,s)}}var Zf=!0;function TN(r,s,u,h){var v=Q.T;Q.T=null;var E=de.p;try{de.p=2,Nm(r,s,u,h)}finally{de.p=E,Q.T=v}}function SN(r,s,u,h){var v=Q.T;Q.T=null;var E=de.p;try{de.p=8,Nm(r,s,u,h)}finally{de.p=E,Q.T=v}}function Nm(r,s,u,h){if(Zf){var v=km(h);if(v===null)gm(r,s,h,ed,u),oT(r,h);else if(CN(v,r,s,u,h))h.stopPropagation();else if(oT(r,h),s&4&&-1<AN.indexOf(r)){for(;v!==null;){var E=ii(v);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var C=Hi(E.pendingLanes);if(C!==0){var R=E;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var H=1<<31-We(C);R.entanglements[1]|=H,C&=~H}lr(E),(ut&6)===0&&(Vf=un()+500,Iu(0))}}break;case 31:case 13:R=xs(E,2),R!==null&&On(R,E,2),Of(),Rm(E,2)}if(E=km(h),E===null&&gm(r,s,h,ed,u),E===v)break;v=E}v!==null&&h.stopPropagation()}else gm(r,s,h,null,u)}}function km(r){return r=ri(r),Mm(r)}var ed=null;function Mm(r){if(ed=null,r=Ji(r),r!==null){var s=a(r);if(s===null)r=null;else{var u=s.tag;if(u===13){if(r=l(s),r!==null)return r;r=null}else if(u===31){if(r=c(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ed=r,null}function rT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case ae:return 2;case ge:return 8;case Re:case He:return 32;case it:return 268435456;default:return 32}default:return 32}}var Dm=!1,Lo=null,Vo=null,Uo=null,Pu=new Map,Lu=new Map,Oo=[],AN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oT(r,s){switch(r){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(s.pointerId)}}function Vu(r,s,u,h,v,E){return r===null||r.nativeEvent!==E?(r={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:E,targetContainers:[v]},s!==null&&(s=ii(s),s!==null&&nT(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function CN(r,s,u,h,v){switch(s){case"focusin":return Lo=Vu(Lo,r,s,u,h,v),!0;case"dragenter":return Vo=Vu(Vo,r,s,u,h,v),!0;case"mouseover":return Uo=Vu(Uo,r,s,u,h,v),!0;case"pointerover":var E=v.pointerId;return Pu.set(E,Vu(Pu.get(E)||null,r,s,u,h,v)),!0;case"gotpointercapture":return E=v.pointerId,Lu.set(E,Vu(Lu.get(E)||null,r,s,u,h,v)),!0}return!1}function sT(r){var s=Ji(r.target);if(s!==null){var u=a(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){r.blockedOn=s,Ai(r.priority,function(){iT(u)});return}}else if(s===31){if(s=c(u),s!==null){r.blockedOn=s,Ai(r.priority,function(){iT(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function td(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=km(r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);Ql=h,u.target.dispatchEvent(h),Ql=null}else return s=ii(u),s!==null&&nT(s),r.blockedOn=u,!1;s.shift()}return!0}function aT(r,s,u){td(r)&&u.delete(s)}function wN(){Dm=!1,Lo!==null&&td(Lo)&&(Lo=null),Vo!==null&&td(Vo)&&(Vo=null),Uo!==null&&td(Uo)&&(Uo=null),Pu.forEach(aT),Lu.forEach(aT)}function nd(r,s){r.blockedOn===s&&(r.blockedOn=null,Dm||(Dm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wN)))}var id=null;function lT(r){id!==r&&(id=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){id===r&&(id=null);for(var s=0;s<r.length;s+=3){var u=r[s],h=r[s+1],v=r[s+2];if(typeof h!="function"){if(Mm(h||u)===null)continue;break}var E=ii(u);E!==null&&(r.splice(s,3),s-=3,kp(E,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Ka(r){function s(H){return nd(H,r)}Lo!==null&&nd(Lo,r),Vo!==null&&nd(Vo,r),Uo!==null&&nd(Uo,r),Pu.forEach(s),Lu.forEach(s);for(var u=0;u<Oo.length;u++){var h=Oo[u];h.blockedOn===r&&(h.blockedOn=null)}for(;0<Oo.length&&(u=Oo[0],u.blockedOn===null);)sT(u),u.blockedOn===null&&Oo.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],E=u[h+1],C=v[on]||null;if(typeof E=="function")C||lT(u);else if(C){var R=null;if(E&&E.hasAttribute("formAction")){if(v=E,C=E[on]||null)R=C.formAction;else if(Mm(v)!==null)continue}else R=C.action;typeof R=="function"?u[h+1]=R:(u.splice(h,3),h-=3),lT(u)}}}function uT(){function r(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Pm(r){this._internalRoot=r}rd.prototype.render=Pm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var u=s.current,h=Xn();eT(u,h,r,s,null,null)},rd.prototype.unmount=Pm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;eT(r.current,2,null,r,null,null),Of(),s[Yi]=null}};function rd(r){this._internalRoot=r}rd.prototype.unstable_scheduleHydration=function(r){if(r){var s=Uc();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Oo.length&&s!==0&&s<Oo[u].priority;u++);Oo.splice(u,0,r),u===0&&sT(r)}};var cT=e.version;if(cT!=="19.2.1")throw Error(i(527,cT,"19.2.1"));de.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var xN={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{Ut=od.inject(xN),Mt=od}catch{}}return Ou.createRoot=function(r,s){if(!o(r))throw Error(i(299));var u=!1,h="",v=yE,E=_E,C=vE;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=W0(r,1,!1,null,null,u,h,null,v,E,C,uT),r[Yi]=s.current,mm(r),new Pm(s)},Ou.hydrateRoot=function(r,s,u){if(!o(r))throw Error(i(299));var h=!1,v="",E=yE,C=_E,R=vE,H=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),s=W0(r,1,!0,s,u??null,h,v,H,E,C,R,uT),s.context=Z0(null),u=s.current,h=Xn(),h=ps(h),v=Ao(h),v.callback=null,Co(u,v,h),u=h,s.current.lanes=u,ds(s,u),lr(s),r[Yi]=s.current,mm(r),new rd(s)},Ou.version="19.2.1",Ou}var ET;function VN(){if(ET)return Um.exports;ET=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Um.exports=LN(),Um.exports}var UN=VN();const ON=lh(UN);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TT="popstate";function FN(t={}){function e(o,a){let{pathname:l="/",search:c="",hash:f=""}=Ws(o.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Tg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let l=o.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=o.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof a=="string"?a:oc(a))}function i(o,a){ei(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return BN(e,n,i,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ei(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zN(){return Math.random().toString(36).substring(2,10)}function ST(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ws(e):e,state:n,key:e&&e.key||i||zN()}}function oc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function BN(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,l=o.history,c="POP",f=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function _(){c="POP";let V=m(),U=V==null?null:V-d;d=V,f&&f({action:c,location:k.location,delta:U})}function T(V,U){c="PUSH";let G=Tg(k.location,V,U);n&&n(G,V),d=m()+1;let B=ST(G,d),ie=k.createHref(G);try{l.pushState(B,"",ie)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ie)}a&&f&&f({action:c,location:k.location,delta:1})}function S(V,U){c="REPLACE";let G=Tg(k.location,V,U);n&&n(G,V),d=m();let B=ST(G,d),ie=k.createHref(G);l.replaceState(B,"",ie),a&&f&&f({action:c,location:k.location,delta:0})}function I(V){return qN(V)}let k={get action(){return c},get location(){return t(o,l)},listen(V){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(TT,_),f=V,()=>{o.removeEventListener(TT,_),f=null}},createHref(V){return e(o,V)},createURL:I,encodeLocation(V){let U=I(V);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:T,replace:S,go(V){return l.go(V)}};return k}function qN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:oc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Ew(t,e,n="/"){return HN(t,e,n,!1)}function HN(t,e,n,i){let o=typeof e=="string"?Ws(e):e,a=Kr(o.pathname||"/",n);if(a==null)return null;let l=Tw(t);GN(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=tk(a);c=ZN(l[f],d,i)}return c}function Tw(t,e=[],n=[],i="",o=!1){let a=(l,c,f=o,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;Nt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let _=$r([i,m.relativePath]),T=n.concat(m);l.children&&l.children.length>0&&(Nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Tw(l.children,e,T,_,f)),!(l.path==null&&!l.index)&&e.push({path:_,score:XN(_,l.index),routesMeta:T})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let d of Sw(l.path))a(l,c,!0,d)}),e}function Sw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let l=Sw(i.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),o&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function GN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var $N=/^:[\w-]+$/,YN=3,KN=2,JN=1,QN=10,jN=-2,AT=t=>t==="*";function XN(t,e){let n=t.split("/"),i=n.length;return n.some(AT)&&(i+=jN),e&&(i+=KN),n.filter(o=>!AT(o)).reduce((o,a)=>o+($N.test(a)?YN:a===""?JN:QN),i)}function WN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function ZN(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",l=[];for(let c=0;c<i.length;++c){let f=i[c],d=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",_=Dd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),T=f.route;if(!_&&d&&n&&!i[i.length-1].route.index&&(_=Dd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!_)return null;Object.assign(o,_.params),l.push({params:o,pathname:$r([a,_.pathname]),pathnameBase:sk($r([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=$r([a,_.pathnameBase]))}return l}function Dd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ek(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:_},T)=>{if(m==="*"){let I=c[T]||"";l=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const S=c[T];return _&&!S?d[m]=void 0:d[m]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:t}}function ek(t,e=!1,n=!0){ei(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function tk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ik=t=>nk.test(t);function rk(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Ws(t):t,a;if(n)if(ik(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=CT(n.substring(1),"/"):a=CT(n,e)}else a=e;return{pathname:a,search:ak(i),hash:lk(o)}}function CT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bm(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ok(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gy(t){let e=ok(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function yy(t,e,n,i=!1){let o;typeof t=="string"?o=Ws(t):(o={...t},Nt(!o.pathname||!o.pathname.includes("?"),Bm("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),Bm("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),Bm("#","search","hash",o)));let a=t===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!i&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;o.pathname=T.join("/")}c=_>=0?e[_]:"/"}let f=rk(o,c),d=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var $r=t=>t.join("/").replace(/\/\/+/g,"/"),sk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ak=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ck(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Aw=["POST","PUT","PATCH","DELETE"];new Set(Aw);var fk=["GET",...Aw];new Set(fk);var Tl=Z.createContext(null);Tl.displayName="DataRouter";var uh=Z.createContext(null);uh.displayName="DataRouterState";Z.createContext(!1);var Cw=Z.createContext({isTransitioning:!1});Cw.displayName="ViewTransition";var dk=Z.createContext(new Map);dk.displayName="Fetchers";var hk=Z.createContext(null);hk.displayName="Await";var vi=Z.createContext(null);vi.displayName="Navigation";var yc=Z.createContext(null);yc.displayName="Location";var Er=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var _y=Z.createContext(null);_y.displayName="RouteError";function pk(t,{relative:e}={}){Nt(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=Z.useContext(vi),{hash:o,pathname:a,search:l}=_c(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:$r([n,a])),i.createHref({pathname:c,search:l,hash:o})}function Sl(){return Z.useContext(yc)!=null}function Zr(){return Nt(Sl(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(yc).location}var ww="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xw(t){Z.useContext(vi).static||Z.useLayoutEffect(t)}function Al(){let{isDataRoute:t}=Z.useContext(Er);return t?Ik():mk()}function mk(){Nt(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=Z.useContext(Tl),{basename:e,navigator:n}=Z.useContext(vi),{matches:i}=Z.useContext(Er),{pathname:o}=Zr(),a=JSON.stringify(gy(i)),l=Z.useRef(!1);return xw(()=>{l.current=!0}),Z.useCallback((f,d={})=>{if(ei(l.current,ww),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=yy(f,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:$r([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,a,o,t])}Z.createContext(null);function _c(t,{relative:e}={}){let{matches:n}=Z.useContext(Er),{pathname:i}=Zr(),o=JSON.stringify(gy(n));return Z.useMemo(()=>yy(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function gk(t,e){return Iw(t,e)}function Iw(t,e,n,i,o){var G;Nt(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Z.useContext(vi),{matches:l}=Z.useContext(Er),c=l[l.length-1],f=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let B=_&&_.path||"";bw(d,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Zr(),S;if(e){let B=typeof e=="string"?Ws(e):e;Nt(m==="/"||((G=B.pathname)==null?void 0:G.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=T;let I=S.pathname||"/",k=I;if(m!=="/"){let B=m.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=Ew(t,{pathname:k});ei(_||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ei(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=Tk(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:$r([m,a.encodeLocation?a.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:$r([m,a.encodeLocation?a.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),l,n,i,o);return e&&U?Z.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function yk(){let t=xk(),e=uk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:a},"ErrorBoundary")," or"," ",Z.createElement("code",{style:a},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:o},n):null,l)}var _k=Z.createElement(yk,null),vk=class extends Z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?Z.createElement(Er.Provider,{value:this.props.routeContext},Z.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ek({routeContext:t,match:e,children:n}){let i=Z.useContext(Tl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Er.Provider,{value:t},n)}function Tk(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);Nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let _=a[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=m),_.route.id){let{loaderData:T,errors:S}=n,I=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||I){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let d=n&&i?(m,_)=>{var T,S;i(m,{location:n.location,params:((S=(T=n.matches)==null?void 0:T[0])==null?void 0:S.params)??{},unstable_pattern:ck(n.matches),errorInfo:_})}:void 0;return a.reduceRight((m,_,T)=>{let S,I=!1,k=null,V=null;n&&(S=l&&_.route.id?l[_.route.id]:void 0,k=_.route.errorElement||_k,c&&(f<0&&T===0?(bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,V=null):f===T&&(I=!0,V=_.route.hydrateFallbackElement||null)));let U=e.concat(a.slice(0,T+1)),G=()=>{let B;return S?B=k:I?B=V:_.route.Component?B=Z.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=m,Z.createElement(Ek,{match:_,routeContext:{outlet:m,matches:U,isDataRoute:n!=null},children:B})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?Z.createElement(vk,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:G(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:d}):G()},null)}function vy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sk(t){let e=Z.useContext(Tl);return Nt(e,vy(t)),e}function Ak(t){let e=Z.useContext(uh);return Nt(e,vy(t)),e}function Ck(t){let e=Z.useContext(Er);return Nt(e,vy(t)),e}function Ey(t){let e=Ck(t),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function wk(){return Ey("useRouteId")}function xk(){var i;let t=Z.useContext(_y),e=Ak("useRouteError"),n=Ey("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function Ik(){let{router:t}=Sk("useNavigate"),e=Ey("useNavigate"),n=Z.useRef(!1);return xw(()=>{n.current=!0}),Z.useCallback(async(o,a={})=>{ei(n.current,ww),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var wT={};function bw(t,e,n){!e&&!wT[t]&&(wT[t]=!0,ei(!1,n))}Z.memo(bk);function bk({routes:t,future:e,state:n,unstable_onError:i}){return Iw(t,void 0,n,i,e)}function Rk({to:t,replace:e,state:n,relative:i}){Nt(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Z.useContext(vi);ei(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Z.useContext(Er),{pathname:l}=Zr(),c=Al(),f=yy(t,gy(a),l,i==="path"),d=JSON.stringify(f);return Z.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:i})},[c,d,i,e,n]),null}function zs(t){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nk({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1,unstable_useTransitions:l}){Nt(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=Z.useMemo(()=>({basename:c,navigator:o,static:a,unstable_useTransitions:l,future:{}}),[c,o,a,l]);typeof n=="string"&&(n=Ws(n));let{pathname:d="/",search:m="",hash:_="",state:T=null,key:S="default"}=n,I=Z.useMemo(()=>{let k=Kr(d,c);return k==null?null:{location:{pathname:k,search:m,hash:_,state:T,key:S},navigationType:i}},[c,d,m,_,T,S,i]);return ei(I!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:Z.createElement(vi.Provider,{value:f},Z.createElement(yc.Provider,{children:e,value:I}))}function kk({children:t,location:e}){return gk(Sg(t),e)}function Sg(t,e=[]){let n=[];return Z.Children.forEach(t,(i,o)=>{if(!Z.isValidElement(i))return;let a=[...e,o];if(i.type===Z.Fragment){n.push.apply(n,Sg(i.props.children,a));return}Nt(i.type===zs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Sg(i.props.children,a)),n.push(l)}),n}var _d="get",vd="application/x-www-form-urlencoded";function ch(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Mk(t){return ch(t)&&t.tagName.toLowerCase()==="button"}function Dk(t){return ch(t)&&t.tagName.toLowerCase()==="form"}function Pk(t){return ch(t)&&t.tagName.toLowerCase()==="input"}function Lk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vk(t,e){return t.button===0&&(!e||e==="_self")&&!Lk(t)}var sd=null;function Uk(){if(sd===null)try{new FormData(document.createElement("form"),0),sd=!1}catch{sd=!0}return sd}var Ok=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(t){return t!=null&&!Ok.has(t)?(ei(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):t}function Fk(t,e){let n,i,o,a,l;if(Dk(t)){let c=t.getAttribute("action");i=c?Kr(c,e):null,n=t.getAttribute("method")||_d,o=qm(t.getAttribute("enctype"))||vd,a=new FormData(t)}else if(Mk(t)||Pk(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(i=f?Kr(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||_d,o=qm(t.getAttribute("formenctype"))||qm(c.getAttribute("enctype"))||vd,a=new FormData(c,t),!Uk()){let{name:d,type:m,value:_}=t;if(m==="image"){let T=d?`${d}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else d&&a.append(d,_)}}else{if(ch(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_d,i=null,o=vd,l=t}return a&&o==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ty(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zk(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Kr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Bk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Hk(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await Bk(a,n);return l.links?l.links():[]}return[]}));return Kk(i.flat(1).filter(qk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xT(t,e,n,i,o,a){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>{var m;return n[d].pathname!==f.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):a==="data"?e.filter((f,d)=>{var _;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Gk(t,e,{includeHydrateFallback:n}={}){return $k(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function $k(t){return[...new Set(t)]}function Yk(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Kk(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(Yk(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function Rw(){let t=Z.useContext(Tl);return Ty(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Jk(){let t=Z.useContext(uh);return Ty(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sy=Z.createContext(void 0);Sy.displayName="FrameworkContext";function Nw(){let t=Z.useContext(Sy);return Ty(t,"You must render this element inside a <HydratedRouter> element"),t}function Qk(t,e){let n=Z.useContext(Sy),[i,o]=Z.useState(!1),[a,l]=Z.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=e,T=Z.useRef(null);Z.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let k=U=>{U.forEach(G=>{l(G.isIntersecting)})},V=new IntersectionObserver(k,{threshold:.5});return T.current&&V.observe(T.current),()=>{V.disconnect()}}},[t]),Z.useEffect(()=>{if(i){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[i]);let S=()=>{o(!0)},I=()=>{o(!1),l(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:Fu(c,S),onBlur:Fu(f,I),onMouseEnter:Fu(d,S),onMouseLeave:Fu(m,I),onTouchStart:Fu(_,S)}]:[!1,T,{}]}function Fu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jk({page:t,...e}){let{router:n}=Rw(),i=Z.useMemo(()=>Ew(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?Z.createElement(Wk,{page:t,matches:i,...e}):null}function Xk(t){let{manifest:e,routeModules:n}=Nw(),[i,o]=Z.useState([]);return Z.useEffect(()=>{let a=!1;return Hk(t,e,n).then(l=>{a||o(l)}),()=>{a=!0}},[t,e,n]),i}function Wk({page:t,matches:e,...n}){let i=Zr(),{manifest:o,routeModules:a}=Nw(),{basename:l}=Rw(),{loaderData:c,matches:f}=Jk(),d=Z.useMemo(()=>xT(t,e,f,o,i,"data"),[t,e,f,o,i]),m=Z.useMemo(()=>xT(t,e,f,o,i,"assets"),[t,e,f,o,i]),_=Z.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,k=!1;if(e.forEach(U=>{var B;let G=o.routes[U.route.id];!G||!G.hasLoader||(!d.some(ie=>ie.route.id===U.route.id)&&U.route.id in c&&((B=a[U.route.id])!=null&&B.shouldRevalidate)||G.hasClientLoader?k=!0:I.add(U.route.id))}),I.size===0)return[];let V=zk(t,l,"data");return k&&I.size>0&&V.searchParams.set("_routes",e.filter(U=>I.has(U.route.id)).map(U=>U.route.id).join(",")),[V.pathname+V.search]},[l,c,i,o,d,e,t,a]),T=Z.useMemo(()=>Gk(m,o),[m,o]),S=Xk(m);return Z.createElement(Z.Fragment,null,_.map(I=>Z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),T.map(I=>Z.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),S.map(({key:I,link:k})=>Z.createElement("link",{key:I,nonce:n.nonce,...k})))}function Zk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kw&&(window.__reactRouterVersion="7.10.1")}catch{}function eM({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=Z.useRef();o.current==null&&(o.current=FN({window:i,v5Compat:!0}));let a=o.current,[l,c]=Z.useState({action:a.action,location:a.location}),f=Z.useCallback(d=>{n===!1?c(d):Z.startTransition(()=>c(d))},[n]);return Z.useLayoutEffect(()=>a.listen(f),[a,f]),Z.createElement(Nk,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n===!0})}var Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dw=Z.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:l,state:c,target:f,to:d,preventScrollReset:m,viewTransition:_,...T},S){let{basename:I,unstable_useTransitions:k}=Z.useContext(vi),V=typeof d=="string"&&Mw.test(d),U,G=!1;if(typeof d=="string"&&V&&(U=d,kw))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),O=Kr(N.pathname,I);N.origin===b.origin&&O!=null?d=O+N.search+N.hash:G=!0}catch{ei(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=pk(d,{relative:o}),[ie,se,K]=Qk(i,T),P=rM(d,{replace:l,state:c,target:f,preventScrollReset:m,relative:o,viewTransition:_,unstable_useTransitions:k});function L(b){e&&e(b),b.defaultPrevented||P(b)}let D=Z.createElement("a",{...T,...K,href:U||B,onClick:G||a?e:L,ref:Zk(S,se),target:f,"data-discover":!V&&n==="render"?"true":void 0});return ie&&!V?Z.createElement(Z.Fragment,null,D,Z.createElement(jk,{page:B})):D});Dw.displayName="Link";var tM=Z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:f,...d},m){let _=_c(l,{relative:d.relative}),T=Zr(),S=Z.useContext(uh),{navigator:I,basename:k}=Z.useContext(vi),V=S!=null&&uM(_)&&c===!0,U=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,G=T.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(G=G.toLowerCase(),B=B?B.toLowerCase():null,U=U.toLowerCase()),B&&k&&(B=Kr(B,k)||B);const ie=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let se=G===U||!o&&G.startsWith(U)&&G.charAt(ie)==="/",K=B!=null&&(B===U||!o&&B.startsWith(U)&&B.charAt(U.length)==="/"),P={isActive:se,isPending:K,isTransitioning:V},L=se?e:void 0,D;typeof i=="function"?D=i(P):D=[i,se?"active":null,K?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(P):a;return Z.createElement(Dw,{...d,"aria-current":L,className:D,ref:m,style:b,to:l,viewTransition:c},typeof f=="function"?f(P):f)});tM.displayName="NavLink";var nM=Z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:l=_d,action:c,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:_,...T},S)=>{let{unstable_useTransitions:I}=Z.useContext(vi),k=aM(),V=lM(c,{relative:d}),U=l.toLowerCase()==="get"?"get":"post",G=typeof c=="string"&&Mw.test(c),B=ie=>{if(f&&f(ie),ie.defaultPrevented)return;ie.preventDefault();let se=ie.nativeEvent.submitter,K=(se==null?void 0:se.getAttribute("formmethod"))||l,P=()=>k(se||ie.currentTarget,{fetcherKey:e,method:K,navigate:n,replace:o,state:a,relative:d,preventScrollReset:m,viewTransition:_});I&&n!==!1?Z.startTransition(()=>P()):P()};return Z.createElement("form",{ref:S,method:U,action:V,onSubmit:i?f:B,...T,"data-discover":!G&&t==="render"?"true":void 0})});nM.displayName="Form";function iM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pw(t){let e=Z.useContext(Tl);return Nt(e,iM(t)),e}function rM(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:l,unstable_useTransitions:c}={}){let f=Al(),d=Zr(),m=_c(t,{relative:a});return Z.useCallback(_=>{if(Vk(_,e)){_.preventDefault();let T=n!==void 0?n:oc(d)===oc(m),S=()=>f(t,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:l});c?Z.startTransition(()=>S()):S()}},[d,f,m,n,i,e,t,o,a,l,c])}var oM=0,sM=()=>`__${String(++oM)}__`;function aM(){let{router:t}=Pw("useSubmit"),{basename:e}=Z.useContext(vi),n=wk(),i=t.fetch,o=t.navigate;return Z.useCallback(async(a,l={})=>{let{action:c,method:f,encType:d,formData:m,body:_}=Fk(a,e);if(l.navigate===!1){let T=l.fetcherKey||sM();await i(T,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:_,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await o(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:_,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,o,e,n])}function lM(t,{relative:e}={}){let{basename:n}=Z.useContext(vi),i=Z.useContext(Er);Nt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={..._c(t||".",{relative:e})},l=Zr();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(_=>_).forEach(_=>c.append("index",_));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:$r([n,a.pathname])),oc(a)}function uM(t,{relative:e}={}){let n=Z.useContext(Cw);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Pw("useViewTransitionState"),o=_c(t,{relative:e});if(!n.isTransitioning)return!1;let a=Kr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Kr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Dd(o.pathname,l)!=null||Dd(o.pathname,a)!=null}/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),IT=t=>{const e=fM(t);return e.charAt(0).toUpperCase()+e.slice(1)},Lw=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),dM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:l,...c},f)=>Z.createElement("svg",{ref:f,...hM,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Lw("lucide",o),...!a&&!dM(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,m])=>Z.createElement(d,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=Z.forwardRef(({className:i,...o},a)=>Z.createElement(pM,{ref:a,iconNode:e,className:Lw(`lucide-${cM(IT(t))}`,`lucide-${t}`,i),...o}));return n.displayName=IT(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],gM=nt("arrow-down-to-line",mM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Vw=nt("book-open",yM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],vM=nt("brain",_M);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],TM=nt("bug",EM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fl=nt("check",SM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vc=nt("chevron-right",AM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wM=nt("circle-alert",CM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IM=nt("clock",xM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],RM=nt("code-xml",bM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Uw=nt("copy",NM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],MM=nt("external-link",kM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ow=nt("file-text",DM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],LM=nt("file",PM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],bT=nt("folder-open",VM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],OM=nt("folder",UM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zM=nt("info",FM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],qM=nt("key",BM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],GM=nt("layers",HM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Fw=nt("lightbulb",$M);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],KM=nt("loader-circle",YM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RT=nt("mail",JM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],NT=nt("map",QM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],XM=nt("moon",jM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zw=nt("pen",WM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eD=nt("plus",ZM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nD=nt("settings",tD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fr=nt("sparkles",iD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oD=nt("sun",rD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Ay=nt("terminal",sD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lD=nt("trash-2",aD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cD=nt("upload",uD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],dD=nt("volume-2",fD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fh=nt("x",hD);var Rt=(t=>(t.IDEA="IDEA",t.RESEARCH="RESEARCH",t.PRD="PRD",t.PLANNING="PLANNING",t.DESIGN="DESIGN",t.CODE="CODE",t))(Rt||{});function pD(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const mD=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gD=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yD={};function kT(t,e){return(yD.jsx?gD:mD).test(t)}const _D=/[ \t\n\f\r]/g;function vD(t){return typeof t=="object"?t.type==="text"?MT(t.value):!1:MT(t)}function MT(t){return t.replace(_D,"")===""}class Ec{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Ec.prototype.normal={};Ec.prototype.property={};Ec.prototype.space=void 0;function Bw(t,e){const n={},i={};for(const o of t)Object.assign(n,o.property),Object.assign(i,o.normal);return new Ec(n,i,e)}function Ag(t){return t.toLowerCase()}class qn{constructor(e,n){this.attribute=n,this.property=e}}qn.prototype.attribute="";qn.prototype.booleanish=!1;qn.prototype.boolean=!1;qn.prototype.commaOrSpaceSeparated=!1;qn.prototype.commaSeparated=!1;qn.prototype.defined=!1;qn.prototype.mustUseProperty=!1;qn.prototype.number=!1;qn.prototype.overloadedBoolean=!1;qn.prototype.property="";qn.prototype.spaceSeparated=!1;qn.prototype.space=void 0;let ED=0;const Be=Zs(),Xt=Zs(),Cg=Zs(),pe=Zs(),Tt=Zs(),nl=Zs(),Wn=Zs();function Zs(){return 2**++ED}const wg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Be,booleanish:Xt,commaOrSpaceSeparated:Wn,commaSeparated:nl,number:pe,overloadedBoolean:Cg,spaceSeparated:Tt},Symbol.toStringTag,{value:"Module"})),Hm=Object.keys(wg);class Cy extends qn{constructor(e,n,i,o){let a=-1;if(super(e,n),DT(this,"space",o),typeof i=="number")for(;++a<Hm.length;){const l=Hm[a];DT(this,Hm[a],(i&wg[l])===wg[l])}}}Cy.prototype.defined=!0;function DT(t,e,n){n&&(t[e]=n)}function Cl(t){const e={},n={};for(const[i,o]of Object.entries(t.properties)){const a=new Cy(i,t.transform(t.attributes||{},i),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),e[i]=a,n[Ag(i)]=i,n[Ag(a.attribute)]=i}return new Ec(e,n,t.space)}const qw=Cl({properties:{ariaActiveDescendant:null,ariaAtomic:Xt,ariaAutoComplete:null,ariaBusy:Xt,ariaChecked:Xt,ariaColCount:pe,ariaColIndex:pe,ariaColSpan:pe,ariaControls:Tt,ariaCurrent:null,ariaDescribedBy:Tt,ariaDetails:null,ariaDisabled:Xt,ariaDropEffect:Tt,ariaErrorMessage:null,ariaExpanded:Xt,ariaFlowTo:Tt,ariaGrabbed:Xt,ariaHasPopup:null,ariaHidden:Xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tt,ariaLevel:pe,ariaLive:null,ariaModal:Xt,ariaMultiLine:Xt,ariaMultiSelectable:Xt,ariaOrientation:null,ariaOwns:Tt,ariaPlaceholder:null,ariaPosInSet:pe,ariaPressed:Xt,ariaReadOnly:Xt,ariaRelevant:null,ariaRequired:Xt,ariaRoleDescription:Tt,ariaRowCount:pe,ariaRowIndex:pe,ariaRowSpan:pe,ariaSelected:Xt,ariaSetSize:pe,ariaSort:null,ariaValueMax:pe,ariaValueMin:pe,ariaValueNow:pe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Hw(t,e){return e in t?t[e]:e}function Gw(t,e){return Hw(t,e.toLowerCase())}const TD=Cl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nl,acceptCharset:Tt,accessKey:Tt,action:null,allow:null,allowFullScreen:Be,allowPaymentRequest:Be,allowUserMedia:Be,alt:null,as:null,async:Be,autoCapitalize:null,autoComplete:Tt,autoFocus:Be,autoPlay:Be,blocking:Tt,capture:null,charSet:null,checked:Be,cite:null,className:Tt,cols:pe,colSpan:null,content:null,contentEditable:Xt,controls:Be,controlsList:Tt,coords:pe|nl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Be,defer:Be,dir:null,dirName:null,disabled:Be,download:Cg,draggable:Xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Be,formTarget:null,headers:Tt,height:pe,hidden:Cg,high:pe,href:null,hrefLang:null,htmlFor:Tt,httpEquiv:Tt,id:null,imageSizes:null,imageSrcSet:null,inert:Be,inputMode:null,integrity:null,is:null,isMap:Be,itemId:null,itemProp:Tt,itemRef:Tt,itemScope:Be,itemType:Tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Be,low:pe,manifest:null,max:null,maxLength:pe,media:null,method:null,min:null,minLength:pe,multiple:Be,muted:Be,name:null,nonce:null,noModule:Be,noValidate:Be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Be,optimum:pe,pattern:null,ping:Tt,placeholder:null,playsInline:Be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Be,referrerPolicy:null,rel:Tt,required:Be,reversed:Be,rows:pe,rowSpan:pe,sandbox:Tt,scope:null,scoped:Be,seamless:Be,selected:Be,shadowRootClonable:Be,shadowRootDelegatesFocus:Be,shadowRootMode:null,shape:null,size:pe,sizes:null,slot:null,span:pe,spellCheck:Xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pe,step:null,style:null,tabIndex:pe,target:null,title:null,translate:null,type:null,typeMustMatch:Be,useMap:null,value:Xt,width:pe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tt,axis:null,background:null,bgColor:null,border:pe,borderColor:null,bottomMargin:pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Be,declare:Be,event:null,face:null,frame:null,frameBorder:null,hSpace:pe,leftMargin:pe,link:null,longDesc:null,lowSrc:null,marginHeight:pe,marginWidth:pe,noResize:Be,noHref:Be,noShade:Be,noWrap:Be,object:null,profile:null,prompt:null,rev:null,rightMargin:pe,rules:null,scheme:null,scrolling:Xt,standby:null,summary:null,text:null,topMargin:pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Be,disableRemotePlayback:Be,prefix:null,property:null,results:pe,security:null,unselectable:null},space:"html",transform:Gw}),SD=Cl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wn,accentHeight:pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pe,amplitude:pe,arabicForm:null,ascent:pe,attributeName:null,attributeType:null,azimuth:pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pe,by:null,calcMode:null,capHeight:pe,className:Tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pe,diffuseConstant:pe,direction:null,display:null,dur:null,divisor:pe,dominantBaseline:null,download:Be,dx:null,dy:null,edgeMode:null,editable:null,elevation:pe,enableBackground:null,end:null,event:null,exponent:pe,externalResourcesRequired:null,fill:null,fillOpacity:pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nl,g2:nl,glyphName:nl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pe,horizOriginX:pe,horizOriginY:pe,id:null,ideographic:pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pe,k:pe,k1:pe,k2:pe,k3:pe,k4:pe,kernelMatrix:Wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pe,overlineThickness:pe,paintOrder:null,panose1:null,path:null,pathLength:pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pe,pointsAtY:pe,pointsAtZ:pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wn,rev:Wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wn,requiredFeatures:Wn,requiredFonts:Wn,requiredFormats:Wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pe,specularExponent:pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pe,strikethroughThickness:pe,string:null,stroke:null,strokeDashArray:Wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pe,strokeOpacity:pe,strokeWidth:null,style:null,surfaceScale:pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wn,tabIndex:pe,tableValues:null,target:null,targetX:pe,targetY:pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pe,underlineThickness:pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pe,values:null,vAlphabetic:pe,vMathematical:pe,vectorEffect:null,vHanging:pe,vIdeographic:pe,version:null,vertAdvY:pe,vertOriginX:pe,vertOriginY:pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Hw}),$w=Cl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Yw=Cl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Gw}),Kw=Cl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),AD={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},CD=/[A-Z]/g,PT=/-[a-z]/g,wD=/^data[-\w.:]+$/i;function xD(t,e){const n=Ag(e);let i=e,o=qn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&wD.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(PT,bD);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!PT.test(a)){let l=a.replace(CD,ID);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}o=Cy}return new o(i,e)}function ID(t){return"-"+t.toLowerCase()}function bD(t){return t.charAt(1).toUpperCase()}const RD=Bw([qw,TD,$w,Yw,Kw],"html"),wy=Bw([qw,SD,$w,Yw,Kw],"svg");function ND(t){return t.join(" ").trim()}var Ja={},Gm,LT;function kD(){if(LT)return Gm;LT=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",m="*",_="",T="comment",S="declaration";function I(V,U){if(typeof V!="string")throw new TypeError("First argument must be a string");if(!V)return[];U=U||{};var G=1,B=1;function ie(me){var he=me.match(e);he&&(G+=he.length);var Q=me.lastIndexOf(f);B=~Q?me.length-Q:B+me.length}function se(){var me={line:G,column:B};return function(he){return he.position=new K(me),D(),he}}function K(me){this.start=me,this.end={line:G,column:B},this.source=U.source}K.prototype.content=V;function P(me){var he=new Error(U.source+":"+G+":"+B+": "+me);if(he.reason=me,he.filename=U.source,he.line=G,he.column=B,he.source=V,!U.silent)throw he}function L(me){var he=me.exec(V);if(he){var Q=he[0];return ie(Q),V=V.slice(Q.length),he}}function D(){L(n)}function b(me){var he;for(me=me||[];he=N();)he!==!1&&me.push(he);return me}function N(){var me=se();if(!(d!=V.charAt(0)||m!=V.charAt(1))){for(var he=2;_!=V.charAt(he)&&(m!=V.charAt(he)||d!=V.charAt(he+1));)++he;if(he+=2,_===V.charAt(he-1))return P("End of comment missing");var Q=V.slice(2,he-2);return B+=2,ie(Q),V=V.slice(he),B+=2,me({type:T,comment:Q})}}function O(){var me=se(),he=L(i);if(he){if(N(),!L(o))return P("property missing ':'");var Q=L(a),de=me({type:S,property:k(he[0].replace(t,_)),value:Q?k(Q[0].replace(t,_)):_});return L(l),de}}function F(){var me=[];b(me);for(var he;he=O();)he!==!1&&(me.push(he),b(me));return me}return D(),F()}function k(V){return V?V.replace(c,_):_}return Gm=I,Gm}var VT;function MD(){if(VT)return Ja;VT=1;var t=Ja&&Ja.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.default=n;const e=t(kD());function n(i,o){let a=null;if(!i||typeof i!="string")return a;const l=(0,e.default)(i),c=typeof o=="function";return l.forEach(f=>{if(f.type!=="declaration")return;const{property:d,value:m}=f;c?o(d,m,f):m&&(a=a||{},a[d]=m)}),a}return Ja}var zu={},UT;function DD(){if(UT)return zu;UT=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},l=function(d,m){return m.toUpperCase()},c=function(d,m){return"".concat(m,"-")},f=function(d,m){return m===void 0&&(m={}),a(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(o,c):d=d.replace(i,c),d.replace(e,l))};return zu.camelCase=f,zu}var Bu,OT;function PD(){if(OT)return Bu;OT=1;var t=Bu&&Bu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(MD()),n=DD();function i(o,a){var l={};return!o||typeof o!="string"||(0,e.default)(o,function(c,f){c&&f&&(l[(0,n.camelCase)(c,a)]=f)}),l}return i.default=i,Bu=i,Bu}var LD=PD();const VD=lh(LD),Jw=Qw("end"),xy=Qw("start");function Qw(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function UD(t){const e=xy(t),n=Jw(t);if(e&&n)return{start:e,end:n}}function Qu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?FT(t.position):"start"in t||"end"in t?FT(t):"line"in t||"column"in t?xg(t):""}function xg(t){return zT(t&&t.line)+":"+zT(t&&t.column)}function FT(t){return xg(t&&t.start)+"-"+xg(t&&t.end)}function zT(t){return t&&typeof t=="number"?t:1}class In extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?o=e:!a.cause&&e&&(l=!0,o=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?a.ruleId=i:(a.source=i.slice(0,f),a.ruleId=i.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){const f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=Qu(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}In.prototype.file="";In.prototype.name="";In.prototype.reason="";In.prototype.message="";In.prototype.stack="";In.prototype.column=void 0;In.prototype.line=void 0;In.prototype.ancestors=void 0;In.prototype.cause=void 0;In.prototype.fatal=void 0;In.prototype.place=void 0;In.prototype.ruleId=void 0;In.prototype.source=void 0;const Iy={}.hasOwnProperty,OD=new Map,FD=/[A-Z]/g,zD=new Set(["table","tbody","thead","tfoot","tr"]),BD=new Set(["td","th"]),jw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qD(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=jD(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=QD(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?wy:RD,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Xw(o,t,void 0);return a&&typeof a!="string"?a:o.create(t,o.Fragment,{children:a||void 0},void 0)}function Xw(t,e,n){if(e.type==="element")return HD(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return GD(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return YD(t,e,n);if(e.type==="mdxjsEsm")return $D(t,e);if(e.type==="root")return KD(t,e,n);if(e.type==="text")return JD(t,e)}function HD(t,e,n){const i=t.schema;let o=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=wy,t.schema=o),t.ancestors.push(e);const a=Zw(t,e.tagName,!1),l=XD(t,e);let c=Ry(t,e);return zD.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!vD(f):!0})),Ww(t,l,a,e),by(l,c),t.ancestors.pop(),t.schema=i,t.create(e,a,l,n)}function GD(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}sc(t,e.position)}function $D(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);sc(t,e.position)}function YD(t,e,n){const i=t.schema;let o=i;e.name==="svg"&&i.space==="html"&&(o=wy,t.schema=o),t.ancestors.push(e);const a=e.name===null?t.Fragment:Zw(t,e.name,!0),l=WD(t,e),c=Ry(t,e);return Ww(t,l,a,e),by(l,c),t.ancestors.pop(),t.schema=i,t.create(e,a,l,n)}function KD(t,e,n){const i={};return by(i,Ry(t,e)),t.create(e,t.Fragment,i,n)}function JD(t,e){return e.value}function Ww(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function by(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function QD(t,e,n){return i;function i(o,a,l,c){const d=Array.isArray(l.children)?n:e;return c?d(a,l,c):d(a,l)}}function jD(t,e){return n;function n(i,o,a,l){const c=Array.isArray(a.children),f=xy(i);return e(o,a,l,c,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function XD(t,e){const n={};let i,o;for(o in e.properties)if(o!=="children"&&Iy.call(e.properties,o)){const a=ZD(t,o,e.properties[o]);if(a){const[l,c]=a;t.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&BD.has(e.tagName)?i=c:n[l]=c}}if(i){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function WD(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const a=i.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else sc(t,e.position);else{const o=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const c=i.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else sc(t,e.position);else a=i.value===null?!0:i.value;n[o]=a}return n}function Ry(t,e){const n=[];let i=-1;const o=t.passKeys?new Map:OD;for(;++i<e.children.length;){const a=e.children[i];let l;if(t.passKeys){const f=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(f){const d=o.get(f)||0;l=f+"-"+d,o.set(f,d+1)}}const c=Xw(t,a,l);c!==void 0&&n.push(c)}return n}function ZD(t,e,n){const i=xD(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?pD(n):ND(n)),i.property==="style"){let o=typeof n=="object"?n:eP(t,String(n));return t.stylePropertyNameCase==="css"&&(o=tP(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&i.space?AD[i.property]||i.property:i.attribute,n]}}function eP(t,e){try{return VD(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,o=new In("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=jw+"#cannot-parse-style-attribute",o}}function Zw(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let a=-1,l;for(;++a<o.length;){const c=kT(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}i=l}else i=kT(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const o=i.value;return Iy.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(i);sc(t)}function sc(t,e){const n=new In("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=jw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function tP(t){const e={};let n;for(n in t)Iy.call(t,n)&&(e[nP(n)]=t[n]);return e}function nP(t){let e=t.replace(FD,iP);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function iP(t){return"-"+t.toLowerCase()}const $m={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rP={};function Ny(t,e){const n=rP,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ex(t,i,o)}function ex(t,e,n){if(oP(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return BT(t.children,e,n)}return Array.isArray(t)?BT(t,e,n):""}function BT(t,e,n){const i=[];let o=-1;for(;++o<t.length;)i[o]=ex(t[o],e,n);return i.join("")}function oP(t){return!!(t&&typeof t=="object")}const qT=document.createElement("i");function ky(t){const e="&"+t+";";qT.innerHTML=e;const n=qT.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Zn(t,e,n,i){const o=t.length;let a=0,l;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}function mi(t,e){return t.length>0?(Zn(t,t.length,0,e),t):e}const HT={}.hasOwnProperty;function tx(t){const e={};let n=-1;for(;++n<t.length;)sP(e,t[n]);return e}function sP(t,e){let n;for(n in e){const o=(HT.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let l;if(a)for(l in a){HT.call(o,l)||(o[l]=[]);const c=a[l];aP(o[l],Array.isArray(c)?c:c?[c]:[])}}}function aP(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Zn(t,0,0,i)}function nx(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Vi(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nn=as(/[A-Za-z]/),Cn=as(/[\dA-Za-z]/),lP=as(/[#-'*+\--9=?A-Z^-~]/);function Pd(t){return t!==null&&(t<32||t===127)}const Ig=as(/\d/),uP=as(/[\dA-Fa-f]/),cP=as(/[!-/:-@[-`{-~]/);function Ne(t){return t!==null&&t<-2}function Et(t){return t!==null&&(t<0||t===32)}function Ye(t){return t===-2||t===-1||t===32}const dh=as(new RegExp("\\p{P}|\\p{S}","u")),Ys=as(/\s/);function as(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function wl(t){const e=[];let n=-1,i=0,o=0;for(;++n<t.length;){const a=t.charCodeAt(n);let l="";if(a===37&&Cn(t.charCodeAt(n+1))&&Cn(t.charCodeAt(n+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),o=1):l=""}else l=String.fromCharCode(a);l&&(e.push(t.slice(i,n),encodeURIComponent(l)),i=n+o+1,l=""),o&&(n+=o,o=0)}return e.join("")+t.slice(i)}function tt(t,e,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(f){return Ye(f)?(t.enter(n),c(f)):e(f)}function c(f){return Ye(f)&&a++<o?(t.consume(f),c):(t.exit(n),e(f))}}const fP={tokenize:dP};function dP(t){const e=t.attempt(this.parser.constructs.contentInitial,i,o);let n;return e;function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),tt(t,e,"linePrefix")}function o(c){return t.enter("paragraph"),a(c)}function a(c){const f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Ne(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}const hP={tokenize:pP},GT={tokenize:mP};function pP(t){const e=this,n=[];let i=0,o,a,l;return c;function c(B){if(i<n.length){const ie=n[i];return e.containerState=ie[1],t.attempt(ie[0].continuation,f,d)(B)}return d(B)}function f(B){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&G();const ie=e.events.length;let se=ie,K;for(;se--;)if(e.events[se][0]==="exit"&&e.events[se][1].type==="chunkFlow"){K=e.events[se][1].end;break}U(i);let P=ie;for(;P<e.events.length;)e.events[P][1].end={...K},P++;return Zn(e.events,se+1,0,e.events.slice(ie)),e.events.length=P,d(B)}return c(B)}function d(B){if(i===n.length){if(!o)return T(B);if(o.currentConstruct&&o.currentConstruct.concrete)return I(B);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(GT,m,_)(B)}function m(B){return o&&G(),U(i),T(B)}function _(B){return e.parser.lazy[e.now().line]=i!==n.length,l=e.now().offset,I(B)}function T(B){return e.containerState={},t.attempt(GT,S,I)(B)}function S(B){return i++,n.push([e.currentConstruct,e.containerState]),T(B)}function I(B){if(B===null){o&&G(),U(0),t.consume(B);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),k(B)}function k(B){if(B===null){V(t.exit("chunkFlow"),!0),U(0),t.consume(B);return}return Ne(B)?(t.consume(B),V(t.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(t.consume(B),k)}function V(B,ie){const se=e.sliceStream(B);if(ie&&se.push(null),B.previous=a,a&&(a.next=B),a=B,o.defineSkip(B.start),o.write(se),e.parser.lazy[B.start.line]){let K=o.events.length;for(;K--;)if(o.events[K][1].start.offset<l&&(!o.events[K][1].end||o.events[K][1].end.offset>l))return;const P=e.events.length;let L=P,D,b;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(D){b=e.events[L][1].end;break}D=!0}for(U(i),K=P;K<e.events.length;)e.events[K][1].end={...b},K++;Zn(e.events,L+1,0,e.events.slice(P)),e.events.length=K}}function U(B){let ie=n.length;for(;ie-- >B;){const se=n[ie];e.containerState=se[1],se[0].exit.call(e,t)}n.length=B}function G(){o.write([null]),a=void 0,o=void 0,e.containerState._closeFlow=void 0}}function mP(t,e,n){return tt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dl(t){if(t===null||Et(t)||Ys(t))return 1;if(dh(t))return 2}function hh(t,e,n){const i=[];let o=-1;for(;++o<t.length;){const a=t[o].resolveAll;a&&!i.includes(a)&&(e=a(e,n),i.push(a))}return e}const bg={name:"attention",resolveAll:gP,tokenize:yP};function gP(t,e){let n=-1,i,o,a,l,c,f,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[i][1].end},T={...t[n][1].start};$T(_,-f),$T(T,f),l={type:f>1?"strongSequence":"emphasisSequence",start:_,end:{...t[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},a={type:f>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},o={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[i][1].end={...l.start},t[n][1].start={...c.end},d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=mi(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=mi(d,[["enter",o,e],["enter",l,e],["exit",l,e],["enter",a,e]]),d=mi(d,hh(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=mi(d,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=mi(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Zn(t,i-1,n-i+3,d),n=i+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function yP(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=dl(i);let a;return l;function l(f){return a=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===a)return t.consume(f),c;const d=t.exit("attentionSequence"),m=dl(f),_=!m||m===2&&o||n.includes(f),T=!o||o===2&&m||n.includes(i);return d._open=!!(a===42?_:_&&(o||!T)),d._close=!!(a===42?T:T&&(m||!_)),e(f)}}function $T(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const _P={name:"autolink",tokenize:vP};function vP(t,e,n){let i=0;return o;function o(S){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(S){return Nn(S)?(t.consume(S),l):S===64?n(S):d(S)}function l(S){return S===43||S===45||S===46||Cn(S)?(i=1,c(S)):d(S)}function c(S){return S===58?(t.consume(S),i=0,f):(S===43||S===45||S===46||Cn(S))&&i++<32?(t.consume(S),c):(i=0,d(S))}function f(S){return S===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):S===null||S===32||S===60||Pd(S)?n(S):(t.consume(S),f)}function d(S){return S===64?(t.consume(S),m):lP(S)?(t.consume(S),d):n(S)}function m(S){return Cn(S)?_(S):n(S)}function _(S){return S===46?(t.consume(S),i=0,m):S===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):T(S)}function T(S){if((S===45||Cn(S))&&i++<63){const I=S===45?T:_;return t.consume(S),I}return n(S)}}const Tc={partial:!0,tokenize:EP};function EP(t,e,n){return i;function i(a){return Ye(a)?tt(t,o,"linePrefix")(a):o(a)}function o(a){return a===null||Ne(a)?e(a):n(a)}}const ix={continuation:{tokenize:SP},exit:AP,name:"blockQuote",tokenize:TP};function TP(t,e,n){const i=this;return o;function o(l){if(l===62){const c=i.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return Ye(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function SP(t,e,n){const i=this;return o;function o(l){return Ye(l)?tt(t,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(ix,e,n)(l)}}function AP(t){t.exit("blockQuote")}const rx={name:"characterEscape",tokenize:CP};function CP(t,e,n){return i;function i(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),o}function o(a){return cP(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const ox={name:"characterReference",tokenize:wP};function wP(t,e,n){const i=this;let o=0,a,l;return c;function c(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),f}function f(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,l=Cn,m(_))}function d(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=uP,m):(t.enter("characterReferenceValue"),a=7,l=Ig,m(_))}function m(_){if(_===59&&o){const T=t.exit("characterReferenceValue");return l===Cn&&!ky(i.sliceSerialize(T))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(_)&&o++<a?(t.consume(_),m):n(_)}}const YT={partial:!0,tokenize:IP},KT={concrete:!0,name:"codeFenced",tokenize:xP};function xP(t,e,n){const i=this,o={partial:!0,tokenize:se};let a=0,l=0,c;return f;function f(K){return d(K)}function d(K){const P=i.events[i.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,c=K,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(K)}function m(K){return K===c?(l++,t.consume(K),m):l<3?n(K):(t.exit("codeFencedFenceSequence"),Ye(K)?tt(t,_,"whitespace")(K):_(K))}function _(K){return K===null||Ne(K)?(t.exit("codeFencedFence"),i.interrupt?e(K):t.check(YT,k,ie)(K)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T(K))}function T(K){return K===null||Ne(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(K)):Ye(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),tt(t,S,"whitespace")(K)):K===96&&K===c?n(K):(t.consume(K),T)}function S(K){return K===null||Ne(K)?_(K):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),I(K))}function I(K){return K===null||Ne(K)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(K)):K===96&&K===c?n(K):(t.consume(K),I)}function k(K){return t.attempt(o,ie,V)(K)}function V(K){return t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),U}function U(K){return a>0&&Ye(K)?tt(t,G,"linePrefix",a+1)(K):G(K)}function G(K){return K===null||Ne(K)?t.check(YT,k,ie)(K):(t.enter("codeFlowValue"),B(K))}function B(K){return K===null||Ne(K)?(t.exit("codeFlowValue"),G(K)):(t.consume(K),B)}function ie(K){return t.exit("codeFenced"),e(K)}function se(K,P,L){let D=0;return b;function b(he){return K.enter("lineEnding"),K.consume(he),K.exit("lineEnding"),N}function N(he){return K.enter("codeFencedFence"),Ye(he)?tt(K,O,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):O(he)}function O(he){return he===c?(K.enter("codeFencedFenceSequence"),F(he)):L(he)}function F(he){return he===c?(D++,K.consume(he),F):D>=l?(K.exit("codeFencedFenceSequence"),Ye(he)?tt(K,me,"whitespace")(he):me(he)):L(he)}function me(he){return he===null||Ne(he)?(K.exit("codeFencedFence"),P(he)):L(he)}}}function IP(t,e,n){const i=this;return o;function o(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}const Ym={name:"codeIndented",tokenize:RP},bP={partial:!0,tokenize:NP};function RP(t,e,n){const i=this;return o;function o(d){return t.enter("codeIndented"),tt(t,a,"linePrefix",5)(d)}function a(d){const m=i.events[i.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?f(d):Ne(d)?t.attempt(bP,l,f)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||Ne(d)?(t.exit("codeFlowValue"),l(d)):(t.consume(d),c)}function f(d){return t.exit("codeIndented"),e(d)}}function NP(t,e,n){const i=this;return o;function o(l){return i.parser.lazy[i.now().line]?n(l):Ne(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):tt(t,a,"linePrefix",5)(l)}function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):Ne(l)?o(l):n(l)}}const kP={name:"codeText",previous:DP,resolve:MP,tokenize:PP};function MP(t){let e=t.length-4,n=3,i,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)o===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(o=i):(i===e||t[i][1].type==="lineEnding")&&(t[o][1].type="codeTextData",i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return t}function DP(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function PP(t,e,n){let i=0,o,a;return l;function l(_){return t.enter("codeText"),t.enter("codeTextSequence"),c(_)}function c(_){return _===96?(t.consume(_),i++,c):(t.exit("codeTextSequence"),f(_))}function f(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),f):_===96?(a=t.enter("codeTextSequence"),o=0,m(_)):Ne(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),f):(t.enter("codeTextData"),d(_))}function d(_){return _===null||_===32||_===96||Ne(_)?(t.exit("codeTextData"),f(_)):(t.consume(_),d)}function m(_){return _===96?(t.consume(_),o++,m):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(a.type="codeTextData",d(_))}}class LP{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const o=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&qu(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),qu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),qu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);qu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);qu(this.left,n.reverse())}}}function qu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function sx(t){const e={};let n=-1,i,o,a,l,c,f,d;const m=new LP(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(i=m.get(n),n&&i[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,VP(m,n)),n=e[n],d=!0);else if(i[1]._container){for(a=n,o=void 0;a--;)if(l=m.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(i[1].end={...m.get(o)[1].start},c=m.slice(o,n),c.unshift(i),m.splice(o,n-o+1,c))}}return Zn(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function VP(t,e){const n=t.get(e)[1],i=t.get(e)[2];let o=e-1;const a=[];let l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,f=[],d={};let m,_,T=-1,S=n,I=0,k=0;const V=[k];for(;S;){for(;t.get(++o)[1]!==S;);a.push(o),S._tokenizer||(m=i.sliceStream(S),S.next||m.push(null),_&&l.defineSkip(S.start),S._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),S._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),_=S,S=S.next}for(S=n;++T<c.length;)c[T][0]==="exit"&&c[T-1][0]==="enter"&&c[T][1].type===c[T-1][1].type&&c[T][1].start.line!==c[T][1].end.line&&(k=T+1,V.push(k),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(l.events=[],S?(S._tokenizer=void 0,S.previous=void 0):V.pop(),T=V.length;T--;){const U=c.slice(V[T],V[T+1]),G=a.pop();f.push([G,G+U.length-1]),t.splice(G,2,U)}for(f.reverse(),T=-1;++T<f.length;)d[I+f[T][0]]=I+f[T][1],I+=f[T][1]-f[T][0]-1;return d}const UP={resolve:FP,tokenize:zP},OP={partial:!0,tokenize:BP};function FP(t){return sx(t),t}function zP(t,e){let n;return i;function i(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?a(c):Ne(c)?t.check(OP,l,a)(c):(t.consume(c),o)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function BP(t,e,n){const i=this;return o;function o(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),tt(t,a,"linePrefix")}function a(l){if(l===null||Ne(l))return n(l);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(i.parser.constructs.flow,n,e)(l)}}function ax(t,e,n,i,o,a,l,c,f){const d=f||Number.POSITIVE_INFINITY;let m=0;return _;function _(U){return U===60?(t.enter(i),t.enter(o),t.enter(a),t.consume(U),t.exit(a),T):U===null||U===32||U===41||Pd(U)?n(U):(t.enter(i),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),k(U))}function T(U){return U===62?(t.enter(a),t.consume(U),t.exit(a),t.exit(o),t.exit(i),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),S(U))}function S(U){return U===62?(t.exit("chunkString"),t.exit(c),T(U)):U===null||U===60||Ne(U)?n(U):(t.consume(U),U===92?I:S)}function I(U){return U===60||U===62||U===92?(t.consume(U),S):S(U)}function k(U){return!m&&(U===null||U===41||Et(U))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(i),e(U)):m<d&&U===40?(t.consume(U),m++,k):U===41?(t.consume(U),m--,k):U===null||U===32||U===40||Pd(U)?n(U):(t.consume(U),U===92?V:k)}function V(U){return U===40||U===41||U===92?(t.consume(U),k):k(U)}}function lx(t,e,n,i,o,a){const l=this;let c=0,f;return d;function d(S){return t.enter(i),t.enter(o),t.consume(S),t.exit(o),t.enter(a),m}function m(S){return c>999||S===null||S===91||S===93&&!f||S===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(S):S===93?(t.exit(a),t.enter(o),t.consume(S),t.exit(o),t.exit(i),e):Ne(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),_(S))}function _(S){return S===null||S===91||S===93||Ne(S)||c++>999?(t.exit("chunkString"),m(S)):(t.consume(S),f||(f=!Ye(S)),S===92?T:_)}function T(S){return S===91||S===92||S===93?(t.consume(S),c++,_):_(S)}}function ux(t,e,n,i,o,a){let l;return c;function c(T){return T===34||T===39||T===40?(t.enter(i),t.enter(o),t.consume(T),t.exit(o),l=T===40?41:T,f):n(T)}function f(T){return T===l?(t.enter(o),t.consume(T),t.exit(o),t.exit(i),e):(t.enter(a),d(T))}function d(T){return T===l?(t.exit(a),f(l)):T===null?n(T):Ne(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),tt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===l||T===null||Ne(T)?(t.exit("chunkString"),d(T)):(t.consume(T),T===92?_:m)}function _(T){return T===l||T===92?(t.consume(T),m):m(T)}}function ju(t,e){let n;return i;function i(o){return Ne(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,i):Ye(o)?tt(t,i,n?"linePrefix":"lineSuffix")(o):e(o)}}const qP={name:"definition",tokenize:GP},HP={partial:!0,tokenize:$P};function GP(t,e,n){const i=this;let o;return a;function a(S){return t.enter("definition"),l(S)}function l(S){return lx.call(i,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function c(S){return o=Vi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),f):n(S)}function f(S){return Et(S)?ju(t,d)(S):d(S)}function d(S){return ax(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function m(S){return t.attempt(HP,_,_)(S)}function _(S){return Ye(S)?tt(t,T,"whitespace")(S):T(S)}function T(S){return S===null||Ne(S)?(t.exit("definition"),i.parser.defined.push(o),e(S)):n(S)}}function $P(t,e,n){return i;function i(c){return Et(c)?ju(t,o)(c):n(c)}function o(c){return ux(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Ye(c)?tt(t,l,"whitespace")(c):l(c)}function l(c){return c===null||Ne(c)?e(c):n(c)}}const YP={name:"hardBreakEscape",tokenize:KP};function KP(t,e,n){return i;function i(a){return t.enter("hardBreakEscape"),t.consume(a),o}function o(a){return Ne(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const JP={name:"headingAtx",resolve:QP,tokenize:jP};function QP(t,e){let n=t.length-2,i=3,o,a;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},a={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Zn(t,i,n-i+1,[["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e]])),t}function jP(t,e,n){let i=0;return o;function o(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&i++<6?(t.consume(m),l):m===null||Et(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),f(m)):m===null||Ne(m)?(t.exit("atxHeading"),e(m)):Ye(m)?tt(t,c,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function f(m){return m===35?(t.consume(m),f):(t.exit("atxHeadingSequence"),c(m))}function d(m){return m===null||m===35||Et(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),d)}}const XP=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],JT=["pre","script","style","textarea"],WP={concrete:!0,name:"htmlFlow",resolveTo:t2,tokenize:n2},ZP={partial:!0,tokenize:r2},e2={partial:!0,tokenize:i2};function t2(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function n2(t,e,n){const i=this;let o,a,l,c,f;return d;function d(z){return m(z)}function m(z){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(z),_}function _(z){return z===33?(t.consume(z),T):z===47?(t.consume(z),a=!0,k):z===63?(t.consume(z),o=3,i.interrupt?e:q):Nn(z)?(t.consume(z),l=String.fromCharCode(z),V):n(z)}function T(z){return z===45?(t.consume(z),o=2,S):z===91?(t.consume(z),o=5,c=0,I):Nn(z)?(t.consume(z),o=4,i.interrupt?e:q):n(z)}function S(z){return z===45?(t.consume(z),i.interrupt?e:q):n(z)}function I(z){const _e="CDATA[";return z===_e.charCodeAt(c++)?(t.consume(z),c===_e.length?i.interrupt?e:O:I):n(z)}function k(z){return Nn(z)?(t.consume(z),l=String.fromCharCode(z),V):n(z)}function V(z){if(z===null||z===47||z===62||Et(z)){const _e=z===47,be=l.toLowerCase();return!_e&&!a&&JT.includes(be)?(o=1,i.interrupt?e(z):O(z)):XP.includes(l.toLowerCase())?(o=6,_e?(t.consume(z),U):i.interrupt?e(z):O(z)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(z):a?G(z):B(z))}return z===45||Cn(z)?(t.consume(z),l+=String.fromCharCode(z),V):n(z)}function U(z){return z===62?(t.consume(z),i.interrupt?e:O):n(z)}function G(z){return Ye(z)?(t.consume(z),G):b(z)}function B(z){return z===47?(t.consume(z),b):z===58||z===95||Nn(z)?(t.consume(z),ie):Ye(z)?(t.consume(z),B):b(z)}function ie(z){return z===45||z===46||z===58||z===95||Cn(z)?(t.consume(z),ie):se(z)}function se(z){return z===61?(t.consume(z),K):Ye(z)?(t.consume(z),se):B(z)}function K(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),f=z,P):Ye(z)?(t.consume(z),K):L(z)}function P(z){return z===f?(t.consume(z),f=null,D):z===null||Ne(z)?n(z):(t.consume(z),P)}function L(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Et(z)?se(z):(t.consume(z),L)}function D(z){return z===47||z===62||Ye(z)?B(z):n(z)}function b(z){return z===62?(t.consume(z),N):n(z)}function N(z){return z===null||Ne(z)?O(z):Ye(z)?(t.consume(z),N):n(z)}function O(z){return z===45&&o===2?(t.consume(z),Q):z===60&&o===1?(t.consume(z),de):z===62&&o===4?(t.consume(z),$):z===63&&o===3?(t.consume(z),q):z===93&&o===5?(t.consume(z),Pe):Ne(z)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(ZP,oe,F)(z)):z===null||Ne(z)?(t.exit("htmlFlowData"),F(z)):(t.consume(z),O)}function F(z){return t.check(e2,me,oe)(z)}function me(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),he}function he(z){return z===null||Ne(z)?F(z):(t.enter("htmlFlowData"),O(z))}function Q(z){return z===45?(t.consume(z),q):O(z)}function de(z){return z===47?(t.consume(z),l="",Te):O(z)}function Te(z){if(z===62){const _e=l.toLowerCase();return JT.includes(_e)?(t.consume(z),$):O(z)}return Nn(z)&&l.length<8?(t.consume(z),l+=String.fromCharCode(z),Te):O(z)}function Pe(z){return z===93?(t.consume(z),q):O(z)}function q(z){return z===62?(t.consume(z),$):z===45&&o===2?(t.consume(z),q):O(z)}function $(z){return z===null||Ne(z)?(t.exit("htmlFlowData"),oe(z)):(t.consume(z),$)}function oe(z){return t.exit("htmlFlow"),e(z)}}function i2(t,e,n){const i=this;return o;function o(l){return Ne(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}function r2(t,e,n){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(Tc,e,n)}}const o2={name:"htmlText",tokenize:s2};function s2(t,e,n){const i=this;let o,a,l;return c;function c(q){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(q),f}function f(q){return q===33?(t.consume(q),d):q===47?(t.consume(q),se):q===63?(t.consume(q),B):Nn(q)?(t.consume(q),L):n(q)}function d(q){return q===45?(t.consume(q),m):q===91?(t.consume(q),a=0,I):Nn(q)?(t.consume(q),G):n(q)}function m(q){return q===45?(t.consume(q),S):n(q)}function _(q){return q===null?n(q):q===45?(t.consume(q),T):Ne(q)?(l=_,de(q)):(t.consume(q),_)}function T(q){return q===45?(t.consume(q),S):_(q)}function S(q){return q===62?Q(q):q===45?T(q):_(q)}function I(q){const $="CDATA[";return q===$.charCodeAt(a++)?(t.consume(q),a===$.length?k:I):n(q)}function k(q){return q===null?n(q):q===93?(t.consume(q),V):Ne(q)?(l=k,de(q)):(t.consume(q),k)}function V(q){return q===93?(t.consume(q),U):k(q)}function U(q){return q===62?Q(q):q===93?(t.consume(q),U):k(q)}function G(q){return q===null||q===62?Q(q):Ne(q)?(l=G,de(q)):(t.consume(q),G)}function B(q){return q===null?n(q):q===63?(t.consume(q),ie):Ne(q)?(l=B,de(q)):(t.consume(q),B)}function ie(q){return q===62?Q(q):B(q)}function se(q){return Nn(q)?(t.consume(q),K):n(q)}function K(q){return q===45||Cn(q)?(t.consume(q),K):P(q)}function P(q){return Ne(q)?(l=P,de(q)):Ye(q)?(t.consume(q),P):Q(q)}function L(q){return q===45||Cn(q)?(t.consume(q),L):q===47||q===62||Et(q)?D(q):n(q)}function D(q){return q===47?(t.consume(q),Q):q===58||q===95||Nn(q)?(t.consume(q),b):Ne(q)?(l=D,de(q)):Ye(q)?(t.consume(q),D):Q(q)}function b(q){return q===45||q===46||q===58||q===95||Cn(q)?(t.consume(q),b):N(q)}function N(q){return q===61?(t.consume(q),O):Ne(q)?(l=N,de(q)):Ye(q)?(t.consume(q),N):D(q)}function O(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),o=q,F):Ne(q)?(l=O,de(q)):Ye(q)?(t.consume(q),O):(t.consume(q),me)}function F(q){return q===o?(t.consume(q),o=void 0,he):q===null?n(q):Ne(q)?(l=F,de(q)):(t.consume(q),F)}function me(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||Et(q)?D(q):(t.consume(q),me)}function he(q){return q===47||q===62||Et(q)?D(q):n(q)}function Q(q){return q===62?(t.consume(q),t.exit("htmlTextData"),t.exit("htmlText"),e):n(q)}function de(q){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),Te}function Te(q){return Ye(q)?tt(t,Pe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):Pe(q)}function Pe(q){return t.enter("htmlTextData"),l(q)}}const My={name:"labelEnd",resolveAll:c2,resolveTo:f2,tokenize:d2},a2={tokenize:h2},l2={tokenize:p2},u2={tokenize:m2};function c2(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return t.length!==n.length&&Zn(t,0,t.length,n),t}function f2(t,e){let n=t.length,i=0,o,a,l,c;for(;n--;)if(o=t[n][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=n);const f={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},m={type:"labelText",start:{...t[a+i+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",f,e],["enter",d,e]],c=mi(c,t.slice(a+1,a+i+3)),c=mi(c,[["enter",m,e]]),c=mi(c,hh(e.parser.constructs.insideSpan.null,t.slice(a+i+4,l-3),e)),c=mi(c,[["exit",m,e],t[l-2],t[l-1],["exit",d,e]]),c=mi(c,t.slice(l+1)),c=mi(c,[["exit",f,e]]),Zn(t,a,t.length,c),t}function d2(t,e,n){const i=this;let o=i.events.length,a,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){a=i.events[o][1];break}return c;function c(T){return a?a._inactive?_(T):(l=i.parser.defined.includes(Vi(i.sliceSerialize({start:a.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),f):n(T)}function f(T){return T===40?t.attempt(a2,m,l?m:_)(T):T===91?t.attempt(l2,m,l?d:_)(T):l?m(T):_(T)}function d(T){return t.attempt(u2,m,_)(T)}function m(T){return e(T)}function _(T){return a._balanced=!0,n(T)}}function h2(t,e,n){return i;function i(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),o}function o(_){return Et(_)?ju(t,a)(_):a(_)}function a(_){return _===41?m(_):ax(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function l(_){return Et(_)?ju(t,f)(_):m(_)}function c(_){return n(_)}function f(_){return _===34||_===39||_===40?ux(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):m(_)}function d(_){return Et(_)?ju(t,m)(_):m(_)}function m(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function p2(t,e,n){const i=this;return o;function o(c){return lx.call(i,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(Vi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}function m2(t,e,n){return i;function i(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),o}function o(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const g2={name:"labelStartImage",resolveAll:My.resolveAll,tokenize:y2};function y2(t,e,n){const i=this;return o;function o(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}const _2={name:"labelStartLink",resolveAll:My.resolveAll,tokenize:v2};function v2(t,e,n){const i=this;return o;function o(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}const Km={name:"lineEnding",tokenize:E2};function E2(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),tt(t,e,"linePrefix")}}const Ed={name:"thematicBreak",tokenize:T2};function T2(t,e,n){let i=0,o;return a;function a(d){return t.enter("thematicBreak"),l(d)}function l(d){return o=d,c(d)}function c(d){return d===o?(t.enter("thematicBreakSequence"),f(d)):i>=3&&(d===null||Ne(d))?(t.exit("thematicBreak"),e(d)):n(d)}function f(d){return d===o?(t.consume(d),i++,f):(t.exit("thematicBreakSequence"),Ye(d)?tt(t,c,"whitespace")(d):c(d))}}const Fn={continuation:{tokenize:w2},exit:I2,name:"list",tokenize:C2},S2={partial:!0,tokenize:b2},A2={partial:!0,tokenize:x2};function C2(t,e,n){const i=this,o=i.events[i.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(S){const I=i.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(I==="listUnordered"?!i.containerState.marker||S===i.containerState.marker:Ig(S)){if(i.containerState.type||(i.containerState.type=I,t.enter(I,{_container:!0})),I==="listUnordered")return t.enter("listItemPrefix"),S===42||S===45?t.check(Ed,n,d)(S):d(S);if(!i.interrupt||S===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(S)}return n(S)}function f(S){return Ig(S)&&++l<10?(t.consume(S),f):(!i.interrupt||l<2)&&(i.containerState.marker?S===i.containerState.marker:S===41||S===46)?(t.exit("listItemValue"),d(S)):n(S)}function d(S){return t.enter("listItemMarker"),t.consume(S),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||S,t.check(Tc,i.interrupt?n:m,t.attempt(S2,T,_))}function m(S){return i.containerState.initialBlankLine=!0,a++,T(S)}function _(S){return Ye(S)?(t.enter("listItemPrefixWhitespace"),t.consume(S),t.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return i.containerState.size=a+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(S)}}function w2(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Tc,o,a);function o(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,tt(t,e,"listItemIndent",i.containerState.size+1)(c)}function a(c){return i.containerState.furtherBlankLines||!Ye(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(A2,e,l)(c))}function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,tt(t,t.attempt(Fn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function x2(t,e,n){const i=this;return tt(t,o,"listItemIndent",i.containerState.size+1);function o(a){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(a):n(a)}}function I2(t){t.exit(this.containerState.type)}function b2(t,e,n){const i=this;return tt(t,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const l=i.events[i.events.length-1];return!Ye(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const QT={name:"setextUnderline",resolveTo:R2,tokenize:N2};function R2(t,e){let n=t.length,i,o,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",a?(t.splice(o,0,["enter",l,e]),t.splice(a+1,0,["exit",t[i][1],e]),t[i][1].end={...t[a][1].end}):t[i][1]=l,t.push(["exit",l,e]),t}function N2(t,e,n){const i=this;let o;return a;function a(d){let m=i.events.length,_;for(;m--;)if(i.events[m][1].type!=="lineEnding"&&i.events[m][1].type!=="linePrefix"&&i.events[m][1].type!=="content"){_=i.events[m][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||_)?(t.enter("setextHeadingLine"),o=d,l(d)):n(d)}function l(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===o?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),Ye(d)?tt(t,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Ne(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const k2={tokenize:M2};function M2(t){const e=this,n=t.attempt(Tc,i,t.attempt(this.parser.constructs.flowInitial,o,tt(t,t.attempt(this.parser.constructs.flow,o,t.attempt(UP,o)),"linePrefix")));return n;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const D2={resolveAll:fx()},P2=cx("string"),L2=cx("text");function cx(t){return{resolveAll:fx(t==="text"?V2:void 0),tokenize:e};function e(n){const i=this,o=this.parser.constructs[t],a=n.attempt(o,l,c);return l;function l(m){return d(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),f}function f(m){return d(m)?(n.exit("data"),a(m)):(n.consume(m),f)}function d(m){if(m===null)return!0;const _=o[m];let T=-1;if(_)for(;++T<_.length;){const S=_[T];if(!S.previous||S.previous.call(i,i.previous))return!0}return!1}}}function fx(t){return e;function e(n,i){let o=-1,a;for(;++o<=n.length;)a===void 0?n[o]&&n[o][1].type==="data"&&(a=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),o=a+2),a=void 0);return t?t(n,i):n}}function V2(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],o=e.sliceStream(i);let a=o.length,l=-1,c=0,f;for(;a--;){const d=o[a];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(d===-2)f=!0,c++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const U2={42:Fn,43:Fn,45:Fn,48:Fn,49:Fn,50:Fn,51:Fn,52:Fn,53:Fn,54:Fn,55:Fn,56:Fn,57:Fn,62:ix},O2={91:qP},F2={[-2]:Ym,[-1]:Ym,32:Ym},z2={35:JP,42:Ed,45:[QT,Ed],60:WP,61:QT,95:Ed,96:KT,126:KT},B2={38:ox,92:rx},q2={[-5]:Km,[-4]:Km,[-3]:Km,33:g2,38:ox,42:bg,60:[_P,o2],91:_2,92:[YP,rx],93:My,95:bg,96:kP},H2={null:[bg,D2]},G2={null:[42,95]},$2={null:[]},Y2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:G2,contentInitial:O2,disable:$2,document:U2,flow:z2,flowInitial:F2,insideSpan:H2,string:B2,text:q2},Symbol.toStringTag,{value:"Module"}));function K2(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},a=[];let l=[],c=[];const f={attempt:P(se),check:P(K),consume:G,enter:B,exit:ie,interrupt:P(K,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:I,parser:t,previous:null,sliceSerialize:T,sliceStream:S,write:_};let m=e.tokenize.call(d,f);return e.resolveAll&&a.push(e),d;function _(N){return l=mi(l,N),V(),l[l.length-1]!==null?[]:(L(e,0),d.events=hh(a,d.events,d),d.events)}function T(N,O){return Q2(S(N),O)}function S(N){return J2(l,N)}function I(){const{_bufferIndex:N,_index:O,line:F,column:me,offset:he}=i;return{_bufferIndex:N,_index:O,line:F,column:me,offset:he}}function k(N){o[N.line]=N.column,b()}function V(){let N;for(;i._index<l.length;){const O=l[i._index];if(typeof O=="string")for(N=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===N&&i._bufferIndex<O.length;)U(O.charCodeAt(i._bufferIndex));else U(O)}}function U(N){m=m(N)}function G(N){Ne(N)?(i.line++,i.column=1,i.offset+=N===-3?2:1,b()):N!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=N}function B(N,O){const F=O||{};return F.type=N,F.start=I(),d.events.push(["enter",F,d]),c.push(F),F}function ie(N){const O=c.pop();return O.end=I(),d.events.push(["exit",O,d]),O}function se(N,O){L(N,O.from)}function K(N,O){O.restore()}function P(N,O){return F;function F(me,he,Q){let de,Te,Pe,q;return Array.isArray(me)?oe(me):"tokenize"in me?oe([me]):$(me);function $(we){return qe;function qe(pt){const at=pt!==null&&we[pt],kn=pt!==null&&we.null,Ei=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(kn)?kn:kn?[kn]:[]];return oe(Ei)(pt)}}function oe(we){return de=we,Te=0,we.length===0?Q:z(we[Te])}function z(we){return qe;function qe(pt){return q=D(),Pe=we,we.partial||(d.currentConstruct=we),we.name&&d.parser.constructs.disable.null.includes(we.name)?be():we.tokenize.call(O?Object.assign(Object.create(d),O):d,f,_e,be)(pt)}}function _e(we){return N(Pe,q),he}function be(we){return q.restore(),++Te<de.length?z(de[Te]):Q}}}function L(N,O){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&Zn(d.events,O,d.events.length-O,N.resolve(d.events.slice(O),d)),N.resolveTo&&(d.events=N.resolveTo(d.events,d))}function D(){const N=I(),O=d.previous,F=d.currentConstruct,me=d.events.length,he=Array.from(c);return{from:me,restore:Q};function Q(){i=N,d.previous=O,d.currentConstruct=F,d.events.length=me,c=he,b()}}function b(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function J2(t,e){const n=e.start._index,i=e.start._bufferIndex,o=e.end._index,a=e.end._bufferIndex;let l;if(n===o)l=[t[n].slice(i,a)];else{if(l=t.slice(n,o),i>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(t[o].slice(0,a))}return l}function Q2(t,e){let n=-1;const i=[];let o;for(;++n<t.length;){const a=t[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&o)continue;l=" ";break}default:l=String.fromCharCode(a)}o=a===-2,i.push(l)}return i.join("")}function j2(t){const i={constructs:tx([Y2,...(t||{}).extensions||[]]),content:o(fP),defined:[],document:o(hP),flow:o(k2),lazy:{},string:o(P2),text:o(L2)};return i;function o(a){return l;function l(c){return K2(i,a,c)}}}function X2(t){for(;!sx(t););return t}const jT=/[\0\t\n\r]/g;function W2(){let t=1,e="",n=!0,i;return o;function o(a,l,c){const f=[];let d,m,_,T,S;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),_=0,e="",n&&(a.charCodeAt(0)===65279&&_++,n=void 0);_<a.length;){if(jT.lastIndex=_,d=jT.exec(a),T=d&&d.index!==void 0?d.index:a.length,S=a.charCodeAt(T),!d){e=a.slice(_);break}if(S===10&&_===T&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),_<T&&(f.push(a.slice(_,T)),t+=T-_),S){case 0:{f.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,f.push(-2);t++<m;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:i=!0,t=1}_=T+1}return c&&(i&&f.push(-5),e&&f.push(e),f.push(null)),f}}const Z2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function eL(t){return t.replace(Z2,tL)}function tL(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),a=o===120||o===88;return nx(n.slice(a?2:1),a?16:10)}return ky(n)||t}const dx={}.hasOwnProperty;function nL(t,e,n){return typeof e!="string"&&(n=e,e=void 0),iL(n)(X2(j2(n).document().write(W2()(t,e,!0))))}function iL(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(kt),autolinkProtocol:D,autolinkEmail:D,atxHeading:a(so),blockQuote:a(kn),characterEscape:D,characterReference:D,codeFenced:a(Ei),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Ei,l),codeText:a(ro,l),codeTextData:D,data:D,codeFlowValue:D,definition:a(oo),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(ti),hardBreakEscape:a(zi),hardBreakTrailing:a(zi),htmlFlow:a(ao,l),htmlFlowData:D,htmlText:a(ao,l),htmlTextData:D,image:a(cs),label:l,link:a(kt),listItem:a(Bi),listItemValue:T,listOrdered:a(Pt,_),listUnordered:a(Pt),paragraph:a(Ul),reference:z,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(so),strong:a(aa),thematicBreak:a(Sr)},exit:{atxHeading:f(),atxHeadingSequence:se,autolink:f(),autolinkEmail:at,autolinkProtocol:pt,blockQuote:f(),characterEscapeValue:b,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:we,characterReference:qe,codeFenced:f(V),codeFencedFence:k,codeFencedFenceInfo:S,codeFencedFenceMeta:I,codeFlowValue:b,codeIndented:f(U),codeText:f(he),codeTextData:b,data:b,definition:f(),definitionDestinationString:ie,definitionLabelString:G,definitionTitleString:B,emphasis:f(),hardBreakEscape:f(O),hardBreakTrailing:f(O),htmlFlow:f(F),htmlFlowData:b,htmlText:f(me),htmlTextData:b,image:f(de),label:Pe,labelText:Te,lineEnding:N,link:f(Q),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:_e,resourceDestinationString:q,resourceTitleString:$,resource:oe,setextHeading:f(L),setextHeadingLineSequence:P,setextHeadingText:K,strong:f(),thematicBreak:f()}};hx(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(ae){let ge={type:"root",children:[]};const Re={stack:[ge],tokenStack:[],config:e,enter:c,exit:d,buffer:l,resume:m,data:n},He=[];let it=-1;for(;++it<ae.length;)if(ae[it][1].type==="listOrdered"||ae[it][1].type==="listUnordered")if(ae[it][0]==="enter")He.push(it);else{const _n=He.pop();it=o(ae,_n,it)}for(it=-1;++it<ae.length;){const _n=e[ae[it][0]];dx.call(_n,ae[it][1].type)&&_n[ae[it][1].type].call(Object.assign({sliceSerialize:ae[it][2].sliceSerialize},Re),ae[it][1])}if(Re.tokenStack.length>0){const _n=Re.tokenStack[Re.tokenStack.length-1];(_n[1]||XT).call(Re,void 0,_n[0])}for(ge.position={start:zo(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:zo(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},it=-1;++it<e.transforms.length;)ge=e.transforms[it](ge)||ge;return ge}function o(ae,ge,Re){let He=ge-1,it=-1,_n=!1,ni,Ut,Mt,rn;for(;++He<=Re;){const We=ae[He];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?it++:it--,rn=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(ni&&!rn&&!it&&!Mt&&(Mt=He),rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rn=void 0}if(!it&&We[0]==="enter"&&We[1].type==="listItemPrefix"||it===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(ni){let Ti=He;for(Ut=void 0;Ti--;){const vn=ae[Ti];if(vn[1].type==="lineEnding"||vn[1].type==="lineEndingBlank"){if(vn[0]==="exit")continue;Ut&&(ae[Ut][1].type="lineEndingBlank",_n=!0),vn[1].type="lineEnding",Ut=Ti}else if(!(vn[1].type==="linePrefix"||vn[1].type==="blockQuotePrefix"||vn[1].type==="blockQuotePrefixWhitespace"||vn[1].type==="blockQuoteMarker"||vn[1].type==="listItemIndent"))break}Mt&&(!Ut||Mt<Ut)&&(ni._spread=!0),ni.end=Object.assign({},Ut?ae[Ut][1].start:We[1].end),ae.splice(Ut||He,0,["exit",ni,We[2]]),He++,Re++}if(We[1].type==="listItemPrefix"){const Ti={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};ni=Ti,ae.splice(He,0,["enter",Ti,We[2]]),He++,Re++,Mt=void 0,rn=!0}}}return ae[ge][1]._spread=_n,Re}function a(ae,ge){return Re;function Re(He){c.call(this,ae(He),He),ge&&ge.call(this,He)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ae,ge,Re){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([ge,Re||void 0]),ae.position={start:zo(ge.start),end:void 0}}function f(ae){return ge;function ge(Re){ae&&ae.call(this,Re),d.call(this,Re)}}function d(ae,ge){const Re=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==ae.type&&(ge?ge.call(this,ae,He[0]):(He[1]||XT).call(this,ae,He[0]));else throw new Error("Cannot close `"+ae.type+"` ("+Qu({start:ae.start,end:ae.end})+"): its not open");Re.position.end=zo(ae.end)}function m(){return Ny(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function T(ae){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function S(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=ae}function I(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=ae}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function V(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function U(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ae.replace(/(\r?\n|\r)$/g,"")}function G(ae){const ge=this.resume(),Re=this.stack[this.stack.length-1];Re.label=ge,Re.identifier=Vi(this.sliceSerialize(ae)).toLowerCase()}function B(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.title=ae}function ie(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.url=ae}function se(ae){const ge=this.stack[this.stack.length-1];if(!ge.depth){const Re=this.sliceSerialize(ae).length;ge.depth=Re}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function P(ae){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ae){const Re=this.stack[this.stack.length-1].children;let He=Re[Re.length-1];(!He||He.type!=="text")&&(He=un(),He.position={start:zo(ae.start),end:void 0},Re.push(He)),this.stack.push(He)}function b(ae){const ge=this.stack.pop();ge.value+=this.sliceSerialize(ae),ge.position.end=zo(ae.end)}function N(ae){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=ge.children[ge.children.length-1];Re.position.end=zo(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ge.type)&&(D.call(this,ae),b.call(this,ae))}function O(){this.data.atHardBreak=!0}function F(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ae}function me(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ae}function he(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ae}function Q(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=ge,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function de(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=ge,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function Te(ae){const ge=this.sliceSerialize(ae),Re=this.stack[this.stack.length-2];Re.label=eL(ge),Re.identifier=Vi(ge).toLowerCase()}function Pe(){const ae=this.stack[this.stack.length-1],ge=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const He=ae.children;Re.children=He}else Re.alt=ge}function q(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.url=ae}function $(){const ae=this.resume(),ge=this.stack[this.stack.length-1];ge.title=ae}function oe(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function _e(ae){const ge=this.resume(),Re=this.stack[this.stack.length-1];Re.label=ge,Re.identifier=Vi(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function be(ae){this.data.characterReferenceType=ae.type}function we(ae){const ge=this.sliceSerialize(ae),Re=this.data.characterReferenceType;let He;Re?(He=nx(ge,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=ky(ge);const it=this.stack[this.stack.length-1];it.value+=He}function qe(ae){const ge=this.stack.pop();ge.position.end=zo(ae.end)}function pt(ae){b.call(this,ae);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(ae)}function at(ae){b.call(this,ae);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(ae)}function kn(){return{type:"blockquote",children:[]}}function Ei(){return{type:"code",lang:null,meta:null,value:""}}function ro(){return{type:"inlineCode",value:""}}function oo(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ti(){return{type:"emphasis",children:[]}}function so(){return{type:"heading",depth:0,children:[]}}function zi(){return{type:"break"}}function ao(){return{type:"html",value:""}}function cs(){return{type:"image",title:null,url:"",alt:null}}function kt(){return{type:"link",title:null,url:"",children:[]}}function Pt(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function Bi(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function Ul(){return{type:"paragraph",children:[]}}function aa(){return{type:"strong",children:[]}}function un(){return{type:"text",value:""}}function Sr(){return{type:"thematicBreak"}}}function zo(t){return{line:t.line,column:t.column,offset:t.offset}}function hx(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?hx(t,i):rL(t,i)}}function rL(t,e){let n;for(n in e)if(dx.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function XT(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Qu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Qu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Qu({start:e.start,end:e.end})+") is still open")}function oL(t){const e=this;e.parser=n;function n(i){return nL(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function sL(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function aL(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function lL(t,e){const n=e.value?e.value+`
`:"",i={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function uL(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cL(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fL(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),o=wl(i.toLowerCase()),a=t.footnoteOrder.indexOf(i);let l,c=t.footnoteCounts.get(i);c===void 0?(c=0,t.footnoteOrder.push(i),l=t.footnoteOrder.length):l=a+1,c+=1,t.footnoteCounts.set(i,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,d),t.applyData(e,d)}function dL(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hL(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function px(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const o=t.all(e),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=i:o.push({type:"text",value:i}),o}function pL(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return px(t,e);const o={src:wl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const a={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,a),t.applyData(e,a)}function mL(t,e){const n={src:wl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function gL(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function yL(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return px(t,e);const o={href:wl(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const a={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function _L(t,e){const n={href:wl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function vL(t,e,n){const i=t.all(e),o=n?EL(n):mx(e),a={},l=[];if(typeof e.checked=="boolean"){const m=i[0];let _;m&&m.type==="element"&&m.tagName==="p"?_=m:(_={type:"element",tagName:"p",properties:{},children:[]},i.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const m=i[c];(o||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?l.push(...m.children):l.push(m)}const f=i[i.length-1];f&&(o||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:l};return t.patch(e,d),t.applyData(e,d)}function EL(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=mx(n[i])}return e}function mx(t){const e=t.spread;return e??t.children.length>1}function TL(t,e){const n={},i=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<i.length;){const l=i[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function SL(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function AL(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function CL(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wL(t,e){const n=t.all(e),i=n.shift(),o=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=xy(e.children[1]),f=Jw(e.children[e.children.length-1]);c&&f&&(l.position={start:c,end:f}),o.push(l)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,a),t.applyData(e,a)}function xL(t,e,n){const i=n?n.children:void 0,a=(i?i.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:e.children.length;let f=-1;const d=[];for(;++f<c;){const _=e.children[f],T={},S=l?l[f]:void 0;S&&(T.align=S);let I={type:"element",tagName:a,properties:T,children:[]};_&&(I.children=t.all(_),t.patch(_,I),I=t.applyData(_,I)),d.push(I)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function IL(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const WT=9,ZT=32;function bL(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),o=0;const a=[];for(;i;)a.push(eS(e.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(e);return a.push(eS(e.slice(o),o>0,!1)),a.join("")}function eS(t,e,n){let i=0,o=t.length;if(e){let a=t.codePointAt(i);for(;a===WT||a===ZT;)i++,a=t.codePointAt(i)}if(n){let a=t.codePointAt(o-1);for(;a===WT||a===ZT;)o--,a=t.codePointAt(o-1)}return o>i?t.slice(i,o):""}function RL(t,e){const n={type:"text",value:bL(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function NL(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const kL={blockquote:sL,break:aL,code:lL,delete:uL,emphasis:cL,footnoteReference:fL,heading:dL,html:hL,imageReference:pL,image:mL,inlineCode:gL,linkReference:yL,link:_L,listItem:vL,list:TL,paragraph:SL,root:AL,strong:CL,table:wL,tableCell:IL,tableRow:xL,text:RL,thematicBreak:NL,toml:ad,yaml:ad,definition:ad,footnoteDefinition:ad};function ad(){}const gx=-1,ph=0,Xu=1,Ld=2,Dy=3,Py=4,Ly=5,Vy=6,yx=7,_x=8,tS=typeof self=="object"?self:globalThis,ML=(t,e)=>{const n=(o,a)=>(t.set(a,o),o),i=o=>{if(t.has(o))return t.get(o);const[a,l]=e[o];switch(a){case ph:case gx:return n(l,o);case Xu:{const c=n([],o);for(const f of l)c.push(i(f));return c}case Ld:{const c=n({},o);for(const[f,d]of l)c[i(f)]=i(d);return c}case Dy:return n(new Date(l),o);case Py:{const{source:c,flags:f}=l;return n(new RegExp(c,f),o)}case Ly:{const c=n(new Map,o);for(const[f,d]of l)c.set(i(f),i(d));return c}case Vy:{const c=n(new Set,o);for(const f of l)c.add(i(f));return c}case yx:{const{name:c,message:f}=l;return n(new tS[c](f),o)}case _x:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new tS[a](l),o)};return i},nS=t=>ML(new Map,t)(0),Qa="",{toString:DL}={},{keys:PL}=Object,Hu=t=>{const e=typeof t;if(e!=="object"||!t)return[ph,e];const n=DL.call(t).slice(8,-1);switch(n){case"Array":return[Xu,Qa];case"Object":return[Ld,Qa];case"Date":return[Dy,Qa];case"RegExp":return[Py,Qa];case"Map":return[Ly,Qa];case"Set":return[Vy,Qa];case"DataView":return[Xu,n]}return n.includes("Array")?[Xu,n]:n.includes("Error")?[yx,n]:[Ld,n]},ld=([t,e])=>t===ph&&(e==="function"||e==="symbol"),LL=(t,e,n,i)=>{const o=(l,c)=>{const f=i.push(l)-1;return n.set(c,f),f},a=l=>{if(n.has(l))return n.get(l);let[c,f]=Hu(l);switch(c){case ph:{let m=l;switch(f){case"bigint":c=_x,m=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return o([gx],l)}return o([c,m],l)}case Xu:{if(f){let T=l;return f==="DataView"?T=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(T=new Uint8Array(l)),o([f,[...T]],l)}const m=[],_=o([c,m],l);for(const T of l)m.push(a(T));return _}case Ld:{if(f)switch(f){case"BigInt":return o([f,l.toString()],l);case"Boolean":case"Number":case"String":return o([f,l.valueOf()],l)}if(e&&"toJSON"in l)return a(l.toJSON());const m=[],_=o([c,m],l);for(const T of PL(l))(t||!ld(Hu(l[T])))&&m.push([a(T),a(l[T])]);return _}case Dy:return o([c,l.toISOString()],l);case Py:{const{source:m,flags:_}=l;return o([c,{source:m,flags:_}],l)}case Ly:{const m=[],_=o([c,m],l);for(const[T,S]of l)(t||!(ld(Hu(T))||ld(Hu(S))))&&m.push([a(T),a(S)]);return _}case Vy:{const m=[],_=o([c,m],l);for(const T of l)(t||!ld(Hu(T)))&&m.push(a(T));return _}}const{message:d}=l;return o([c,{name:f,message:d}],l)};return a},iS=(t,{json:e,lossy:n}={})=>{const i=[];return LL(!(e||n),!!e,new Map,i)(t),i},Vd=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?nS(iS(t,e)):structuredClone(t):(t,e)=>nS(iS(t,e));function VL(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function UL(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function OL(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||VL,i=t.options.footnoteBackLabel||UL,o=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[f]);if(!d)continue;const m=t.all(d),_=String(d.identifier).toUpperCase(),T=wl(_.toLowerCase());let S=0;const I=[],k=t.footnoteCounts.get(_);for(;k!==void 0&&++S<=k;){I.length>0&&I.push({type:"text",value:" "});let G=typeof n=="string"?n:n(f,S);typeof G=="string"&&(G={type:"text",value:G}),I.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,S),className:["data-footnote-backref"]},children:Array.isArray(G)?G:[G]})}const V=m[m.length-1];if(V&&V.type==="element"&&V.tagName==="p"){const G=V.children[V.children.length-1];G&&G.type==="text"?G.value+=" ":V.children.push({type:"text",value:" "}),V.children.push(...I)}else m.push(...I);const U={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(m,!0)};t.patch(d,U),c.push(U)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Vd(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const mh=(function(t){if(t==null)return qL;if(typeof t=="function")return gh(t);if(typeof t=="object")return Array.isArray(t)?FL(t):zL(t);if(typeof t=="string")return BL(t);throw new Error("Expected function, string, or object as test")});function FL(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=mh(t[n]);return gh(i);function i(...o){let a=-1;for(;++a<e.length;)if(e[a].apply(this,o))return!0;return!1}}function zL(t){const e=t;return gh(n);function n(i){const o=i;let a;for(a in t)if(o[a]!==e[a])return!1;return!0}}function BL(t){return gh(e);function e(n){return n&&n.type===t}}function gh(t){return e;function e(n,i,o){return!!(HL(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function qL(){return!0}function HL(t){return t!==null&&typeof t=="object"&&"type"in t}const vx=[],GL=!0,Rg=!1,$L="skip";function Ex(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;const a=mh(o),l=i?-1:1;c(t,void 0,[])();function c(f,d,m){const _=f&&typeof f=="object"?f:{};if(typeof _.type=="string"){const S=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(f.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=vx,I,k,V;if((!e||a(f,d,m[m.length-1]||void 0))&&(S=YL(n(f,m)),S[0]===Rg))return S;if("children"in f&&f.children){const U=f;if(U.children&&S[0]!==$L)for(k=(i?U.children.length:-1)+l,V=m.concat(U);k>-1&&k<U.children.length;){const G=U.children[k];if(I=c(G,k,V)(),I[0]===Rg)return I;k=typeof I[1]=="number"?I[1]:k+l}}return S}}}function YL(t){return Array.isArray(t)?t:typeof t=="number"?[GL,t]:t==null?vx:[t]}function Uy(t,e,n,i){let o,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,o=n):(a=e,l=n,o=i),Ex(t,a,c,o);function c(f,d){const m=d[d.length-1],_=m?m.children.indexOf(f):void 0;return l(f,_,m)}}const Ng={}.hasOwnProperty,KL={};function JL(t,e){const n=e||KL,i=new Map,o=new Map,a=new Map,l={...kL,...n.handlers},c={all:d,applyData:jL,definitionById:i,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:l,one:f,options:n,patch:QL,wrap:WL};return Uy(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const _=m.type==="definition"?i:o,T=String(m.identifier).toUpperCase();_.has(T)||_.set(T,m)}}),c;function f(m,_){const T=m.type,S=c.handlers[T];if(Ng.call(c.handlers,T)&&S)return S(c,m,_);if(c.options.passThrough&&c.options.passThrough.includes(T)){if("children"in m){const{children:k,...V}=m,U=Vd(V);return U.children=c.all(m),U}return Vd(m)}return(c.options.unknownHandler||XL)(c,m,_)}function d(m){const _=[];if("children"in m){const T=m.children;let S=-1;for(;++S<T.length;){const I=c.one(T[S],m);if(I){if(S&&T[S-1].type==="break"&&(!Array.isArray(I)&&I.type==="text"&&(I.value=rS(I.value)),!Array.isArray(I)&&I.type==="element")){const k=I.children[0];k&&k.type==="text"&&(k.value=rS(k.value))}Array.isArray(I)?_.push(...I):_.push(I)}}}return _}}function QL(t,e){t.position&&(e.position=UD(t))}function jL(t,e){let n=e;if(t&&t.data){const i=t.data.hName,o=t.data.hChildren,a=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const l="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,Vd(a)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function XL(t,e){const n=e.data||{},i="value"in e&&!(Ng.call(n,"hProperties")||Ng.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function WL(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function rS(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function oS(t,e){const n=JL(t,e),i=n.one(t,void 0),o=OL(n),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}function ZL(t,e){return t&&"run"in t?async function(n,i){const o=oS(n,{file:i,...e});await t.run(o,i)}:function(n,i){return oS(n,{file:i,...t||e})}}function sS(t){if(t)throw t}var Jm,aS;function eV(){if(aS)return Jm;aS=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),_=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!_)return!1;var T;for(T in d);return typeof T>"u"||t.call(d,T)},l=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},c=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(i)return i(d,m).value}else return;return d[m]};return Jm=function f(){var d,m,_,T,S,I,k=arguments[0],V=1,U=arguments.length,G=!1;for(typeof k=="boolean"&&(G=k,k=arguments[1]||{},V=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});V<U;++V)if(d=arguments[V],d!=null)for(m in d)_=c(k,m),T=c(d,m),k!==T&&(G&&T&&(a(T)||(S=o(T)))?(S?(S=!1,I=_&&o(_)?_:[]):I=_&&a(_)?_:{},l(k,{name:m,newValue:f(G,I,T)})):typeof T<"u"&&l(k,{name:m,newValue:T}));return k},Jm}var tV=eV();const Qm=lh(tV);function kg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function nV(){const t=[],e={run:n,use:i};return e;function n(...o){let a=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(f,...d){const m=t[++a];let _=-1;if(f){l(f);return}for(;++_<o.length;)(d[_]===null||d[_]===void 0)&&(d[_]=o[_]);o=d,m?iV(m,c)(...d):l(null,...d)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function iV(t,e){let n;return i;function i(...l){const c=t.length>l.length;let f;c&&l.push(o);try{f=t.apply(this,l)}catch(d){const m=d;if(c&&n)throw m;return o(m)}c||(f&&f.then&&typeof f.then=="function"?f.then(a,o):f instanceof Error?o(f):a(f))}function o(l,...c){n||(n=!0,e(l,...c))}function a(l){o(null,l)}}const ur={basename:rV,dirname:oV,extname:sV,join:aV,sep:"/"};function rV(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Sc(t);let n=0,i=-1,o=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(a){n=o+1;break}}else i<0&&(a=!0,i=o+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let l=-1,c=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(a){n=o+1;break}}else l<0&&(a=!0,l=o+1),c>-1&&(t.codePointAt(o)===e.codePointAt(c--)?c<0&&(i=o):(c=-1,i=l));return n===i?i=l:i<0&&(i=t.length),t.slice(n,i)}function oV(t){if(Sc(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function sV(t){Sc(t);let e=t.length,n=-1,i=0,o=-1,a=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){i=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?o<0?o=e:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||n<0||a===0||a===1&&o===n-1&&o===i+1?"":t.slice(o,n)}function aV(...t){let e=-1,n;for(;++e<t.length;)Sc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":lV(n)}function lV(t){Sc(t);const e=t.codePointAt(0)===47;let n=uV(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function uV(t,e){let n="",i=0,o=-1,a=0,l=-1,c,f;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||a===1))if(o!==l-1&&a===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),o=l,a=0;continue}}else if(n.length>0){n="",i=0,o=l,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(o+1,l):n=t.slice(o+1,l),i=l-o-1;o=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function Sc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const cV={cwd:fV};function fV(){return"/"}function Mg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function dV(t){if(typeof t=="string")t=new URL(t);else if(!Mg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return hV(t)}function hV(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const jm=["history","path","basename","stem","extname","dirname"];class Tx{constructor(e){let n;e?Mg(e)?n={path:e}:typeof e=="string"||pV(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":cV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<jm.length;){const a=jm[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let o;for(o in n)jm.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?ur.basename(this.path):void 0}set basename(e){Wm(e,"basename"),Xm(e,"basename"),this.path=ur.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ur.dirname(this.path):void 0}set dirname(e){lS(this.basename,"dirname"),this.path=ur.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ur.extname(this.path):void 0}set extname(e){if(Xm(e,"extname"),lS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ur.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Mg(e)&&(e=dV(e)),Wm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ur.basename(this.path,this.extname):void 0}set stem(e){Wm(e,"stem"),Xm(e,"stem"),this.path=ur.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){const o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){const o=new In(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Xm(t,e){if(t&&t.includes(ur.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ur.sep+"`")}function Wm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function lS(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function pV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const mV=(function(t){const i=this.constructor.prototype,o=i[t],a=function(){return o.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),gV={}.hasOwnProperty;class Oy extends mV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nV()}copy(){const e=new Oy;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(Qm(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(tg("data",this.frozen),this.namespace[e]=n,this):gV.call(this.namespace,e)&&this.namespace[e]||void 0:e?(tg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ud(e),i=this.parser||this.Parser;return Zm("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),Zm("process",this.parser||this.Parser),eg("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(a,l){const c=ud(e),f=i.parse(c);i.run(f,c,function(m,_,T){if(m||!_||!T)return d(m);const S=_,I=i.stringify(S,T);vV(I)?T.value=I:T.result=I,d(m,T)});function d(m,_){m||!_?l(m):a?a(_):n(void 0,_)}}}processSync(e){let n=!1,i;return this.freeze(),Zm("processSync",this.parser||this.Parser),eg("processSync",this.compiler||this.Compiler),this.process(e,o),cS("processSync","process",n),i;function o(a,l){n=!0,sS(a),i=l}}run(e,n,i){uS(e),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,c){const f=ud(n);o.run(e,f,d);function d(m,_,T){const S=_||e;m?c(m):l?l(S):i(void 0,S,T)}}}runSync(e,n){let i=!1,o;return this.run(e,n,a),cS("runSync","run",i),o;function a(l,c){sS(l),o=c,i=!0}}stringify(e,n){this.freeze();const i=ud(n),o=this.compiler||this.Compiler;return eg("stringify",o),uS(e),o(e,i)}use(e,...n){const i=this.attachers,o=this.namespace;if(tg("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,..._]=d;f(m,_)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(o.settings=Qm(!0,o.settings,d.settings))}function c(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const _=d[m];a(_)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,m){let _=-1,T=-1;for(;++_<i.length;)if(i[_][0]===d){T=_;break}if(T===-1)i.push([d,...m]);else if(m.length>0){let[S,...I]=m;const k=i[T][1];kg(k)&&kg(S)&&(S=Qm(!0,k,S)),i[T]=[d,S,...I]}}}}const yV=new Oy().freeze();function Zm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function eg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function tg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function uS(t){if(!kg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function cS(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ud(t){return _V(t)?t:new Tx(t)}function _V(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function vV(t){return typeof t=="string"||EV(t)}function EV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const TV="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",fS=[],dS={allowDangerousHtml:!0},SV=/^(https?|ircs?|mailto|xmpp)$/i,AV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function CV(t){const e=wV(t),n=xV(t);return IV(e.runSync(e.parse(n),n),t)}function wV(t){const e=t.rehypePlugins||fS,n=t.remarkPlugins||fS,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...dS}:dS;return yV().use(oL).use(n).use(ZL,i).use(e)}function xV(t){const e=t.children||"",n=new Tx;return typeof e=="string"&&(n.value=e),n}function IV(t,e){const n=e.allowedElements,i=e.allowElement,o=e.components,a=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||bV;for(const m of AV)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+TV+m.id,void 0);return Uy(t,d),qD(t,{Fragment:w.Fragment,components:o,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function d(m,_,T){if(m.type==="raw"&&T&&typeof _=="number")return l?T.children.splice(_,1):T.children[_]={type:"text",value:m.value},_;if(m.type==="element"){let S;for(S in $m)if(Object.hasOwn($m,S)&&Object.hasOwn(m.properties,S)){const I=m.properties[S],k=$m[S];(k===null||k.includes(m.tagName))&&(m.properties[S]=f(String(I||""),S,m))}}if(m.type==="element"){let S=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!S&&i&&typeof _=="number"&&(S=!i(m,_,T)),S&&T&&typeof _=="number")return c&&m.children?T.children.splice(_,1,...m.children):T.children.splice(_,1),_}}}function bV(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||i!==-1&&e>i||SV.test(t.slice(0,e))?t:""}function hS(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,o=n.indexOf(e);for(;o!==-1;)i++,o=n.indexOf(e,o+e.length);return i}function RV(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function NV(t,e,n){const o=mh((n||{}).ignore||[]),a=kV(e);let l=-1;for(;++l<a.length;)Ex(t,"text",c);function c(d,m){let _=-1,T;for(;++_<m.length;){const S=m[_],I=T?T.children:void 0;if(o(S,I?I.indexOf(S):void 0,T))return;T=S}if(T)return f(d,m)}function f(d,m){const _=m[m.length-1],T=a[l][0],S=a[l][1];let I=0;const V=_.children.indexOf(d);let U=!1,G=[];T.lastIndex=0;let B=T.exec(d.value);for(;B;){const ie=B.index,se={index:B.index,input:B.input,stack:[...m,d]};let K=S(...B,se);if(typeof K=="string"&&(K=K.length>0?{type:"text",value:K}:void 0),K===!1?T.lastIndex=ie+1:(I!==ie&&G.push({type:"text",value:d.value.slice(I,ie)}),Array.isArray(K)?G.push(...K):K&&G.push(K),I=ie+B[0].length,U=!0),!T.global)break;B=T.exec(d.value)}return U?(I<d.value.length&&G.push({type:"text",value:d.value.slice(I)}),_.children.splice(V,1,...G)):G=[d],V+G.length}}function kV(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const o=n[i];e.push([MV(o[0]),DV(o[1])])}return e}function MV(t){return typeof t=="string"?new RegExp(RV(t),"g"):t}function DV(t){return typeof t=="function"?t:function(){return t}}const ng="phrasing",ig=["autolink","link","image","label"];function PV(){return{transforms:[BV],enter:{literalAutolink:VV,literalAutolinkEmail:rg,literalAutolinkHttp:rg,literalAutolinkWww:rg},exit:{literalAutolink:zV,literalAutolinkEmail:FV,literalAutolinkHttp:UV,literalAutolinkWww:OV}}}function LV(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ng,notInConstruct:ig},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ng,notInConstruct:ig},{character:":",before:"[ps]",after:"\\/",inConstruct:ng,notInConstruct:ig}]}}function VV(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function rg(t){this.config.enter.autolinkProtocol.call(this,t)}function UV(t){this.config.exit.autolinkProtocol.call(this,t)}function OV(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function FV(t){this.config.exit.autolinkEmail.call(this,t)}function zV(t){this.exit(t)}function BV(t){NV(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qV],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),HV]],{ignore:["link","linkReference"]})}function qV(t,e,n,i,o){let a="";if(!Sx(o)||(/^w/i.test(e)&&(n=e+n,e="",a="http://"),!GV(n)))return!1;const l=$V(n+i);if(!l[0])return!1;const c={type:"link",title:null,url:a+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function HV(t,e,n,i){return!Sx(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function GV(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function $V(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const o=hS(t,"(");let a=hS(t,")");for(;i!==-1&&o>a;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),a++;return[t,n]}function Sx(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ys(n)||dh(n))&&(!e||n!==47)}Ax.peek=e4;function YV(){this.buffer()}function KV(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function JV(){this.buffer()}function QV(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function jV(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Vi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function XV(t){this.exit(t)}function WV(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Vi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function ZV(t){this.exit(t)}function e4(){return"["}function Ax(t,e,n,i){const o=n.createTracker(i);let a=o.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return a+=o.move(n.safe(n.associationId(t),{after:"]",before:a})),c(),l(),a+=o.move("]"),a}function t4(){return{enter:{gfmFootnoteCallString:YV,gfmFootnoteCall:KV,gfmFootnoteDefinitionLabelString:JV,gfmFootnoteDefinition:QV},exit:{gfmFootnoteCallString:jV,gfmFootnoteCall:XV,gfmFootnoteDefinitionLabelString:WV,gfmFootnoteDefinition:ZV}}}function n4(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Ax},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,o,a,l){const c=a.createTracker(l);let f=c.move("[^");const d=a.enter("footnoteDefinition"),m=a.enter("label");return f+=c.move(a.safe(a.associationId(i),{before:f,after:"]"})),m(),f+=c.move("]:"),i.children&&i.children.length>0&&(c.shift(4),f+=c.move((e?`
`:" ")+a.indentLines(a.containerFlow(i,c.current()),e?Cx:i4))),d(),f}}function i4(t,e,n){return e===0?t:Cx(t,e,n)}function Cx(t,e,n){return(n?"":"    ")+t}const r4=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];wx.peek=u4;function o4(){return{canContainEols:["delete"],enter:{strikethrough:a4},exit:{strikethrough:l4}}}function s4(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:r4}],handlers:{delete:wx}}}function a4(t){this.enter({type:"delete",children:[]},t)}function l4(t){this.exit(t)}function wx(t,e,n,i){const o=n.createTracker(i),a=n.enter("strikethrough");let l=o.move("~~");return l+=n.containerPhrasing(t,{...o.current(),before:l,after:"~"}),l+=o.move("~~"),a(),l}function u4(){return"~"}function c4(t){return t.length}function f4(t,e){const n=e||{},i=(n.align||[]).concat(),o=n.stringLength||c4,a=[],l=[],c=[],f=[];let d=0,m=-1;for(;++m<t.length;){const k=[],V=[];let U=-1;for(t[m].length>d&&(d=t[m].length);++U<t[m].length;){const G=d4(t[m][U]);if(n.alignDelimiters!==!1){const B=o(G);V[U]=B,(f[U]===void 0||B>f[U])&&(f[U]=B)}k.push(G)}l[m]=k,c[m]=V}let _=-1;if(typeof i=="object"&&"length"in i)for(;++_<d;)a[_]=pS(i[_]);else{const k=pS(i);for(;++_<d;)a[_]=k}_=-1;const T=[],S=[];for(;++_<d;){const k=a[_];let V="",U="";k===99?(V=":",U=":"):k===108?V=":":k===114&&(U=":");let G=n.alignDelimiters===!1?1:Math.max(1,f[_]-V.length-U.length);const B=V+"-".repeat(G)+U;n.alignDelimiters!==!1&&(G=V.length+G+U.length,G>f[_]&&(f[_]=G),S[_]=G),T[_]=B}l.splice(1,0,T),c.splice(1,0,S),m=-1;const I=[];for(;++m<l.length;){const k=l[m],V=c[m];_=-1;const U=[];for(;++_<d;){const G=k[_]||"";let B="",ie="";if(n.alignDelimiters!==!1){const se=f[_]-(V[_]||0),K=a[_];K===114?B=" ".repeat(se):K===99?se%2?(B=" ".repeat(se/2+.5),ie=" ".repeat(se/2-.5)):(B=" ".repeat(se/2),ie=B):ie=" ".repeat(se)}n.delimiterStart!==!1&&!_&&U.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&G==="")&&(n.delimiterStart!==!1||_)&&U.push(" "),n.alignDelimiters!==!1&&U.push(B),U.push(G),n.alignDelimiters!==!1&&U.push(ie),n.padding!==!1&&U.push(" "),(n.delimiterEnd!==!1||_!==d-1)&&U.push("|")}I.push(n.delimiterEnd===!1?U.join("").replace(/ +$/,""):U.join(""))}return I.join(`
`)}function d4(t){return t==null?"":String(t)}function pS(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function h4(t,e,n,i){const o=n.enter("blockquote"),a=n.createTracker(i);a.move("> "),a.shift(2);const l=n.indentLines(n.containerFlow(t,a.current()),p4);return o(),l}function p4(t,e,n){return">"+(n?"":" ")+t}function m4(t,e){return mS(t,e.inConstruct,!0)&&!mS(t,e.notInConstruct,!1)}function mS(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function gS(t,e,n,i){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&m4(n.stack,n.unsafe[o]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function g4(t,e){const n=String(t);let i=n.indexOf(e),o=i,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===o?++a>l&&(l=a):a=1,o=i+e.length,i=n.indexOf(e,o);return l}function y4(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function _4(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function v4(t,e,n,i){const o=_4(n),a=t.value||"",l=o==="`"?"GraveAccent":"Tilde";if(y4(t,n)){const _=n.enter("codeIndented"),T=n.indentLines(a,E4);return _(),T}const c=n.createTracker(i),f=o.repeat(Math.max(g4(a,o)+1,3)),d=n.enter("codeFenced");let m=c.move(f);if(t.lang){const _=n.enter(`codeFencedLang${l}`);m+=c.move(n.safe(t.lang,{before:m,after:" ",encode:["`"],...c.current()})),_()}if(t.lang&&t.meta){const _=n.enter(`codeFencedMeta${l}`);m+=c.move(" "),m+=c.move(n.safe(t.meta,{before:m,after:`
`,encode:["`"],...c.current()})),_()}return m+=c.move(`
`),a&&(m+=c.move(a+`
`)),m+=c.move(f),d(),m}function E4(t,e,n){return(n?"":"    ")+t}function Fy(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function T4(t,e,n,i){const o=Fy(n),a=o==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const f=n.createTracker(i);let d=f.move("[");return d+=f.move(n.safe(n.associationId(t),{before:d,after:"]",...f.current()})),d+=f.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=f.move("<"),d+=f.move(n.safe(t.url,{before:d,after:">",...f.current()})),d+=f.move(">")):(c=n.enter("destinationRaw"),d+=f.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),d+=f.move(" "+o),d+=f.move(n.safe(t.title,{before:d,after:o,...f.current()})),d+=f.move(o),c()),l(),d}function S4(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function ac(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ud(t,e,n){const i=dl(t),o=dl(e);return i===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}xx.peek=A4;function xx(t,e,n,i){const o=S4(n),a=n.enter("emphasis"),l=n.createTracker(i),c=l.move(o);let f=l.move(n.containerPhrasing(t,{after:o,before:c,...l.current()}));const d=f.charCodeAt(0),m=Ud(i.before.charCodeAt(i.before.length-1),d,o);m.inside&&(f=ac(d)+f.slice(1));const _=f.charCodeAt(f.length-1),T=Ud(i.after.charCodeAt(0),_,o);T.inside&&(f=f.slice(0,-1)+ac(_));const S=l.move(o);return a(),n.attentionEncodeSurroundingInfo={after:T.outside,before:m.outside},c+f+S}function A4(t,e,n){return n.options.emphasis||"*"}function C4(t,e){let n=!1;return Uy(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Rg}),!!((!t.depth||t.depth<3)&&Ny(t)&&(e.options.setext||n))}function w4(t,e,n,i){const o=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(i);if(C4(t,n)){const m=n.enter("headingSetext"),_=n.enter("phrasing"),T=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return _(),m(),T+`
`+(o===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const l="#".repeat(o),c=n.enter("headingAtx"),f=n.enter("phrasing");a.move(l+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(d)&&(d=ac(d.charCodeAt(0))+d.slice(1)),d=d?l+" "+d:l,n.options.closeAtx&&(d+=" "+l),f(),c(),d}Ix.peek=x4;function Ix(t){return t.value||""}function x4(){return"<"}bx.peek=I4;function bx(t,e,n,i){const o=Fy(n),a=o==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const f=n.createTracker(i);let d=f.move("![");return d+=f.move(n.safe(t.alt,{before:d,after:"]",...f.current()})),d+=f.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=f.move("<"),d+=f.move(n.safe(t.url,{before:d,after:">",...f.current()})),d+=f.move(">")):(c=n.enter("destinationRaw"),d+=f.move(n.safe(t.url,{before:d,after:t.title?" ":")",...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),d+=f.move(" "+o),d+=f.move(n.safe(t.title,{before:d,after:o,...f.current()})),d+=f.move(o),c()),d+=f.move(")"),l(),d}function I4(){return"!"}Rx.peek=b4;function Rx(t,e,n,i){const o=t.referenceType,a=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(i);let f=c.move("![");const d=n.safe(t.alt,{before:f,after:"]",...c.current()});f+=c.move(d+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const _=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=m,a(),o==="full"||!d||d!==_?f+=c.move(_+"]"):o==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}function b4(){return"!"}Nx.peek=R4;function Nx(t,e,n){let i=t.value||"",o="`",a=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){const l=n.unsafe[a],c=n.compilePattern(l);let f;if(l.atBreak)for(;f=c.exec(i);){let d=f.index;i.charCodeAt(d)===10&&i.charCodeAt(d-1)===13&&d--,i=i.slice(0,d)+" "+i.slice(f.index+1)}}return o+i+o}function R4(){return"`"}function kx(t,e){const n=Ny(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Mx.peek=N4;function Mx(t,e,n,i){const o=Fy(n),a=o==='"'?"Quote":"Apostrophe",l=n.createTracker(i);let c,f;if(kx(t,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let _=l.move("<");return _+=l.move(n.containerPhrasing(t,{before:_,after:">",...l.current()})),_+=l.move(">"),c(),n.stack=m,_}c=n.enter("link"),f=n.enter("label");let d=l.move("[");return d+=l.move(n.containerPhrasing(t,{before:d,after:"](",...l.current()})),d+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),d+=l.move("<"),d+=l.move(n.safe(t.url,{before:d,after:">",...l.current()})),d+=l.move(">")):(f=n.enter("destinationRaw"),d+=l.move(n.safe(t.url,{before:d,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${a}`),d+=l.move(" "+o),d+=l.move(n.safe(t.title,{before:d,after:o,...l.current()})),d+=l.move(o),f()),d+=l.move(")"),c(),d}function N4(t,e,n){return kx(t,n)?"<":"["}Dx.peek=k4;function Dx(t,e,n,i){const o=t.referenceType,a=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(i);let f=c.move("[");const d=n.containerPhrasing(t,{before:f,after:"]",...c.current()});f+=c.move(d+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const _=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=m,a(),o==="full"||!d||d!==_?f+=c.move(_+"]"):o==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}function k4(){return"["}function zy(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function M4(t){const e=zy(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function D4(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Px(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function P4(t,e,n,i){const o=n.enter("list"),a=n.bulletCurrent;let l=t.ordered?D4(n):zy(n);const c=t.ordered?l==="."?")":".":M4(n);let f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){const m=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),Px(n)===l&&m){let _=-1;for(;++_<t.children.length;){const T=t.children[_];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=c),n.bulletCurrent=l;const d=n.containerFlow(t,i);return n.bulletLastUsed=l,n.bulletCurrent=a,o(),d}function L4(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function V4(t,e,n,i){const o=L4(n);let a=n.bulletCurrent||zy(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(i);c.move(a+" ".repeat(l-a.length)),c.shift(l);const f=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,c.current()),m);return f(),d;function m(_,T,S){return T?(S?"":" ".repeat(l))+_:(S?a:a+" ".repeat(l-a.length))+_}}function U4(t,e,n,i){const o=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,i);return a(),o(),l}const O4=mh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function F4(t,e,n,i){return(t.children.some(function(l){return O4(l)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function z4(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Lx.peek=B4;function Lx(t,e,n,i){const o=z4(n),a=n.enter("strong"),l=n.createTracker(i),c=l.move(o+o);let f=l.move(n.containerPhrasing(t,{after:o,before:c,...l.current()}));const d=f.charCodeAt(0),m=Ud(i.before.charCodeAt(i.before.length-1),d,o);m.inside&&(f=ac(d)+f.slice(1));const _=f.charCodeAt(f.length-1),T=Ud(i.after.charCodeAt(0),_,o);T.inside&&(f=f.slice(0,-1)+ac(_));const S=l.move(o+o);return a(),n.attentionEncodeSurroundingInfo={after:T.outside,before:m.outside},c+f+S}function B4(t,e,n){return n.options.strong||"*"}function q4(t,e,n,i){return n.safe(t.value,i)}function H4(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function G4(t,e,n){const i=(Px(n)+(n.options.ruleSpaces?" ":"")).repeat(H4(n));return n.options.ruleSpaces?i.slice(0,-1):i}const Vx={blockquote:h4,break:gS,code:v4,definition:T4,emphasis:xx,hardBreak:gS,heading:w4,html:Ix,image:bx,imageReference:Rx,inlineCode:Nx,link:Mx,linkReference:Dx,list:P4,listItem:V4,paragraph:U4,root:F4,strong:Lx,text:q4,thematicBreak:G4};function $4(){return{enter:{table:Y4,tableData:yS,tableHeader:yS,tableRow:J4},exit:{codeText:Q4,table:K4,tableData:og,tableHeader:og,tableRow:og}}}function Y4(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function K4(t){this.exit(t),this.data.inTable=void 0}function J4(t){this.enter({type:"tableRow",children:[]},t)}function og(t){this.exit(t)}function yS(t){this.enter({type:"tableCell",children:[]},t)}function Q4(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,j4));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function j4(t,e){return e==="|"?e:t}function X4(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,o=e.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:l,tableCell:f,tableRow:c}};function l(S,I,k,V){return d(m(S,k,V),S.align)}function c(S,I,k,V){const U=_(S,k,V),G=d([U]);return G.slice(0,G.indexOf(`
`))}function f(S,I,k,V){const U=k.enter("tableCell"),G=k.enter("phrasing"),B=k.containerPhrasing(S,{...V,before:a,after:a});return G(),U(),B}function d(S,I){return f4(S,{align:I,alignDelimiters:i,padding:n,stringLength:o})}function m(S,I,k){const V=S.children;let U=-1;const G=[],B=I.enter("table");for(;++U<V.length;)G[U]=_(V[U],I,k);return B(),G}function _(S,I,k){const V=S.children;let U=-1;const G=[],B=I.enter("tableRow");for(;++U<V.length;)G[U]=f(V[U],S,I,k);return B(),G}function T(S,I,k){let V=Vx.inlineCode(S,I,k);return k.stack.includes("tableCell")&&(V=V.replace(/\|/g,"\\$&")),V}}function W4(){return{exit:{taskListCheckValueChecked:_S,taskListCheckValueUnchecked:_S,paragraph:eU}}}function Z4(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:tU}}}function _S(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function eU(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const o=e.children;let a=-1,l;for(;++a<o.length;){const c=o[a];if(c.type==="paragraph"){l=c;break}}l===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function tU(t,e,n,i){const o=t.children[0],a=typeof t.checked=="boolean"&&o&&o.type==="paragraph",l="["+(t.checked?"x":" ")+"] ",c=n.createTracker(i);a&&c.move(l);let f=Vx.listItem(t,e,n,{...i,...c.current()});return a&&(f=f.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),f;function d(m){return m+l}}function nU(){return[PV(),t4(),o4(),$4(),W4()]}function iU(t){return{extensions:[LV(),n4(t),s4(),X4(t),Z4()]}}const rU={tokenize:cU,partial:!0},Ux={tokenize:fU,partial:!0},Ox={tokenize:dU,partial:!0},Fx={tokenize:hU,partial:!0},oU={tokenize:pU,partial:!0},zx={name:"wwwAutolink",tokenize:lU,previous:qx},Bx={name:"protocolAutolink",tokenize:uU,previous:Hx},eo={name:"emailAutolink",tokenize:aU,previous:Gx},Tr={};function sU(){return{text:Tr}}let Fs=48;for(;Fs<123;)Tr[Fs]=eo,Fs++,Fs===58?Fs=65:Fs===91&&(Fs=97);Tr[43]=eo;Tr[45]=eo;Tr[46]=eo;Tr[95]=eo;Tr[72]=[eo,Bx];Tr[104]=[eo,Bx];Tr[87]=[eo,zx];Tr[119]=[eo,zx];function aU(t,e,n){const i=this;let o,a;return l;function l(_){return!Dg(_)||!Gx.call(i,i.previous)||By(i.events)?n(_):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(_))}function c(_){return Dg(_)?(t.consume(_),c):_===64?(t.consume(_),f):n(_)}function f(_){return _===46?t.check(oU,m,d)(_):_===45||_===95||Cn(_)?(a=!0,t.consume(_),f):m(_)}function d(_){return t.consume(_),o=!0,f}function m(_){return a&&o&&Nn(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(_)):n(_)}}function lU(t,e,n){const i=this;return o;function o(l){return l!==87&&l!==119||!qx.call(i,i.previous)||By(i.events)?n(l):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(rU,t.attempt(Ux,t.attempt(Ox,a),n),n)(l))}function a(l){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(l)}}function uU(t,e,n){const i=this;let o="",a=!1;return l;function l(_){return(_===72||_===104)&&Hx.call(i,i.previous)&&!By(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),o+=String.fromCodePoint(_),t.consume(_),c):n(_)}function c(_){if(Nn(_)&&o.length<5)return o+=String.fromCodePoint(_),t.consume(_),c;if(_===58){const T=o.toLowerCase();if(T==="http"||T==="https")return t.consume(_),f}return n(_)}function f(_){return _===47?(t.consume(_),a?d:(a=!0,f)):n(_)}function d(_){return _===null||Pd(_)||Et(_)||Ys(_)||dh(_)?n(_):t.attempt(Ux,t.attempt(Ox,m),n)(_)}function m(_){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(_)}}function cU(t,e,n){let i=0;return o;function o(l){return(l===87||l===119)&&i<3?(i++,t.consume(l),o):l===46&&i===3?(t.consume(l),a):n(l)}function a(l){return l===null?n(l):e(l)}}function fU(t,e,n){let i,o,a;return l;function l(d){return d===46||d===95?t.check(Fx,f,c)(d):d===null||Et(d)||Ys(d)||d!==45&&dh(d)?f(d):(a=!0,t.consume(d),l)}function c(d){return d===95?i=!0:(o=i,i=void 0),t.consume(d),l}function f(d){return o||i||!a?n(d):e(d)}}function dU(t,e){let n=0,i=0;return o;function o(l){return l===40?(n++,t.consume(l),o):l===41&&i<n?a(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?t.check(Fx,e,a)(l):l===null||Et(l)||Ys(l)?e(l):(t.consume(l),o)}function a(l){return l===41&&i++,t.consume(l),o}}function hU(t,e,n){return i;function i(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(t.consume(c),i):c===38?(t.consume(c),a):c===93?(t.consume(c),o):c===60||c===null||Et(c)||Ys(c)?e(c):n(c)}function o(c){return c===null||c===40||c===91||Et(c)||Ys(c)?e(c):i(c)}function a(c){return Nn(c)?l(c):n(c)}function l(c){return c===59?(t.consume(c),i):Nn(c)?(t.consume(c),l):n(c)}}function pU(t,e,n){return i;function i(a){return t.consume(a),o}function o(a){return Cn(a)?n(a):e(a)}}function qx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Et(t)}function Hx(t){return!Nn(t)}function Gx(t){return!(t===47||Dg(t))}function Dg(t){return t===43||t===45||t===46||t===95||Cn(t)}function By(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const mU={tokenize:AU,partial:!0};function gU(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:EU,continuation:{tokenize:TU},exit:SU}},text:{91:{name:"gfmFootnoteCall",tokenize:vU},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:yU,resolveTo:_U}}}}function yU(t,e,n){const i=this;let o=i.events.length;const a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l;for(;o--;){const f=i.events[o][1];if(f.type==="labelImage"){l=f;break}if(f.type==="gfmFootnoteCall"||f.type==="labelLink"||f.type==="label"||f.type==="image"||f.type==="link")break}return c;function c(f){if(!l||!l._balanced)return n(f);const d=Vi(i.sliceSerialize({start:l.end,end:i.now()}));return d.codePointAt(0)!==94||!a.includes(d.slice(1))?n(f):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),e(f))}}function _U(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},c=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",o,e],["exit",o,e],["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...c),t}function vU(t,e,n){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a=0,l;return c;function c(_){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(_),t.exit("gfmFootnoteCallLabelMarker"),f}function f(_){return _!==94?n(_):(t.enter("gfmFootnoteCallMarker"),t.consume(_),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(_){if(a>999||_===93&&!l||_===null||_===91||Et(_))return n(_);if(_===93){t.exit("chunkString");const T=t.exit("gfmFootnoteCallString");return o.includes(Vi(i.sliceSerialize(T)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(_),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(_)}return Et(_)||(l=!0),a++,t.consume(_),_===92?m:d}function m(_){return _===91||_===92||_===93?(t.consume(_),a++,d):d(_)}}function EU(t,e,n){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a,l=0,c;return f;function f(I){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(I){return I===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",m):n(I)}function m(I){if(l>999||I===93&&!c||I===null||I===91||Et(I))return n(I);if(I===93){t.exit("chunkString");const k=t.exit("gfmFootnoteDefinitionLabelString");return a=Vi(i.sliceSerialize(k)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(I),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),T}return Et(I)||(c=!0),l++,t.consume(I),I===92?_:m}function _(I){return I===91||I===92||I===93?(t.consume(I),l++,m):m(I)}function T(I){return I===58?(t.enter("definitionMarker"),t.consume(I),t.exit("definitionMarker"),o.includes(a)||o.push(a),tt(t,S,"gfmFootnoteDefinitionWhitespace")):n(I)}function S(I){return e(I)}}function TU(t,e,n){return t.check(Tc,e,t.attempt(mU,e,n))}function SU(t){t.exit("gfmFootnoteDefinition")}function AU(t,e,n){const i=this;return tt(t,o,"gfmFootnoteDefinitionIndent",5);function o(a){const l=i.events[i.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(a):n(a)}}function CU(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:a,resolveAll:o};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function o(l,c){let f=-1;for(;++f<l.length;)if(l[f][0]==="enter"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._close){let d=f;for(;d--;)if(l[d][0]==="exit"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._open&&l[f][1].end.offset-l[f][1].start.offset===l[d][1].end.offset-l[d][1].start.offset){l[f][1].type="strikethroughSequence",l[d][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},l[d][1].start),end:Object.assign({},l[f][1].end)},_={type:"strikethroughText",start:Object.assign({},l[d][1].end),end:Object.assign({},l[f][1].start)},T=[["enter",m,c],["enter",l[d][1],c],["exit",l[d][1],c],["enter",_,c]],S=c.parser.constructs.insideSpan.null;S&&Zn(T,T.length,0,hh(S,l.slice(d+1,f),c)),Zn(T,T.length,0,[["exit",_,c],["enter",l[f][1],c],["exit",l[f][1],c],["exit",m,c]]),Zn(l,d-1,f-d+3,T),f=d+T.length-2;break}}for(f=-1;++f<l.length;)l[f][1].type==="strikethroughSequenceTemporary"&&(l[f][1].type="data");return l}function a(l,c,f){const d=this.previous,m=this.events;let _=0;return T;function T(I){return d===126&&m[m.length-1][1].type!=="characterEscape"?f(I):(l.enter("strikethroughSequenceTemporary"),S(I))}function S(I){const k=dl(d);if(I===126)return _>1?f(I):(l.consume(I),_++,S);if(_<2&&!n)return f(I);const V=l.exit("strikethroughSequenceTemporary"),U=dl(I);return V._open=!U||U===2&&!!k,V._close=!k||k===2&&!!U,c(I)}}}class wU{constructor(){this.map=[]}add(e,n,i){xU(this,e,n,i)}consume(e){if(this.map.sort(function(a,l){return a[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let o=i.pop();for(;o;){for(const a of o)e.push(a);o=i.pop()}this.map.length=0}}function xU(t,e,n,i){let o=0;if(!(n===0&&i.length===0)){for(;o<t.map.length;){if(t.map[o][0]===e){t.map[o][1]+=n,t.map[o][2].push(...i);return}o+=1}t.map.push([e,n,i])}}function IU(t,e){let n=!1;const i=[];for(;e<t.length;){const o=t[e];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=i.length-1;i[a]=i[a]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function bU(){return{flow:{null:{name:"table",tokenize:RU,resolveAll:NU}}}}function RU(t,e,n){const i=this;let o=0,a=0,l;return c;function c(b){let N=i.events.length-1;for(;N>-1;){const me=i.events[N][1].type;if(me==="lineEnding"||me==="linePrefix")N--;else break}const O=N>-1?i.events[N][1].type:null,F=O==="tableHead"||O==="tableRow"?K:f;return F===K&&i.parser.lazy[i.now().line]?n(b):F(b)}function f(b){return t.enter("tableHead"),t.enter("tableRow"),d(b)}function d(b){return b===124||(l=!0,a+=1),m(b)}function m(b){return b===null?n(b):Ne(b)?a>1?(a=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),S):n(b):Ye(b)?tt(t,m,"whitespace")(b):(a+=1,l&&(l=!1,o+=1),b===124?(t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),l=!0,m):(t.enter("data"),_(b)))}function _(b){return b===null||b===124||Et(b)?(t.exit("data"),m(b)):(t.consume(b),b===92?T:_)}function T(b){return b===92||b===124?(t.consume(b),_):_(b)}function S(b){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(b):(t.enter("tableDelimiterRow"),l=!1,Ye(b)?tt(t,I,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):I(b))}function I(b){return b===45||b===58?V(b):b===124?(l=!0,t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),k):se(b)}function k(b){return Ye(b)?tt(t,V,"whitespace")(b):V(b)}function V(b){return b===58?(a+=1,l=!0,t.enter("tableDelimiterMarker"),t.consume(b),t.exit("tableDelimiterMarker"),U):b===45?(a+=1,U(b)):b===null||Ne(b)?ie(b):se(b)}function U(b){return b===45?(t.enter("tableDelimiterFiller"),G(b)):se(b)}function G(b){return b===45?(t.consume(b),G):b===58?(l=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(b),t.exit("tableDelimiterMarker"),B):(t.exit("tableDelimiterFiller"),B(b))}function B(b){return Ye(b)?tt(t,ie,"whitespace")(b):ie(b)}function ie(b){return b===124?I(b):b===null||Ne(b)?!l||o!==a?se(b):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(b)):se(b)}function se(b){return n(b)}function K(b){return t.enter("tableRow"),P(b)}function P(b){return b===124?(t.enter("tableCellDivider"),t.consume(b),t.exit("tableCellDivider"),P):b===null||Ne(b)?(t.exit("tableRow"),e(b)):Ye(b)?tt(t,P,"whitespace")(b):(t.enter("data"),L(b))}function L(b){return b===null||b===124||Et(b)?(t.exit("data"),P(b)):(t.consume(b),b===92?D:L)}function D(b){return b===92||b===124?(t.consume(b),L):L(b)}}function NU(t,e){let n=-1,i=!0,o=0,a=[0,0,0,0],l=[0,0,0,0],c=!1,f=0,d,m,_;const T=new wU;for(;++n<t.length;){const S=t[n],I=S[1];S[0]==="enter"?I.type==="tableHead"?(c=!1,f!==0&&(vS(T,e,f,d,m),m=void 0,f=0),d={type:"table",start:Object.assign({},I.start),end:Object.assign({},I.end)},T.add(n,0,[["enter",d,e]])):I.type==="tableRow"||I.type==="tableDelimiterRow"?(i=!0,_=void 0,a=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},I.start),end:Object.assign({},I.end)},T.add(n,0,[["enter",m,e]])),o=I.type==="tableDelimiterRow"?2:m?3:1):o&&(I.type==="data"||I.type==="tableDelimiterMarker"||I.type==="tableDelimiterFiller")?(i=!1,l[2]===0&&(a[1]!==0&&(l[0]=l[1],_=cd(T,e,a,o,void 0,_),a=[0,0,0,0]),l[2]=n)):I.type==="tableCellDivider"&&(i?i=!1:(a[1]!==0&&(l[0]=l[1],_=cd(T,e,a,o,void 0,_)),a=l,l=[a[1],n,0,0])):I.type==="tableHead"?(c=!0,f=n):I.type==="tableRow"||I.type==="tableDelimiterRow"?(f=n,a[1]!==0?(l[0]=l[1],_=cd(T,e,a,o,n,_)):l[1]!==0&&(_=cd(T,e,l,o,n,_)),o=0):o&&(I.type==="data"||I.type==="tableDelimiterMarker"||I.type==="tableDelimiterFiller")&&(l[3]=n)}for(f!==0&&vS(T,e,f,d,m),T.consume(e.events),n=-1;++n<e.events.length;){const S=e.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=IU(e.events,n))}return t}function cd(t,e,n,i,o,a){const l=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(a.end=Object.assign({},ja(e.events,n[0])),t.add(n[0],0,[["exit",a,e]]));const f=ja(e.events,n[1]);if(a={type:l,start:Object.assign({},f),end:Object.assign({},f)},t.add(n[1],0,[["enter",a,e]]),n[2]!==0){const d=ja(e.events,n[2]),m=ja(e.events,n[3]),_={type:c,start:Object.assign({},d),end:Object.assign({},m)};if(t.add(n[2],0,[["enter",_,e]]),i!==2){const T=e.events[n[2]],S=e.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const I=n[2]+1,k=n[3]-n[2]-1;t.add(I,k,[])}}t.add(n[3]+1,0,[["exit",_,e]])}return o!==void 0&&(a.end=Object.assign({},ja(e.events,o)),t.add(o,0,[["exit",a,e]]),a=void 0),a}function vS(t,e,n,i,o){const a=[],l=ja(e.events,n);o&&(o.end=Object.assign({},l),a.push(["exit",o,e])),i.end=Object.assign({},l),a.push(["exit",i,e]),t.add(n+1,0,a)}function ja(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const kU={name:"tasklistCheck",tokenize:DU};function MU(){return{text:{91:kU}}}function DU(t,e,n){const i=this;return o;function o(f){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(f):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(f),t.exit("taskListCheckMarker"),a)}function a(f){return Et(f)?(t.enter("taskListCheckValueUnchecked"),t.consume(f),t.exit("taskListCheckValueUnchecked"),l):f===88||f===120?(t.enter("taskListCheckValueChecked"),t.consume(f),t.exit("taskListCheckValueChecked"),l):n(f)}function l(f){return f===93?(t.enter("taskListCheckMarker"),t.consume(f),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(f)}function c(f){return Ne(f)?e(f):Ye(f)?t.check({tokenize:PU},e,n)(f):n(f)}}function PU(t,e,n){return tt(t,i,"whitespace");function i(o){return o===null?n(o):e(o)}}function LU(t){return tx([sU(),gU(),CU(t),bU(),MU()])}const VU={};function UU(t){const e=this,n=t||VU,i=e.data(),o=i.micromarkExtensions||(i.micromarkExtensions=[]),a=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),l=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);o.push(LU(n)),a.push(nU()),l.push(iU(n))}const qy=({content:t,variant:e="default"})=>{const n=e==="paper",i=n?"text-gray-900":"text-forge-text",o=n?"text-gray-600":"text-forge-muted",a=n?"text-orange-600":"text-forge-accent",l=n?"border-gray-200":"border-forge-700";return w.jsx("div",{className:`prose max-w-none ${n?"prose-headings:text-gray-900 prose-p:text-gray-700":"prose-slate"}`,children:w.jsx(CV,{remarkPlugins:[UU],components:{h1:({node:c,...f})=>w.jsx("h1",{className:`text-3xl font-bold ${i} mb-6 ${l} pb-4`,...f}),h2:({node:c,...f})=>w.jsx("h2",{className:`text-2xl font-semibold ${i} mt-10 mb-4`,...f}),h3:({node:c,...f})=>w.jsx("h3",{className:`text-xl font-medium ${a} mt-8 mb-3`,...f}),ul:({node:c,...f})=>w.jsx("ul",{className:`list-disc pl-6 space-y-2 mb-6 ${o}`,...f}),ol:({node:c,...f})=>w.jsx("ol",{className:`list-decimal pl-6 space-y-2 mb-6 ${o}`,...f}),li:({node:c,...f})=>w.jsx("li",{className:"pl-2 leading-relaxed",...f}),p:({node:c,...f})=>w.jsx("p",{className:`mb-6 leading-7 ${o}`,...f}),strong:({node:c,...f})=>w.jsx("strong",{className:`font-bold ${i}`,...f}),code:({node:c,...f})=>w.jsx("code",{className:`${n?"bg-gray-100 border-gray-200 text-orange-700":"bg-forge-800 border-forge-700 text-forge-accent"} border px-1.5 py-0.5 rounded font-mono text-sm`,...f}),pre:({node:c,...f})=>w.jsx("pre",{className:`${n?"bg-gray-50 border-gray-200 text-gray-700":"bg-forge-900 border-forge-700 text-forge-muted"} p-4 rounded-lg overflow-x-auto border my-6 shadow-sm`,...f}),blockquote:({node:c,...f})=>w.jsx("blockquote",{className:`border-l-4 ${n?"border-orange-500 bg-orange-50 text-gray-600":"border-forge-accent bg-forge-800/50 text-forge-muted"} pl-4 italic my-6 py-3 rounded-r`,...f}),a:({node:c,...f})=>w.jsx("a",{className:`${a} hover:underline underline-offset-4 transition-all`,...f}),hr:({node:c,...f})=>w.jsx("hr",{className:`${l} my-8`,...f}),table:({node:c,...f})=>w.jsx("div",{className:`overflow-x-auto my-8 border ${l} rounded-lg shadow-sm`,children:w.jsx("table",{className:`min-w-full divide-y ${n?"divide-gray-200":"divide-forge-700"}`,...f})}),thead:({node:c,...f})=>w.jsx("thead",{className:n?"bg-gray-50":"bg-forge-800",...f}),tbody:({node:c,...f})=>w.jsx("tbody",{className:`bg-white divide-y ${n?"divide-gray-200":"divide-forge-700"}`,...f}),tr:({node:c,...f})=>w.jsx("tr",{className:`transition-colors ${n?"hover:bg-gray-50":"hover:bg-forge-50"}`,...f}),th:({node:c,...f})=>w.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${n?"text-gray-500":"text-forge-500"} uppercase tracking-wider`,...f}),td:({node:c,...f})=>w.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${o}`,...f})},children:t})})},OU=()=>{};var ES={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FU=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],l=t[n++],c=t[n++],f=((o&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Yx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],l=o+1<t.length,c=l?t[o+1]:0,f=o+2<t.length,d=f?t[o+2]:0,m=a>>2,_=(a&3)<<4|c>>4;let T=(c&15)<<2|d>>6,S=d&63;f||(S=64,l||(T=64)),i.push(n[m],n[_],n[T],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($x(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],c=o<t.length?n[t.charAt(o)]:0;++o;const d=o<t.length?n[t.charAt(o)]:64;++o;const _=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||c==null||d==null||_==null)throw new zU;const T=a<<2|c>>4;if(i.push(T),d!==64){const S=c<<4&240|d>>2;if(i.push(S),_!==64){const I=d<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BU=function(t){const e=$x(t);return Yx.encodeByteArray(e,!0)},Od=function(t){return BU(t).replace(/\./g,"")},Kx=function(t){try{return Yx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=()=>qU().__FIREBASE_DEFAULTS__,GU=()=>{if(typeof process>"u"||typeof ES>"u")return;const t=ES.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$U=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kx(t[1]);return e&&JSON.parse(e)},yh=()=>{try{return OU()||HU()||GU()||$U()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jx=t=>{var e,n;return(n=(e=yh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},YU=t=>{const e=Jx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Qx=()=>{var t;return(t=yh())==null?void 0:t.config},jx=t=>{var e;return(e=yh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Od(JSON.stringify(n)),Od(JSON.stringify(l)),""].join(".")}const Wu={};function QU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wu))Wu[e]?t.emulator.push(e):t.prod.push(e);return t}function jU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TS=!1;function Wx(t,e){if(typeof window>"u"||typeof document>"u"||!xl(window.location.host)||Wu[t]===e||Wu[t]||TS)return;Wu[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=QU().prod.length>0;function l(){const T=document.getElementById(i);T&&T.remove()}function c(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{TS=!0,l()},T}function m(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=jU(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),k=n("learnmore"),V=document.getElementById(k)||document.createElement("a"),U=n("preprendIcon"),G=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;c(B),m(V,k);const ie=d();f(G,U),B.append(G,I,V,ie),document.body.appendChild(B)}a?(I.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function WU(){var e;const t=(e=yh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nO(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iO(){return!WU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rO(){try{return typeof indexedDB=="object"}catch{return!1}}function oO(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="FirebaseError";class to extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=sO,Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],l=a?aO(a,i):"Error",c=`${this.serviceName}: ${l} (${o}).`;return new to(o,c,i)}}function aO(t,e){return t.replace(lO,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const lO=/\{\$([^}]+)}/g;function uO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],l=e[o];if(SS(a)&&SS(l)){if(!Ks(a,l))return!1}else if(a!==l)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function SS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cO(t,e){const n=new fO(t,e);return n.subscribe.bind(n)}class fO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");dO(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=sg),o.error===void 0&&(o.error=sg),o.complete===void 0&&(o.complete=sg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new KU;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mO(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pO(t){return t===Bs?void 0:t}function mO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const yO={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},_O=Qe.INFO,vO={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},EO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=vO[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hy{constructor(e){this.name=e,this._logLevel=_O,this._logHandler=EO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const TO=(t,e)=>e.some(n=>t instanceof n);let AS,CS;function SO(){return AS||(AS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AO(){return CS||(CS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zx=new WeakMap,Pg=new WeakMap,eI=new WeakMap,ag=new WeakMap,Gy=new WeakMap;function CO(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ko(t.result)),o()},l=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Zx.set(n,t)}).catch(()=>{}),Gy.set(e,t),e}function wO(t){if(Pg.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),o()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Pg.set(t,e)}let Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xO(t){Lg=t(Lg)}function IO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(lg(this),e,...n);return eI.set(i,e.sort?e.sort():[e]),Ko(i)}:AO().includes(t)?function(...e){return t.apply(lg(this),e),Ko(Zx.get(this))}:function(...e){return Ko(t.apply(lg(this),e))}}function bO(t){return typeof t=="function"?IO(t):(t instanceof IDBTransaction&&wO(t),TO(t,SO())?new Proxy(t,Lg):t)}function Ko(t){if(t instanceof IDBRequest)return CO(t);if(ag.has(t))return ag.get(t);const e=bO(t);return e!==t&&(ag.set(t,e),Gy.set(e,t)),e}const lg=t=>Gy.get(t);function RO(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const l=indexedDB.open(t,e),c=Ko(l);return i&&l.addEventListener("upgradeneeded",f=>{i(Ko(l.result),f.oldVersion,f.newVersion,Ko(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const NO=["get","getKey","getAll","getAllKeys","count"],kO=["put","add","delete","clear"],ug=new Map;function wS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=kO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||NO.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,o?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),o&&f.done]))[0]};return ug.set(e,a),a}xO(t=>({...t,get:(e,n,i)=>wS(e,n)||t.get(e,n,i),has:(e,n)=>!!wS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function DO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",xS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Hy("@firebase/app"),PO="@firebase/app-compat",LO="@firebase/analytics-compat",VO="@firebase/analytics",UO="@firebase/app-check-compat",OO="@firebase/app-check",FO="@firebase/auth",zO="@firebase/auth-compat",BO="@firebase/database",qO="@firebase/data-connect",HO="@firebase/database-compat",GO="@firebase/functions",$O="@firebase/functions-compat",YO="@firebase/installations",KO="@firebase/installations-compat",JO="@firebase/messaging",QO="@firebase/messaging-compat",jO="@firebase/performance",XO="@firebase/performance-compat",WO="@firebase/remote-config",ZO="@firebase/remote-config-compat",e3="@firebase/storage",t3="@firebase/storage-compat",n3="@firebase/firestore",i3="@firebase/ai",r3="@firebase/firestore-compat",o3="firebase",s3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",a3={[Vg]:"fire-core",[PO]:"fire-core-compat",[VO]:"fire-analytics",[LO]:"fire-analytics-compat",[OO]:"fire-app-check",[UO]:"fire-app-check-compat",[FO]:"fire-auth",[zO]:"fire-auth-compat",[BO]:"fire-rtdb",[qO]:"fire-data-connect",[HO]:"fire-rtdb-compat",[GO]:"fire-fn",[$O]:"fire-fn-compat",[YO]:"fire-iid",[KO]:"fire-iid-compat",[JO]:"fire-fcm",[QO]:"fire-fcm-compat",[jO]:"fire-perf",[XO]:"fire-perf-compat",[WO]:"fire-rc",[ZO]:"fire-rc-compat",[e3]:"fire-gcs",[t3]:"fire-gcs-compat",[n3]:"fire-fst",[r3]:"fire-fst-compat",[i3]:"fire-vertex","fire-js":"fire-js",[o3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Map,l3=new Map,Og=new Map;function IS(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hl(t){const e=t.name;if(Og.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,t);for(const n of Fd.values())IS(n,t);for(const n of l3.values())IS(n,t);return!0}function $y(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Di(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Ac("app","Firebase",u3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=s3;function tI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Ug,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Jo.create("bad-app-name",{appName:String(o)});if(n||(n=Qx()),!n)throw Jo.create("no-options");const a=Fd.get(o);if(a){if(Ks(n,a.options)&&Ks(i,a.config))return a;throw Jo.create("duplicate-app",{appName:o})}const l=new gO(o);for(const f of Og.values())l.addComponent(f);const c=new c3(n,i,l);return Fd.set(o,c),c}function nI(t=Ug){const e=Fd.get(t);if(!e&&t===Ug&&Qx())return tI();if(!e)throw Jo.create("no-app",{appName:t});return e}function Qo(t,e,n){let i=a3[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(l.join(" "));return}hl(new Js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="firebase-heartbeat-database",d3=1,lc="firebase-heartbeat-store";let cg=null;function iI(){return cg||(cg=RO(f3,d3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),cg}async function h3(t){try{const n=(await iI()).transaction(lc),i=await n.objectStore(lc).get(rI(t));return await n.done,i}catch(e){if(e instanceof to)Jr.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function bS(t,e){try{const i=(await iI()).transaction(lc,"readwrite");await i.objectStore(lc).put(e,rI(t)),await i.done}catch(n){if(n instanceof to)Jr.warn(n.message);else{const i=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(i.message)}}}function rI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=1024,m3=30;class g3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=RS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>m3){const l=v3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RS(),{heartbeatsToSend:i,unsentEntries:o}=y3(this._heartbeatsCache.heartbeats),a=Od(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Jr.warn(n),""}}}function RS(){return new Date().toISOString().substring(0,10)}function y3(t,e=p3){const n=[];let i=t.slice();for(const o of t){const a=n.find(l=>l.agent===o.agent);if(a){if(a.dates.push(o.date),NS(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),NS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rO()?oO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NS(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}function v3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){hl(new Js("platform-logger",e=>new MO(e),"PRIVATE")),hl(new Js("heartbeat",e=>new g3(e),"PRIVATE")),Qo(Vg,xS,t),Qo(Vg,xS,"esm2020"),Qo("fire-js","")}E3("");function oI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T3=oI,sI=new Ac("auth","Firebase",oI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Hy("@firebase/auth");function S3(t,...e){zd.logLevel<=Qe.WARN&&zd.warn(`Auth (${Il}): ${t}`,...e)}function Td(t,...e){zd.logLevel<=Qe.ERROR&&zd.error(`Auth (${Il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,...e){throw Ky(t,...e)}function Ui(t,...e){return Ky(t,...e)}function Yy(t,e,n){const i={...T3(),[e]:n};return new Ac("auth","Firebase",i).create(e,{appName:t.name})}function Gs(t){return Yy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A3(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&_r(t,"argument-error"),Yy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ky(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return sI.create(t,...e)}function De(t,e,...n){if(!t)throw Ky(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function Qr(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function C3(){return kS()==="http:"||kS()==="https:"}function kS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C3()||eO()||"connection"in navigator)?navigator.onLine:!0}function x3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=XU()||tO()}get(){return w3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R3=new wc(3e4,6e4);function Qy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function bl(t,e,n,i,o={}){return lI(t,o,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const c=Cc({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...a};return ZU()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&xl(t.emulatorConfig.host)&&(d.credentials="include"),aI.fetch()(await uI(t,t.config.apiHost,n,c),d)})}async function lI(t,e,n){t._canInitEmulator=!1;const i={...I3,...e};try{const o=new k3(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw fd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw fd(t,"user-disabled",l);const m=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Yy(t,m,d);_r(t,m)}}catch(o){if(o instanceof to)throw o;_r(t,"network-request-failed",{message:String(o)})}}async function N3(t,e,n,i,o={}){const a=await bl(t,e,n,i,o);return"mfaPendingCredential"in a&&_r(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function uI(t,e,n,i){const o=`${e}${n}?${i}`,a=t,l=a.config.emulator?Jy(t.config,o):`${t.config.apiScheme}://${o}`;return b3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class k3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ui(this.auth,"network-request-failed")),R3.get())})}}function fd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Ui(t,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e){return bl(t,"POST","/v1/accounts:delete",e)}async function Bd(t,e){return bl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D3(t,e=!1){const n=Bn(t),i=await n.getIdToken(e),o=jy(i);De(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Zu(fg(o.auth_time)),issuedAtTime:Zu(fg(o.iat)),expirationTime:Zu(fg(o.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fg(t){return Number(t)*1e3}function jy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const o=Kx(n);return o?JSON.parse(o):(Td("Failed to decode base64 JWT payload"),null)}catch(o){return Td("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function MS(t){const e=jy(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof to&&P3(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function P3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t){var _;const e=t.auth,n=await t.getIdToken(),i=await uc(t,Bd(e,{idToken:n}));De(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=(_=o.providerUserInfo)!=null&&_.length?cI(o.providerUserInfo):[],l=U3(t.providerData,a),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),d=c?f:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new zg(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function V3(t){const e=Bn(t);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U3(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function cI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){const n=await lI(t,{},async()=>{const i=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,l=await uI(t,o,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:i};return t.emulatorConfig&&xl(t.emulatorConfig.host)&&(f.credentials="include"),aI.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F3(t,e){return bl(t,"POST","/v2/accounts:revokeToken",Qy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=MS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:a}=await O3(e,n);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:a}=n,l=new il;return i&&(De(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),o&&(De(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),a&&(De(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new L3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D3(this,e)}reload(){return V3(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await qd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(Gs(this.auth));const e=await this.getIdToken();return await uc(this,M3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:S,providerData:I,stsTokenManager:k}=n;De(_&&k,e,"internal-error");const V=il.fromJSON(this.name,k);De(typeof _=="string",e,"internal-error"),Bo(i,e.name),Bo(o,e.name),De(typeof T=="boolean",e,"internal-error"),De(typeof S=="boolean",e,"internal-error"),Bo(a,e.name),Bo(l,e.name),Bo(c,e.name),Bo(f,e.name),Bo(d,e.name),Bo(m,e.name);const U=new Pi({uid:_,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:S,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:V,createdAt:d,lastLoginAt:m});return I&&Array.isArray(I)&&(U.providerData=I.map(G=>({...G}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,n,i=!1){const o=new il;o.updateFromServerResponse(n);const a=new Pi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await qd(a),a}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];De(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?cI(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),c=new il;c.updateFromIdToken(i);const f=new Pi({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Map;function Gr(t){Qr(t instanceof Function,"Expected a class definition");let e=DS.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fI.type="NONE";const PS=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t,e,n){return`firebase:${t}:${e}:${n}`}class rl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Sd(this.userKey,o.apiKey,a),this.fullPersistenceKey=Sd("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bd(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new rl(Gr(PS),e,i);const o=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=o[0]||Gr(PS);const l=Sd(i,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(l);if(m){let _;if(typeof m=="string"){const T=await Bd(e,{idToken:m}).catch(()=>{});if(!T)break;_=await Pi._fromGetAccountInfoResponse(e,T,m)}else _=Pi._fromJSON(e,m);d!==a&&(c=_),a=d;break}}catch{}const f=o.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new rl(a,e,i):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new rl(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yI(e))return"Blackberry";if(_I(e))return"Webos";if(hI(e))return"Safari";if((e.includes("chrome/")||pI(e))&&!e.includes("edge/"))return"Chrome";if(gI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function dI(t=xn()){return/firefox\//i.test(t)}function hI(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pI(t=xn()){return/crios\//i.test(t)}function mI(t=xn()){return/iemobile/i.test(t)}function gI(t=xn()){return/android/i.test(t)}function yI(t=xn()){return/blackberry/i.test(t)}function _I(t=xn()){return/webos/i.test(t)}function Xy(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z3(t=xn()){var e;return Xy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function B3(){return nO()&&document.documentMode===10}function vI(t=xn()){return Xy(t)||gI(t)||_I(t)||yI(t)||/windows phone/i.test(t)||mI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e=[]){let n;switch(t){case"Browser":n=LS(xn());break;case"Worker":n=`${LS(xn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e={}){return bl(t,"GET","/v2/passwordPolicy",Qy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=6;class $3{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??G3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VS(this),this.idTokenSubscription=new VS(this),this.beforeStateQueue=new q3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bd(this,{idToken:e}),i=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Di(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Di(this.app))return Promise.reject(Gs(this));const n=e?Bn(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Di(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H3(this),n=new $3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await F3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,o);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&S3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _h(t){return Bn(t)}class VS{constructor(e){this.auth=e,this.observer=null,this.addObserver=cO(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K3(t){Wy=t}function J3(t){return Wy.loadJS(t)}function Q3(){return Wy.gapiScript}function j3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t,e){const n=$y(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(Ks(a,e??{}))return o;_r(o,"already-initialized")}return n.initialize({options:e})}function W3(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Z3(t,e,n){const i=_h(t);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=TI(e),{host:l,port:c}=e6(e),f=c===null?"":`:${c}`,d={url:`${a}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De(Ks(d,i.config.emulator)&&Ks(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,xl(l)?(Xx(`${a}//${l}${f}`),Wx("Auth",!0)):t6()}function TI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e6(t){const e=TI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:US(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:US(l)}}}function US(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function t6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e){return N3(t,"POST","/v1/accounts:signInWithIdp",Qy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="http://localhost";class Qs extends SI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...a}=n;if(!i||!o)return null;const l=new Qs(i,o);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ol(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ol(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ol(e,n)}buildRequest(){const e={requestUri:n6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends xc{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qr.credential(n,i)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends xc{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends xc{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Go.credential(n,i)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const a=await Pi._fromIdTokenResponse(e,i,o),l=OS(i);return new pl({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=OS(i);return new pl({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function OS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends to{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Hd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Hd(e,n,i,o)}}function AI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Hd._fromErrorAndOperation(t,a,e,i):a})}async function i6(t,e,n=!1){const i=await uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e,n=!1){const{auth:i}=t;if(Di(i.app))return Promise.reject(Gs(i));const o="reauthenticate";try{const a=await uc(t,AI(i,o,e,t),n);De(a.idToken,i,"internal-error");const l=jy(a.idToken);De(l,i,"internal-error");const{sub:c}=l;return De(t.uid===c,i,"user-mismatch"),pl._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&_r(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e,n=!1){if(Di(t.app))return Promise.reject(Gs(t));const i="signIn",o=await AI(t,i,e),a=await pl._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(a.user),a}function s6(t,e,n,i){return Bn(t).onIdTokenChanged(e,n,i)}function a6(t,e,n){return Bn(t).beforeAuthStateChanged(e,n)}function l6(t,e,n,i){return Bn(t).onAuthStateChanged(e,n,i)}function u6(t){return Bn(t).signOut()}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=1e3,f6=10;class wI extends CI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);B3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,f6):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},c6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wI.type="LOCAL";const d6=wI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI extends CI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xI.type="SESSION";const II=xI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new vh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:a}=n.data,l=this.handlersMap[o];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const c=Array.from(l).map(async d=>d(n.origin,a)),f=await h6(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const d=e_("",20);o.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:o,onMessage(_){const T=_;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function m6(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function g6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _6(){return bI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firebaseLocalStorageDb",v6=1,$d="firebaseLocalStorage",NI="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(t,e){return t.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function E6(){const t=indexedDB.deleteDatabase(RI);return new Ic(t).toPromise()}function Bg(){const t=indexedDB.open(RI,v6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore($d,{keyPath:NI})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains($d)?e(i):(i.close(),await E6(),e(await Bg()))})})}async function FS(t,e,n){const i=Eh(t,!0).put({[NI]:e,value:n});return new Ic(i).toPromise()}async function T6(t,e){const n=Eh(t,!1).get(e),i=await new Ic(n).toPromise();return i===void 0?null:i.value}function zS(t,e){const n=Eh(t,!0).delete(e);return new Ic(n).toPromise()}const S6=800,A6=3;class kI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>A6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(_6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await g6(),!this.activeServiceWorker)return;this.sender=new p6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await FS(e,Gd,"1"),await zS(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>FS(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>T6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Eh(o,!1).getAll();return new Ic(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kI.type="LOCAL";const C6=kI;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e){return e?Gr(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends SI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w6(t){return o6(t.auth,new t_(t),t.bypassAuthState)}function x6(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),r6(n,new t_(t),t.bypassAuthState)}async function I6(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),i6(n,new t_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w6;case"linkViaPopup":case"linkViaRedirect":return I6;case"reauthViaPopup":case"reauthViaRedirect":return x6;default:_r(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new wc(2e3,1e4);async function R6(t,e,n){if(Di(t.app))return Promise.reject(Ui(t,"operation-not-supported-in-this-environment"));const i=_h(t);A3(t,e,Zy);const o=MI(i,n);return new qs(i,"signInViaPopup",e,o).executeNotNull()}class qs extends DI{constructor(e,n,i,o,a){super(e,n,o,a),this.provider=i,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=e_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b6.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="pendingRedirect",Ad=new Map;class k6 extends DI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ad.get(this.auth._key());if(!e){try{const i=await M6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M6(t,e){const n=L6(e),i=P6(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function D6(t,e){Ad.set(t._key(),e)}function P6(t){return Gr(t._redirectPersistence)}function L6(t){return Sd(N6,t.config.apiKey,t.name)}async function V6(t,e,n=!1){if(Di(t.app))return Promise.reject(Gs(t));const i=_h(t),o=MI(i,e),l=await new k6(i,o,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=600*1e3;class O6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!PI(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U6&&this.cachedEventUids.clear(),this.cachedEventUids.has(BS(e))}saveEventToCache(e){this.cachedEventUids.add(BS(e)),this.lastProcessedEventTime=Date.now()}}function BS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t,e={}){return bl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q6=/^https?/;async function H6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z6(t);for(const n of e)try{if(G6(n))return}catch{}_r(t,"unauthorized-domain")}function G6(t){const e=Fg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!q6.test(n))return!1;if(B6.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new wc(3e4,6e4);function qS(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y6(t){return new Promise((e,n)=>{var o,a,l;function i(){qS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qS(),n(Ui(t,"network-request-failed"))},timeout:$6.get()})}if((a=(o=dr().gapi)==null?void 0:o.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=dr().gapi)!=null&&l.load)i();else{const c=j3("iframefcb");return dr()[c]=()=>{gapi.load?i():n(Ui(t,"network-request-failed"))},J3(`${Q3()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Cd=null,e})}let Cd=null;function K6(t){return Cd=Cd||Y6(t),Cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new wc(5e3,15e3),Q6="__/auth/iframe",j6="emulator/auth/iframe",X6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z6(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jy(e,j6):`https://${t.config.authDomain}/${Q6}`,i={apiKey:e.apiKey,appName:t.name,v:Il},o=W6.get(t.config.apiHost);o&&(i.eid=o);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Cc(i).slice(1)}`}async function e5(t){const e=await K6(t),n=dr().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:Z6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X6,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const l=Ui(t,"network-request-failed"),c=dr().setTimeout(()=>{a(l)},J6.get());function f(){dr().clearTimeout(c),o(i)}i.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n5=500,i5=600,r5="_blank",o5="http://localhost";class HS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s5(t,e,n,i=n5,o=i5){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const f={...t5,width:i.toString(),height:o.toString(),top:a,left:l},d=xn().toLowerCase();n&&(c=pI(d)?r5:n),dI(d)&&(e=e||o5,f.scrollbars="yes");const m=Object.entries(f).reduce((T,[S,I])=>`${T}${S}=${I},`,"");if(z3(d)&&c!=="_self")return a5(e||"",c),new HS(null);const _=window.open(e||"",c,m);De(_,t,"popup-blocked");try{_.focus()}catch{}return new HS(_)}function a5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="__/auth/handler",u5="emulator/auth/handler",c5=encodeURIComponent("fac");async function GS(t,e,n,i,o,a){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Il,eventId:o};if(e instanceof Zy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",uO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(e instanceof xc){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),d=f?`#${c5}=${encodeURIComponent(f)}`:"";return`${f5(t)}?${Cc(c).slice(1)}${d}`}function f5({config:t}){return t.emulator?Jy(t,u5):`https://${t.authDomain}/${l5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="webStorageSupport";class d5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=II,this._completeRedirectFn=V6,this._overrideRedirectResult=D6}async _openPopup(e,n,i,o){var l;Qr((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await GS(e,n,i,Fg(),o);return s5(e,a,e_())}async _openRedirect(e,n,i,o){await this._originValidation(e);const a=await GS(e,n,i,Fg(),o);return m6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Qr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await e5(e),i=new O6(e);return n.register("authEvent",o=>(De(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dg,{type:dg},o=>{var l;const a=(l=o==null?void 0:o[0])==null?void 0:l[dg];a!==void 0&&n(!!a),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vI()||hI()||Xy()}}const h5=d5;var $S="@firebase/auth",YS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g5(t){hl(new Js("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EI(t)},d=new Y3(i,o,a,f);return W3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),hl(new Js("auth-internal",e=>{const n=_h(e.getProvider("auth").getImmediate());return(i=>new p5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qo($S,YS,m5(t)),Qo($S,YS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=300,_5=jx("authIdTokenMaxAge")||y5;let KS=null;const v5=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>_5)return;const o=n==null?void 0:n.token;KS!==o&&(KS=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function E5(t=nI()){const e=$y(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X3(t,{popupRedirectResolver:h5,persistence:[C6,d6,II]}),i=jx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=v5(a.toString());a6(n,l,()=>l(n.currentUser)),s6(n,c=>l(c))}}const o=Jx("auth");return o&&Z3(n,`http://${o}`),n}function T5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}K3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const a=Ui("internal-error");a.customData=o,n(a)},i.type="text/javascript",i.charset="UTF-8",T5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g5("Browser");var S5="firebase",A5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo(S5,A5,"app");var JS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,LI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,L){function D(){}D.prototype=L.prototype,P.F=L.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(b,N,O){for(var F=Array(arguments.length-2),me=2;me<arguments.length;me++)F[me-2]=arguments[me];return L.prototype[N].apply(b,F)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,L,D){D||(D=0);const b=Array(16);if(typeof L=="string")for(var N=0;N<16;++N)b[N]=L.charCodeAt(D++)|L.charCodeAt(D++)<<8|L.charCodeAt(D++)<<16|L.charCodeAt(D++)<<24;else for(N=0;N<16;++N)b[N]=L[D++]|L[D++]<<8|L[D++]<<16|L[D++]<<24;L=P.g[0],D=P.g[1],N=P.g[2];let O=P.g[3],F;F=L+(O^D&(N^O))+b[0]+3614090360&4294967295,L=D+(F<<7&4294967295|F>>>25),F=O+(N^L&(D^N))+b[1]+3905402710&4294967295,O=L+(F<<12&4294967295|F>>>20),F=N+(D^O&(L^D))+b[2]+606105819&4294967295,N=O+(F<<17&4294967295|F>>>15),F=D+(L^N&(O^L))+b[3]+3250441966&4294967295,D=N+(F<<22&4294967295|F>>>10),F=L+(O^D&(N^O))+b[4]+4118548399&4294967295,L=D+(F<<7&4294967295|F>>>25),F=O+(N^L&(D^N))+b[5]+1200080426&4294967295,O=L+(F<<12&4294967295|F>>>20),F=N+(D^O&(L^D))+b[6]+2821735955&4294967295,N=O+(F<<17&4294967295|F>>>15),F=D+(L^N&(O^L))+b[7]+4249261313&4294967295,D=N+(F<<22&4294967295|F>>>10),F=L+(O^D&(N^O))+b[8]+1770035416&4294967295,L=D+(F<<7&4294967295|F>>>25),F=O+(N^L&(D^N))+b[9]+2336552879&4294967295,O=L+(F<<12&4294967295|F>>>20),F=N+(D^O&(L^D))+b[10]+4294925233&4294967295,N=O+(F<<17&4294967295|F>>>15),F=D+(L^N&(O^L))+b[11]+2304563134&4294967295,D=N+(F<<22&4294967295|F>>>10),F=L+(O^D&(N^O))+b[12]+1804603682&4294967295,L=D+(F<<7&4294967295|F>>>25),F=O+(N^L&(D^N))+b[13]+4254626195&4294967295,O=L+(F<<12&4294967295|F>>>20),F=N+(D^O&(L^D))+b[14]+2792965006&4294967295,N=O+(F<<17&4294967295|F>>>15),F=D+(L^N&(O^L))+b[15]+1236535329&4294967295,D=N+(F<<22&4294967295|F>>>10),F=L+(N^O&(D^N))+b[1]+4129170786&4294967295,L=D+(F<<5&4294967295|F>>>27),F=O+(D^N&(L^D))+b[6]+3225465664&4294967295,O=L+(F<<9&4294967295|F>>>23),F=N+(L^D&(O^L))+b[11]+643717713&4294967295,N=O+(F<<14&4294967295|F>>>18),F=D+(O^L&(N^O))+b[0]+3921069994&4294967295,D=N+(F<<20&4294967295|F>>>12),F=L+(N^O&(D^N))+b[5]+3593408605&4294967295,L=D+(F<<5&4294967295|F>>>27),F=O+(D^N&(L^D))+b[10]+38016083&4294967295,O=L+(F<<9&4294967295|F>>>23),F=N+(L^D&(O^L))+b[15]+3634488961&4294967295,N=O+(F<<14&4294967295|F>>>18),F=D+(O^L&(N^O))+b[4]+3889429448&4294967295,D=N+(F<<20&4294967295|F>>>12),F=L+(N^O&(D^N))+b[9]+568446438&4294967295,L=D+(F<<5&4294967295|F>>>27),F=O+(D^N&(L^D))+b[14]+3275163606&4294967295,O=L+(F<<9&4294967295|F>>>23),F=N+(L^D&(O^L))+b[3]+4107603335&4294967295,N=O+(F<<14&4294967295|F>>>18),F=D+(O^L&(N^O))+b[8]+1163531501&4294967295,D=N+(F<<20&4294967295|F>>>12),F=L+(N^O&(D^N))+b[13]+2850285829&4294967295,L=D+(F<<5&4294967295|F>>>27),F=O+(D^N&(L^D))+b[2]+4243563512&4294967295,O=L+(F<<9&4294967295|F>>>23),F=N+(L^D&(O^L))+b[7]+1735328473&4294967295,N=O+(F<<14&4294967295|F>>>18),F=D+(O^L&(N^O))+b[12]+2368359562&4294967295,D=N+(F<<20&4294967295|F>>>12),F=L+(D^N^O)+b[5]+4294588738&4294967295,L=D+(F<<4&4294967295|F>>>28),F=O+(L^D^N)+b[8]+2272392833&4294967295,O=L+(F<<11&4294967295|F>>>21),F=N+(O^L^D)+b[11]+1839030562&4294967295,N=O+(F<<16&4294967295|F>>>16),F=D+(N^O^L)+b[14]+4259657740&4294967295,D=N+(F<<23&4294967295|F>>>9),F=L+(D^N^O)+b[1]+2763975236&4294967295,L=D+(F<<4&4294967295|F>>>28),F=O+(L^D^N)+b[4]+1272893353&4294967295,O=L+(F<<11&4294967295|F>>>21),F=N+(O^L^D)+b[7]+4139469664&4294967295,N=O+(F<<16&4294967295|F>>>16),F=D+(N^O^L)+b[10]+3200236656&4294967295,D=N+(F<<23&4294967295|F>>>9),F=L+(D^N^O)+b[13]+681279174&4294967295,L=D+(F<<4&4294967295|F>>>28),F=O+(L^D^N)+b[0]+3936430074&4294967295,O=L+(F<<11&4294967295|F>>>21),F=N+(O^L^D)+b[3]+3572445317&4294967295,N=O+(F<<16&4294967295|F>>>16),F=D+(N^O^L)+b[6]+76029189&4294967295,D=N+(F<<23&4294967295|F>>>9),F=L+(D^N^O)+b[9]+3654602809&4294967295,L=D+(F<<4&4294967295|F>>>28),F=O+(L^D^N)+b[12]+3873151461&4294967295,O=L+(F<<11&4294967295|F>>>21),F=N+(O^L^D)+b[15]+530742520&4294967295,N=O+(F<<16&4294967295|F>>>16),F=D+(N^O^L)+b[2]+3299628645&4294967295,D=N+(F<<23&4294967295|F>>>9),F=L+(N^(D|~O))+b[0]+4096336452&4294967295,L=D+(F<<6&4294967295|F>>>26),F=O+(D^(L|~N))+b[7]+1126891415&4294967295,O=L+(F<<10&4294967295|F>>>22),F=N+(L^(O|~D))+b[14]+2878612391&4294967295,N=O+(F<<15&4294967295|F>>>17),F=D+(O^(N|~L))+b[5]+4237533241&4294967295,D=N+(F<<21&4294967295|F>>>11),F=L+(N^(D|~O))+b[12]+1700485571&4294967295,L=D+(F<<6&4294967295|F>>>26),F=O+(D^(L|~N))+b[3]+2399980690&4294967295,O=L+(F<<10&4294967295|F>>>22),F=N+(L^(O|~D))+b[10]+4293915773&4294967295,N=O+(F<<15&4294967295|F>>>17),F=D+(O^(N|~L))+b[1]+2240044497&4294967295,D=N+(F<<21&4294967295|F>>>11),F=L+(N^(D|~O))+b[8]+1873313359&4294967295,L=D+(F<<6&4294967295|F>>>26),F=O+(D^(L|~N))+b[15]+4264355552&4294967295,O=L+(F<<10&4294967295|F>>>22),F=N+(L^(O|~D))+b[6]+2734768916&4294967295,N=O+(F<<15&4294967295|F>>>17),F=D+(O^(N|~L))+b[13]+1309151649&4294967295,D=N+(F<<21&4294967295|F>>>11),F=L+(N^(D|~O))+b[4]+4149444226&4294967295,L=D+(F<<6&4294967295|F>>>26),F=O+(D^(L|~N))+b[11]+3174756917&4294967295,O=L+(F<<10&4294967295|F>>>22),F=N+(L^(O|~D))+b[2]+718787259&4294967295,N=O+(F<<15&4294967295|F>>>17),F=D+(O^(N|~L))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+L&4294967295,P.g[1]=P.g[1]+(N+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+O&4294967295}i.prototype.v=function(P,L){L===void 0&&(L=P.length);const D=L-this.blockSize,b=this.C;let N=this.h,O=0;for(;O<L;){if(N==0)for(;O<=D;)o(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<L;)if(b[N++]=P.charCodeAt(O++),N==this.blockSize){o(this,b),N=0;break}}else for(;O<L;)if(b[N++]=P[O++],N==this.blockSize){o(this,b),N=0;break}}this.h=N,this.o+=L},i.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var L=1;L<P.length-8;++L)P[L]=0;L=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=L&255,L/=256;for(this.v(P),P=Array(16),L=0,D=0;D<4;++D)for(let b=0;b<32;b+=8)P[L++]=this.g[D]>>>b&255;return P};function a(P,L){var D=c;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=L(P)}function l(P,L){this.h=L;const D=[];let b=!0;for(let N=P.length-1;N>=0;N--){const O=P[N]|0;b&&O==L||(D[N]=O,b=!1)}this.g=D}var c={};function f(P){return-128<=P&&P<128?a(P,function(L){return new l([L|0],L<0?-1:0)}):new l([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return _;if(P<0)return V(d(-P));const L=[];let D=1;for(let b=0;P>=D;b++)L[b]=P/D|0,D*=4294967296;return new l(L,0)}function m(P,L){if(P.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(P.charAt(0)=="-")return V(m(P.substring(1),L));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(L,8));let b=_;for(let O=0;O<P.length;O+=8){var N=Math.min(8,P.length-O);const F=parseInt(P.substring(O,O+N),L);N<8?(N=d(Math.pow(L,N)),b=b.j(N).add(d(F))):(b=b.j(D),b=b.add(d(F)))}return b}var _=f(0),T=f(1),S=f(16777216);t=l.prototype,t.m=function(){if(k(this))return-V(this).m();let P=0,L=1;for(let D=0;D<this.g.length;D++){const b=this.i(D);P+=(b>=0?b:4294967296+b)*L,L*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(k(this))return"-"+V(this).toString(P);const L=d(Math.pow(P,6));var D=this;let b="";for(;;){const N=ie(D,L).g;D=U(D,N.j(L));let O=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=N,I(D))return O+b;for(;O.length<6;)O="0"+O;b=O+b}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(let L=0;L<P.g.length;L++)if(P.g[L]!=0)return!1;return!0}function k(P){return P.h==-1}t.l=function(P){return P=U(this,P),k(P)?-1:I(P)?0:1};function V(P){const L=P.g.length,D=[];for(let b=0;b<L;b++)D[b]=~P.g[b];return new l(D,~P.h).add(T)}t.abs=function(){return k(this)?V(this):this},t.add=function(P){const L=Math.max(this.g.length,P.g.length),D=[];let b=0;for(let N=0;N<=L;N++){let O=b+(this.i(N)&65535)+(P.i(N)&65535),F=(O>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);b=F>>>16,O&=65535,F&=65535,D[N]=F<<16|O}return new l(D,D[D.length-1]&-2147483648?-1:0)};function U(P,L){return P.add(V(L))}t.j=function(P){if(I(this)||I(P))return _;if(k(this))return k(P)?V(this).j(V(P)):V(V(this).j(P));if(k(P))return V(this.j(V(P)));if(this.l(S)<0&&P.l(S)<0)return d(this.m()*P.m());const L=this.g.length+P.g.length,D=[];for(var b=0;b<2*L;b++)D[b]=0;for(b=0;b<this.g.length;b++)for(let N=0;N<P.g.length;N++){const O=this.i(b)>>>16,F=this.i(b)&65535,me=P.i(N)>>>16,he=P.i(N)&65535;D[2*b+2*N]+=F*he,G(D,2*b+2*N),D[2*b+2*N+1]+=O*he,G(D,2*b+2*N+1),D[2*b+2*N+1]+=F*me,G(D,2*b+2*N+1),D[2*b+2*N+2]+=O*me,G(D,2*b+2*N+2)}for(P=0;P<L;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=L;P<2*L;P++)D[P]=0;return new l(D,0)};function G(P,L){for(;(P[L]&65535)!=P[L];)P[L+1]+=P[L]>>>16,P[L]&=65535,L++}function B(P,L){this.g=P,this.h=L}function ie(P,L){if(I(L))throw Error("division by zero");if(I(P))return new B(_,_);if(k(P))return L=ie(V(P),L),new B(V(L.g),V(L.h));if(k(L))return L=ie(P,V(L)),new B(V(L.g),L.h);if(P.g.length>30){if(k(P)||k(L))throw Error("slowDivide_ only works with positive integers.");for(var D=T,b=L;b.l(P)<=0;)D=se(D),b=se(b);var N=K(D,1),O=K(b,1);for(b=K(b,2),D=K(D,2);!I(b);){var F=O.add(b);F.l(P)<=0&&(N=N.add(D),O=F),b=K(b,1),D=K(D,1)}return L=U(P,N.j(L)),new B(N,L)}for(N=_;P.l(L)>=0;){for(D=Math.max(1,Math.floor(P.m()/L.m())),b=Math.ceil(Math.log(D)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),O=d(D),F=O.j(L);k(F)||F.l(P)>0;)D-=b,O=d(D),F=O.j(L);I(O)&&(O=T),N=N.add(O),P=U(P,F)}return new B(N,P)}t.B=function(P){return ie(this,P).h},t.and=function(P){const L=Math.max(this.g.length,P.g.length),D=[];for(let b=0;b<L;b++)D[b]=this.i(b)&P.i(b);return new l(D,this.h&P.h)},t.or=function(P){const L=Math.max(this.g.length,P.g.length),D=[];for(let b=0;b<L;b++)D[b]=this.i(b)|P.i(b);return new l(D,this.h|P.h)},t.xor=function(P){const L=Math.max(this.g.length,P.g.length),D=[];for(let b=0;b<L;b++)D[b]=this.i(b)^P.i(b);return new l(D,this.h^P.h)};function se(P){const L=P.g.length+1,D=[];for(let b=0;b<L;b++)D[b]=P.i(b)<<1|P.i(b-1)>>>31;return new l(D,P.h)}function K(P,L){const D=L>>5;L%=32;const b=P.g.length-D,N=[];for(let O=0;O<b;O++)N[O]=L>0?P.i(O+D)>>>L|P.i(O+D+1)<<32-L:P.i(O+D);return new l(N,P.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,LI=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,jo=l}).apply(typeof JS<"u"?JS:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VI,$u,UI,wd,qg,OI,FI,zI;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var A=0;A<y.length;++A){var x=y[A];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function o(y,A){if(A)e:{var x=i;y=y.split(".");for(var M=0;M<y.length-1;M++){var j=y[M];if(!(j in x))break e;x=x[j]}y=y[y.length-1],M=x[y],A=A(M),A!=M&&A!=null&&e(x,y,{configurable:!0,writable:!0,value:A})}}o("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(y){return y||function(A){var x=[],M;for(M in A)Object.prototype.hasOwnProperty.call(A,M)&&x.push([M,A[M]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function f(y,A,x){return y.call.apply(y.bind,arguments)}function d(y,A,x){return d=f,d.apply(null,arguments)}function m(y,A){var x=Array.prototype.slice.call(arguments,1);return function(){var M=x.slice();return M.push.apply(M,arguments),y.apply(this,M)}}function _(y,A){function x(){}x.prototype=A.prototype,y.Z=A.prototype,y.prototype=new x,y.prototype.constructor=y,y.Ob=function(M,j,te){for(var ye=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ye[Oe-2]=arguments[Oe];return A.prototype[j].apply(M,ye)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function S(y){const A=y.length;if(A>0){const x=Array(A);for(let M=0;M<A;M++)x[M]=y[M];return x}return[]}function I(y,A){for(let M=1;M<arguments.length;M++){const j=arguments[M];var x=typeof j;if(x=x!="object"?x:j?Array.isArray(j)?"array":x:"null",x=="array"||x=="object"&&typeof j.length=="number"){x=y.length||0;const te=j.length||0;y.length=x+te;for(let ye=0;ye<te;ye++)y[x+ye]=j[ye]}else y.push(j)}}class k{constructor(A,x){this.i=A,this.j=x,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function V(y){l.setTimeout(()=>{throw y},0)}function U(){var y=P;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class G{constructor(){this.h=this.g=null}add(A,x){const M=B.get();M.set(A,x),this.h?this.h.next=M:this.g=M,this.h=M}}var B=new k(()=>new ie,y=>y.reset());class ie{constructor(){this.next=this.g=this.h=null}set(A,x){this.h=A,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let se,K=!1,P=new G,L=()=>{const y=Promise.resolve(void 0);se=()=>{y.then(D)}};function D(){for(var y;y=U();){try{y.h.call(y.g)}catch(x){V(x)}var A=B;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}K=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const x=()=>{};l.addEventListener("test",x,A),l.removeEventListener("test",x,A)}catch{}return y})();function F(y){return/^[\s\xa0]*$/.test(y)}function me(y,A){N.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}_(me,N),me.prototype.init=function(y,A){const x=this.type=y.type,M=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(x=="mouseover"?A=y.fromElement:x=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),Q=0;function de(y,A,x,M,j){this.listener=y,this.proxy=null,this.src=A,this.type=x,this.capture=!!M,this.ha=j,this.key=++Q,this.da=this.fa=!1}function Te(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Pe(y,A,x){for(const M in y)A.call(x,y[M],M,y)}function q(y,A){for(const x in y)A.call(void 0,y[x],x,y)}function $(y){const A={};for(const x in y)A[x]=y[x];return A}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(y,A){let x,M;for(let j=1;j<arguments.length;j++){M=arguments[j];for(x in M)y[x]=M[x];for(let te=0;te<oe.length;te++)x=oe[te],Object.prototype.hasOwnProperty.call(M,x)&&(y[x]=M[x])}}function _e(y){this.src=y,this.g={},this.h=0}_e.prototype.add=function(y,A,x,M,j){const te=y.toString();y=this.g[te],y||(y=this.g[te]=[],this.h++);const ye=we(y,A,M,j);return ye>-1?(A=y[ye],x||(A.fa=!1)):(A=new de(A,this.src,te,!!M,j),A.fa=x,y.push(A)),A};function be(y,A){const x=A.type;if(x in y.g){var M=y.g[x],j=Array.prototype.indexOf.call(M,A,void 0),te;(te=j>=0)&&Array.prototype.splice.call(M,j,1),te&&(Te(A),y.g[x].length==0&&(delete y.g[x],y.h--))}}function we(y,A,x,M){for(let j=0;j<y.length;++j){const te=y[j];if(!te.da&&te.listener==A&&te.capture==!!x&&te.ha==M)return j}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),pt={};function at(y,A,x,M,j){if(Array.isArray(A)){for(let te=0;te<A.length;te++)at(y,A[te],x,M,j);return null}return x=cs(x),y&&y[he]?y.J(A,x,c(M)?!!M.capture:!1,j):kn(y,A,x,!1,M,j)}function kn(y,A,x,M,j,te){if(!A)throw Error("Invalid event type");const ye=c(j)?!!j.capture:!!j;let Oe=zi(y);if(Oe||(y[qe]=Oe=new _e(y)),x=Oe.add(A,x,M,ye,te),x.proxy)return x;if(M=Ei(),x.proxy=M,M.src=y,M.listener=x,y.addEventListener)O||(j=ye),j===void 0&&(j=!1),y.addEventListener(A.toString(),M,j);else if(y.attachEvent)y.attachEvent(ti(A.toString()),M);else if(y.addListener&&y.removeListener)y.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ei(){function y(x){return A.call(y.src,y.listener,x)}const A=so;return y}function ro(y,A,x,M,j){if(Array.isArray(A))for(var te=0;te<A.length;te++)ro(y,A[te],x,M,j);else M=c(M)?!!M.capture:!!M,x=cs(x),y&&y[he]?(y=y.i,te=String(A).toString(),te in y.g&&(A=y.g[te],x=we(A,x,M,j),x>-1&&(Te(A[x]),Array.prototype.splice.call(A,x,1),A.length==0&&(delete y.g[te],y.h--)))):y&&(y=zi(y))&&(A=y.g[A.toString()],y=-1,A&&(y=we(A,x,M,j)),(x=y>-1?A[y]:null)&&oo(x))}function oo(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[he])be(A.i,y);else{var x=y.type,M=y.proxy;A.removeEventListener?A.removeEventListener(x,M,y.capture):A.detachEvent?A.detachEvent(ti(x),M):A.addListener&&A.removeListener&&A.removeListener(M),(x=zi(A))?(be(x,y),x.h==0&&(x.src=null,A[qe]=null)):Te(y)}}}function ti(y){return y in pt?pt[y]:pt[y]="on"+y}function so(y,A){if(y.da)y=!0;else{A=new me(A,this);const x=y.listener,M=y.ha||y.src;y.fa&&oo(y),y=x.call(M,A)}return y}function zi(y){return y=y[qe],y instanceof _e?y:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function cs(y){return typeof y=="function"?y:(y[ao]||(y[ao]=function(A){return y.handleEvent(A)}),y[ao])}function kt(){b.call(this),this.i=new _e(this),this.M=this,this.G=null}_(kt,b),kt.prototype[he]=!0,kt.prototype.removeEventListener=function(y,A,x,M){ro(this,y,A,x,M)};function Pt(y,A){var x,M=y.G;if(M)for(x=[];M;M=M.G)x.push(M);if(y=y.M,M=A.type||A,typeof A=="string")A=new N(A,y);else if(A instanceof N)A.target=A.target||y;else{var j=A;A=new N(M,y),z(A,j)}j=!0;let te,ye;if(x)for(ye=x.length-1;ye>=0;ye--)te=A.g=x[ye],j=Bi(te,M,!0,A)&&j;if(te=A.g=y,j=Bi(te,M,!0,A)&&j,j=Bi(te,M,!1,A)&&j,x)for(ye=0;ye<x.length;ye++)te=A.g=x[ye],j=Bi(te,M,!1,A)&&j}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const x=y.g[A];for(let M=0;M<x.length;M++)Te(x[M]);delete y.g[A],y.h--}}this.G=null},kt.prototype.J=function(y,A,x,M){return this.i.add(String(y),A,!1,x,M)},kt.prototype.K=function(y,A,x,M){return this.i.add(String(y),A,!0,x,M)};function Bi(y,A,x,M){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let j=!0;for(let te=0;te<A.length;++te){const ye=A[te];if(ye&&!ye.da&&ye.capture==x){const Oe=ye.listener,Ot=ye.ha||ye.src;ye.fa&&be(y.i,ye),j=Oe.call(Ot,M)!==!1&&j}}return j&&!M.defaultPrevented}function Ul(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=d(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(y,A||0)}function aa(y){y.g=Ul(()=>{y.g=null,y.i&&(y.i=!1,aa(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class un extends b{constructor(A,x){super(),this.m=A,this.l=x,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:aa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(y){b.call(this),this.h=y,this.g={}}_(Sr,b);var ae=[];function ge(y){Pe(y.g,function(A,x){this.g.hasOwnProperty(x)&&oo(A)},y),y.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),ge(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Re=l.JSON.stringify,He=l.JSON.parse,it=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function _n(){}function ni(){}var Ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mt(){N.call(this,"d")}_(Mt,N);function rn(){N.call(this,"c")}_(rn,N);var We={},Ti=null;function vn(){return Ti=Ti||new kt}We.Ia="serverreachability";function Lc(y){N.call(this,We.Ia,y)}_(Lc,N);function qi(y){const A=vn();Pt(A,new Lc(A))}We.STAT_EVENT="statevent";function fs(y,A){N.call(this,We.STAT_EVENT,y),this.stat=A}_(fs,N);function qt(y){const A=vn();Pt(A,new fs(A,y))}We.Ja="timingevent";function Hi(y,A){N.call(this,We.Ja,y),this.size=A}_(Hi,N);function Gi(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},A)}function Si(){this.g=!0}Si.prototype.ua=function(){this.g=!1};function Fh(y,A,x,M,j,te){y.info(function(){if(y.g)if(te){var ye="",Oe=te.split("&");for(let lt=0;lt<Oe.length;lt++){var Ot=Oe[lt].split("=");if(Ot.length>1){const It=Ot[0];Ot=Ot[1];const si=It.split("_");ye=si.length>=2&&si[1]=="type"?ye+(It+"="+Ot+"&"):ye+(It+"=redacted&")}}}else ye=null;else ye=te;return"XMLHTTP REQ ("+M+") [attempt "+j+"]: "+A+`
`+x+`
`+ye})}function Vc(y,A,x,M,j,te,ye){y.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+j+"]: "+A+`
`+x+`
`+te+" "+ye})}function $i(y,A,x,M){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+zh(y,x)+(M?" "+M:"")})}function ds(y,A){y.info(function(){return"TIMEOUT: "+A})}Si.prototype.info=function(){};function zh(y,A){if(!y.g)return A;if(!A)return null;try{const te=JSON.parse(A);if(te){for(y=0;y<te.length;y++)if(Array.isArray(te[y])){var x=te[y];if(!(x.length<2)){var M=x[1];if(Array.isArray(M)&&!(M.length<1)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ye=1;ye<M.length;ye++)M[ye]=""}}}}return Re(te)}catch{return A}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fl;function ps(){}_(ps,_n),ps.prototype.g=function(){return new XMLHttpRequest},Fl=new ps;function Ar(y){return encodeURIComponent(String(y))}function Uc(y){var A=1;y=y.split(":");const x=[];for(;A>0&&y.length;)x.push(y.shift()),A--;return y.length&&x.push(y.join(":")),x}function Ai(y,A,x,M){this.j=y,this.i=A,this.l=x,this.S=M||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ci}function Ci(){this.i=null,this.g="",this.h=!1}var Ht={},on={};function Yi(y,A,x){y.M=1,y.A=ms($t(A)),y.u=x,y.R=!0,la(y,null)}function la(y,A){y.F=Date.now(),Ki(y),y.B=$t(y.A);var x=y.B,M=y.S;Array.isArray(M)||(M=[String(M)]),da(x.i,"t",M),y.C=0,x=y.j.L,y.h=new Ci,y.g=Wc(y.j,x?A:null,!y.u),y.P>0&&(y.O=new un(d(y.Y,y,y.g),y.P)),A=y.V,x=y.g,M=y.ba;var j="readystatechange";Array.isArray(j)||(j&&(ae[0]=j.toString()),j=ae);for(let te=0;te<j.length;te++){const ye=at(x,j[te],M||A.handleEvent,!1,A.h||A);if(!ye)break;A.g[ye.key]=ye}A=y.J?$(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),qi(),Fh(y.i,y.v,y.B,y.l,y.S,y.u)}Ai.prototype.ba=function(y){y=y.target;const A=this.O;A&&Ii(y)==3?A.j():this.Y(y)},Ai.prototype.Y=function(y){try{if(y==this.g)e:{const Oe=Ii(this.g),Ot=this.g.ya(),lt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Oe!=4||Ot==7||(Ot==8||lt<=0?qi(3):qi(2)),Ji(this);var A=this.g.ca();this.X=A;var x=Bh(this);if(this.o=A==200,Vc(this.i,this.v,this.B,this.l,this.S,Oe,A),this.o){if(this.U&&!this.L){t:{if(this.g){var M,j=this.g;if((M=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(M)){var te=M;break t}}te=null}if(y=te)$i(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qi(this,y);else{this.o=!1,this.m=3,qt(12),Hn(this),ii(this);break e}}if(this.R){y=!0;let It;for(;!this.K&&this.C<x.length;)if(It=Fc(this,x),It==on){Oe==4&&(this.m=4,qt(14),y=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Ht){this.m=4,qt(15),$i(this.i,this.l,x,"[Invalid Chunk]"),y=!1;break}else $i(this.i,this.l,It,null),Qi(this,It);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||x.length!=0||this.h.h||(this.m=1,qt(16),y=!1),this.o=this.o&&y,!y)$i(this.i,this.l,x,"[Invalid Chunked Response]"),Hn(this),ii(this);else if(x.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),eu(ye),ye.P=!0,qt(11))}}else $i(this.i,this.l,x,null),Qi(this,x);Oe==4&&Hn(this),this.o&&!this.K&&(Oe==4?Jc(this.j,this):(this.o=!1,Ki(this)))}else wr(this.g),A==400&&x.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Hn(this),ii(this)}}}catch{}finally{}};function Bh(y){if(!Oc(y))return y.g.la();const A=cn(y.g);if(A==="")return"";let x="";const M=A.length,j=Ii(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Hn(y),ii(y),"";y.h.i=new l.TextDecoder}for(let te=0;te<M;te++)y.h.h=!0,x+=y.h.i.decode(A[te],{stream:!(j&&te==M-1)});return A.length=0,y.h.g+=x,y.C=0,y.h.g}function Oc(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Fc(y,A){var x=y.C,M=A.indexOf(`
`,x);return M==-1?on:(x=Number(A.substring(x,M)),isNaN(x)?Ht:(M+=1,M+x>A.length?on:(A=A.slice(M,M+x),y.C=M+x,A)))}Ai.prototype.cancel=function(){this.K=!0,Hn(this)};function Ki(y){y.T=Date.now()+y.H,ua(y,y.H)}function ua(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Gi(d(y.aa,y),A)}function Ji(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Ai.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(ds(this.i,this.B),this.M!=2&&(qi(),qt(17)),Hn(this),this.m=2,ii(this)):ua(this,this.T-y)};function ii(y){y.j.I==0||y.K||Jc(y.j,y)}function Hn(y){Ji(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,ge(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function Qi(y,A){try{var x=y.j;if(x.I!=0&&(x.g==y||Xi(x.h,y))){if(!y.L&&Xi(x.h,y)&&x.I==3){try{var M=x.Ba.g.parse(A)}catch{M=null}if(Array.isArray(M)&&M.length==3){var j=M;if(j[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<y.F)ya(x),go(x);else break e;Ss(x),qt(18)}}else x.xa=j[1],0<x.xa-x.K&&j[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Gi(d(x.Va,x),6e3));ji(x.h)<=1&&x.ta&&(x.ta=void 0)}else ir(x,11)}else if((y.L||x.g==y)&&ya(x),!F(A))for(j=x.Ba.g.parse(A),A=0;A<j.length;A++){let lt=j[A];const It=lt[0];if(!(It<=x.K))if(x.K=It,lt=lt[1],x.I==2)if(lt[0]=="c"){x.M=lt[1],x.ba=lt[2];const si=lt[3];si!=null&&(x.ka=si,x.j.info("VER="+x.ka));const rr=lt[4];rr!=null&&(x.za=rr,x.j.info("SVER="+x.za));const bi=lt[5];bi!=null&&typeof bi=="number"&&bi>0&&(M=1.5*bi,x.O=M,x.j.info("backChannelRequestTimeoutMs_="+M)),M=x;const Ri=y.g;if(Ri){const As=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var te=M.h;te.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(ql(te,te.h),te.h=null))}if(M.G){const _a=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(M.wa=_a,ft(M.J,M.G,_a))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-y.F,x.j.info("Handshake RTT: "+x.T+"ms")),M=x;var ye=y;if(M.na=Xc(M,M.L?M.ba:null,M.W),ye.L){Hl(M.h,ye);var Oe=ye,Ot=M.O;Ot&&(Oe.H=Ot),Oe.D&&(Ji(Oe),Ki(Oe)),M.g=ye}else Yc(M);x.i.length>0&&nr(x)}else lt[0]!="stop"&&lt[0]!="close"||ir(x,7);else x.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ir(x,7):Wl(x):lt[0]!="noop"&&x.l&&x.l.qa(lt),x.A=0)}}qi(4)}catch{}}var Gt=class{constructor(y,A){this.g=y,this.map=A}};function zl(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bl(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ji(y){return y.h?1:y.g?y.g.size:0}function Xi(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function ql(y,A){y.g?y.g.add(A):y.h=A}function Hl(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}zl.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Gl(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const x of y.g.values())A=A.concat(x.G);return A}return S(y.i)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(y,A){if(y){y=y.split("&");for(let x=0;x<y.length;x++){const M=y[x].indexOf("=");let j,te=null;M>=0?(j=y[x].substring(0,M),te=y[x].substring(M+1)):j=y[x],A(j,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Gn(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof Gn?(this.l=y.l,sn(this,y.j),this.o=y.o,this.g=y.g,lo(this,y.u),this.h=y.h,$l(this,Gc(y.i)),this.m=y.m):y&&(A=String(y).match(zc))?(this.l=!1,sn(this,A[1]||"",!0),this.o=Wi(A[2]||""),this.g=Wi(A[3]||"",!0),lo(this,A[4]),this.h=Wi(A[5]||"",!0),$l(this,A[6]||"",!0),this.m=Wi(A[7]||"")):(this.l=!1,this.i=new co(null,this.l))}Gn.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(gs(A,fa,!0),":");var x=this.g;return(x||A=="file")&&(y.push("//"),(A=this.o)&&y.push(gs(A,fa,!0),"@"),y.push(Ar(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&y.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&y.push("/"),y.push(gs(x,x.charAt(0)=="/"?Yl:Bc,!0))),(x=this.i.toString())&&y.push("?",x),(x=this.m)&&y.push("#",gs(x,qc)),y.join("")},Gn.prototype.resolve=function(y){const A=$t(this);let x=!!y.j;x?sn(A,y.j):x=!!y.o,x?A.o=y.o:x=!!y.g,x?A.g=y.g:x=y.u!=null;var M=y.h;if(x)lo(A,y.u);else if(x=!!y.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var j=A.h.lastIndexOf("/");j!=-1&&(M=A.h.slice(0,j+1)+M)}if(j=M,j==".."||j==".")M="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){M=j.lastIndexOf("/",0)==0,j=j.split("/");const te=[];for(let ye=0;ye<j.length;){const Oe=j[ye++];Oe=="."?M&&ye==j.length&&te.push(""):Oe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),M&&ye==j.length&&te.push("")):(te.push(Oe),M=!0)}M=te.join("/")}else M=j}return x?A.h=M:x=y.i.toString()!=="",x?$l(A,Gc(y.i)):x=!!y.m,x&&(A.m=y.m),A};function $t(y){return new Gn(y)}function sn(y,A,x){y.j=x?Wi(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function lo(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function $l(y,A,x){A instanceof co?(y.i=A,ha(y.i,y.l)):(x||(A=gs(A,uo)),y.i=new co(A,y.l))}function ft(y,A,x){y.i.set(A,x)}function ms(y){return ft(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Wi(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function gs(y,A,x){return typeof y=="string"?(y=encodeURI(y).replace(A,Mn),x&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Mn(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var fa=/[#\/\?@]/g,Bc=/[#\?:]/g,Yl=/[#\?]/g,uo=/[#\?@]/g,qc=/#/g;function co(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Dn(y){y.g||(y.g=new Map,y.h=0,y.i&&ca(y.i,function(A,x){y.add(decodeURIComponent(A.replace(/\+/g," ")),x)}))}t=co.prototype,t.add=function(y,A){Dn(this),this.i=null,y=fo(this,y);let x=this.g.get(y);return x||this.g.set(y,x=[]),x.push(A),this.h+=1,this};function Hc(y,A){Dn(y),A=fo(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function Kl(y,A){return Dn(y),A=fo(y,A),y.g.has(A)}t.forEach=function(y,A){Dn(this),this.g.forEach(function(x,M){x.forEach(function(j){y.call(A,j,M,this)},this)},this)};function Jl(y,A){Dn(y);let x=[];if(typeof A=="string")Kl(y,A)&&(x=x.concat(y.g.get(fo(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)x=x.concat(y[A]);return x}t.set=function(y,A){return Dn(this),this.i=null,y=fo(this,y),Kl(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=Jl(this,y),y.length>0?String(y[0]):A):A};function da(y,A,x){Hc(y,A),x.length>0&&(y.i=null,y.g.set(fo(y,A),S(x)),y.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let M=0;M<A.length;M++){var x=A[M];const j=Ar(x);x=Jl(this,x);for(let te=0;te<x.length;te++){let ye=j;x[te]!==""&&(ye+="="+Ar(x[te])),y.push(ye)}}return this.i=y.join("&")};function Gc(y){const A=new co;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function fo(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function ha(y,A){A&&!y.j&&(Dn(y),y.i=null,y.g.forEach(function(x,M){const j=M.toLowerCase();M!=j&&(Hc(this,M),da(this,j,x))},y)),y.j=A}function wi(y,A){const x=new Si;if(l.Image){const M=new Image;M.onload=m(ri,x,"TestLoadImage: loaded",!0,A,M),M.onerror=m(ri,x,"TestLoadImage: error",!1,A,M),M.onabort=m(ri,x,"TestLoadImage: abort",!1,A,M),M.ontimeout=m(ri,x,"TestLoadImage: timeout",!1,A,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=y}else A(!1)}function Ql(y,A){const x=new Si,M=new AbortController,j=setTimeout(()=>{M.abort(),ri(x,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:M.signal}).then(te=>{clearTimeout(j),te.ok?ri(x,"TestPingServer: ok",!0,A):ri(x,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(j),ri(x,"TestPingServer: error",!1,A)})}function ri(y,A,x,M,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),M(x)}catch{}}function ho(){this.g=new it}function Zi(y){this.i=y.Sb||null,this.h=y.ab||!1}_(Zi,_n),Zi.prototype.g=function(){return new ys(this.i,this.h)};function ys(y,A){kt.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ys,kt),t=ys.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,xi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?po(this):xi(this),this.readyState==3&&pa(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,po(this))},t.Na=function(y){this.g&&(this.response=y,po(this))},t.ga=function(){this.g&&po(this)};function po(y){y.readyState=4,y.l=null,y.j=null,y.B=null,xi(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var x=A.next();!x.done;)x=x.value,y.push(x[0]+": "+x[1]),x=A.next();return y.join(`\r
`)};function xi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function oi(y){let A="";return Pe(y,function(x,M){A+=M,A+=":",A+=x,A+=`\r
`}),A}function _s(y,A,x){e:{for(M in x){var M=!1;break e}M=!0}M||(x=oi(x),typeof y=="string"?x!=null&&Ar(x):ft(y,A,x))}function mt(y){kt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(mt,kt);var er=/^https?$/i,jl=["POST","PUT"];t=mt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,x,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fl.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(te){vs(this,te);return}if(y=x||"",x=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var j in M)x.set(j,M[j]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const te of M.keys())x.set(te,M.get(te));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),j=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(jl,A,void 0)>=0)||M||j||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of x)this.g.setRequestHeader(te,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(te){vs(this,te)}};function vs(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,Xl(y),Cr(y)}function Xl(y){y.A||(y.A=!0,Pt(y,"complete"),Pt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Pt(this,"complete"),Pt(this,"abort"),Cr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},t.Xa=function(){Es(this)};function Es(y){if(y.h&&typeof a<"u"){if(y.v&&Ii(y)==4)setTimeout(y.Ca.bind(y),0);else if(Pt(y,"readystatechange"),Ii(y)==4){y.h=!1;try{const te=y.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var x;if(!(x=A)){var M;if(M=te===0){let ye=String(y.D).match(zc)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),M=!er.test(ye?ye.toLowerCase():"")}x=M}if(x)Pt(y,"complete"),Pt(y,"success");else{y.o=6;try{var j=Ii(y)>2?y.g.statusText:""}catch{j=""}y.l=j+" ["+y.ca()+"]",Xl(y)}}finally{Cr(y)}}}}function Cr(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const x=y.g;y.g=null,A||Pt(y,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ii(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),He(A)}};function cn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function wr(y){const A={};y=(y.g&&Ii(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<y.length;M++){if(F(y[M]))continue;var x=Uc(y[M]);const j=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=A[j]||[];A[j]=te,te.push(x)}q(A,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(y,A,x){return x&&x.internalChannelParams&&x.internalChannelParams[y]||A}function mo(y){this.za=0,this.i=[],this.j=new Si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,y),this.Za=tr("retryDelaySeedMs",1e4,y),this.Ta=tr("forwardChannelMaxRetries",2,y),this.va=tr("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new zl(y&&y.concurrentRequestLimit),this.Ba=new ho,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mo.prototype,t.ka=8,t.I=1,t.connect=function(y,A,x,M){qt(0),this.W=y,this.H=A||{},x&&M!==void 0&&(this.H.OSID=x,this.H.OAID=M),this.F=this.X,this.J=Xc(this,null,this.W),nr(this)};function Wl(y){if(ma(y),y.I==3){var A=y.V++,x=$t(y.J);if(ft(x,"SID",y.M),ft(x,"RID",A),ft(x,"TYPE","terminate"),Ts(y,x),A=new Ai(y,y.j,A),A.M=2,A.A=ms($t(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=A.A,x=!0),x||(A.g=Wc(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Ki(A)}jc(y)}function go(y){y.g&&(eu(y),y.g.cancel(),y.g=null)}function ma(y){go(y),y.v&&(l.clearTimeout(y.v),y.v=null),ya(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function nr(y){if(!Bl(y.h)&&!y.m){y.m=!0;var A=y.Ea;se||L(),K||(se(),K=!0),P.add(A,y),y.D=0}}function ga(y,A){return ji(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Gi(d(y.Ea,y,A),Qc(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const j=new Ai(this,this.j,y);let te=this.o;if(this.U&&(te?(te=$(te),z(te,this.U)):te=this.U),this.u!==null||this.R||(j.J=te,te=null),this.S)e:{for(var A=0,x=0;x<this.i.length;x++){t:{var M=this.i[x];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(A+=M,A>4096){A=x;break e}if(A===4096||x===this.i.length-1){A=x+1;break e}}A=1e3}else A=1e3;A=$c(this,j,A),x=$t(this.J),ft(x,"RID",y),ft(x,"CVER",22),this.G&&ft(x,"X-HTTP-Session-Id",this.G),Ts(this,x),te&&(this.R?A="headers="+Ar(oi(te))+"&"+A:this.u&&_s(x,this.u,te)),ql(this.h,j),this.Ra&&ft(x,"TYPE","init"),this.S?(ft(x,"$req",A),ft(x,"SID","null"),j.U=!0,Yi(j,x,null)):Yi(j,x,A),this.I=2}}else this.I==3&&(y?Zl(this,y):this.i.length==0||Bl(this.h)||Zl(this))};function Zl(y,A){var x;A?x=A.l:x=y.V++;const M=$t(y.J);ft(M,"SID",y.M),ft(M,"RID",x),ft(M,"AID",y.K),Ts(y,M),y.u&&y.o&&_s(M,y.u,y.o),x=new Ai(y,y.j,x,y.D+1),y.u===null&&(x.J=y.o),A&&(y.i=A.G.concat(y.i)),A=$c(y,x,1e3),x.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),ql(y.h,x),Yi(x,M,A)}function Ts(y,A){y.H&&Pe(y.H,function(x,M){ft(A,M,x)}),y.l&&Pe({},function(x,M){ft(A,M,x)})}function $c(y,A,x){x=Math.min(y.i.length,x);const M=y.l?d(y.l.Ka,y.l,y):null;e:{var j=y.i;let Oe=-1;for(;;){const Ot=["count="+x];Oe==-1?x>0?(Oe=j[0].g,Ot.push("ofs="+Oe)):Oe=0:Ot.push("ofs="+Oe);let lt=!0;for(let It=0;It<x;It++){var te=j[It].g;const si=j[It].map;if(te-=Oe,te<0)Oe=Math.max(0,j[It].g-100),lt=!1;else try{te="req"+te+"_"||"";try{var ye=si instanceof Map?si:Object.entries(si);for(const[rr,bi]of ye){let Ri=bi;c(bi)&&(Ri=Re(bi)),Ot.push(te+rr+"="+encodeURIComponent(Ri))}}catch(rr){throw Ot.push(te+"type="+encodeURIComponent("_badmap")),rr}}catch{M&&M(si)}}if(lt){ye=Ot.join("&");break e}}ye=void 0}return y=y.i.splice(0,x),A.G=y,ye}function Yc(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;se||L(),K||(se(),K=!0),P.add(A,y),y.A=0}}function Ss(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Gi(d(y.Da,y),Qc(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Gi(d(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),go(this),Kc(this))};function eu(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function Kc(y){y.g=new Ai(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=$t(y.na);ft(A,"RID","rpc"),ft(A,"SID",y.M),ft(A,"AID",y.K),ft(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&ft(A,"TO",y.ia),ft(A,"TYPE","xmlhttp"),Ts(y,A),y.u&&y.o&&_s(A,y.u,y.o),y.O&&(y.g.H=y.O);var x=y.g;y=y.ba,x.M=1,x.A=ms($t(A)),x.u=null,x.R=!0,la(x,y)}t.Va=function(){this.C!=null&&(this.C=null,go(this),Ss(this),qt(19))};function ya(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function Jc(y,A){var x=null;if(y.g==A){ya(y),eu(y),y.g=null;var M=2}else if(Xi(y.h,A))x=A.G,Hl(y.h,A),M=1;else return;if(y.I!=0){if(A.o)if(M==1){x=A.u?A.u.length:0,A=Date.now()-A.F;var j=y.D;M=vn(),Pt(M,new Hi(M,x)),nr(y)}else Yc(y);else if(j=A.m,j==3||j==0&&A.X>0||!(M==1&&ga(y,A)||M==2&&Ss(y)))switch(x&&x.length>0&&(A=y.h,A.i=A.i.concat(x)),j){case 1:ir(y,5);break;case 4:ir(y,10);break;case 3:ir(y,6);break;default:ir(y,2)}}}function Qc(y,A){let x=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(x*=2),x*A}function ir(y,A){if(y.j.info("Error code "+A),A==2){var x=d(y.bb,y),M=y.Ua;const j=!M;M=new Gn(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||sn(M,"https"),ms(M),j?wi(M.toString(),x):Ql(M.toString(),x)}else qt(2);y.I=0,y.l&&y.l.pa(A),jc(y),ma(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function jc(y){if(y.I=0,y.ja=[],y.l){const A=Gl(y.h);(A.length!=0||y.i.length!=0)&&(I(y.ja,A),I(y.ja,y.i),y.h.i.length=0,S(y.i),y.i.length=0),y.l.oa()}}function Xc(y,A,x){var M=x instanceof Gn?$t(x):new Gn(x);if(M.g!="")A&&(M.g=A+"."+M.g),lo(M,M.u);else{var j=l.location;M=j.protocol,A=A?A+"."+j.hostname:j.hostname,j=+j.port;const te=new Gn(null);M&&sn(te,M),A&&(te.g=A),j&&lo(te,j),x&&(te.h=x),M=te}return x=y.G,A=y.wa,x&&A&&ft(M,x,A),ft(M,"VER",y.ka),Ts(y,M),M}function Wc(y,A,x){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new mt(new Zi({ab:x})):new mt(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zc(){}t=Zc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yo(){}yo.prototype.g=function(y,A){return new bn(y,A)};function bn(y,A){kt.call(this),this.g=new mo(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!F(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!F(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new xr(this)}_(bn,kt),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Wl(this.g)},bn.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var x={};x.__data__=y,y=x}else this.v&&(x={},x.__data__=Re(y),y=x);A.i.push(new Gt(A.Ya++,y)),A.I==3&&nr(A)},bn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,bn.Z.N.call(this)};function ef(y){Mt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const x in A){y=x;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}_(ef,Mt);function tf(){rn.call(this),this.status=1}_(tf,rn);function xr(y){this.g=y}_(xr,Zc),xr.prototype.ra=function(){Pt(this.g,"a")},xr.prototype.qa=function(y){Pt(this.g,new ef(y))},xr.prototype.pa=function(y){Pt(this.g,new tf)},xr.prototype.oa=function(){Pt(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,zI=function(){return new yo},FI=function(){return vn()},OI=We,qg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,wd=hs,Ol.COMPLETE="complete",UI=Ol,ni.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",kt.prototype.listen=kt.prototype.J,$u=ni,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,VI=mt}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const QS="@firebase/firestore",jS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Hy("@firebase/firestore");function Xa(){return js.logLevel}function Se(t,...e){if(js.logLevel<=Qe.DEBUG){const n=e.map(n_);js.debug(`Firestore (${Rl}): ${t}`,...n)}}function jr(t,...e){if(js.logLevel<=Qe.ERROR){const n=e.map(n_);js.error(`Firestore (${Rl}): ${t}`,...n)}}function ml(t,...e){if(js.logLevel<=Qe.WARN){const n=e.map(n_);js.warn(`Firestore (${Rl}): ${t}`,...n)}}function n_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,BI(t,i,n)}function BI(t,e,n){let i=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw jr(i),new Error(i)}function ct(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||BI(e,o,i)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends to{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class w5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class x5{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yr,e.enqueueRetryable((()=>o(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},c=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yr)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new qI(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class I5{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b5{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new I5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class XS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const i=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new XS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=N5(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function je(t,e){return t<e?-1:t>e?1:0}function Hg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return hg(o)===hg(a)?je(o,a):hg(o)?1:-1}return je(t.length,e.length)}const k5=55296,M5=57343;function hg(t){const e=t.charCodeAt(0);return e>=k5&&e<=M5}function gl(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="__name__";class cr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Me(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=cr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return je(e.length,n.length)}static compareSegments(e,n){const i=cr.isNumericId(e),o=cr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?cr.extractNumericId(e).compare(cr.extractNumericId(n)):Hg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class St extends cr{construct(e,n,i){return new St(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const D5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends cr{construct(e,n,i){return new gn(e,n,i)}static isValidIdentifier(e){return D5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WS}static keyField(){return new gn([WS])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else c==="`"?(l=!l,o++):c!=="."||l?(i+=c,o++):(a(),o++)}if(a(),l)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(St.fromString(e))}static fromName(e){return new Ie(St.fromString(e).popFirst(5))}static empty(){return new Ie(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e,n){if(!n)throw new Ee(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P5(t,e,n,i){if(e===!0&&i===!0)throw new Ee(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZS(t){if(!Ie.isDocumentKey(t))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eA(t){if(Ie.isDocumentKey(t))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Zo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(t);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function bc(t,e){if(!GI(t))throw new Ee(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(o&&typeof l!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new Ee(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=-62135596800,nA=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*nA);return new xt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tA)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nA}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Zt("string",xt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new xt(0,0))}static max(){return new Le(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function L5(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(i===1e9?new xt(n+1,0):new xt(n,i));return new es(o,Ie.empty(),e)}function V5(t){return new es(t.readTime,t.key,cc)}class es{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new es(Le.min(),Ie.empty(),cc)}static max(){return new es(Le.max(),Ie.empty(),cc)}}function U5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==O5)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,i)=>{n(e)}))}static reject(e){return new fe(((n,i)=>{i(e)}))}static waitFor(e){return new fe(((n,i)=>{let o=0,a=0,l=!1;e.forEach((c=>{++o,c.next((()=>{++a,l&&a===o&&n()}),(f=>i(f)))})),l=!0,a===o&&n()}))}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next((o=>o?fe.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new fe(((i,o)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const d=f;n(e[d]).next((m=>{l[d]=m,++c,c===a&&i(l)}),(m=>o(m)))}}))}static doWhile(e,n){return new fe(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function z5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-1;function Ah(t){return t==null}function Yd(t){return t===0&&1/t==-1/0}function B5(t){return typeof t=="number"&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="";function q5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iA(e)),e=H5(t.get(n),e);return iA(e)}function H5(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case $I:n+="";break;default:n+=a}}return n}function iA(t){return t+$I+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??mn.RED,this.left=o??mn.EMPTY,this.right=a??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new mn(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oA(this.data.getIterator())}getIteratorFrom(e){return new oA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class oA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Li([])}unionWith(e){let n=new nn(gn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Li(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new KI("Invalid base64 string: "+a):a}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let l=0;l<o.length;++l)a+=String.fromCharCode(o[l]);return a})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const G5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=G5.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="server_timestamp",QI="__type__",jI="__previous_value__",XI="__local_write_time__";function o_(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QI])==null?void 0:i.stringValue)===JI}function Ch(t){const e=t.mapValue.fields[jI];return o_(e)?Ch(e):e}function fc(t){const e=ts(t.mapValue.fields[XI].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,i,o,a,l,c,f,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const Kd="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||Kd}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="__type__",Y5="__max__",pd={mapValue:{}},ZI="__vector__",Jd="value";function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o_(t)?4:J5(t)?9007199254740991:K5(t)?10:11:Me(28295,{value:t})}function vr(t,e){if(t===e)return!0;const n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const l=ts(o.timestampValue),c=ts(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return ns(o.bytesValue).isEqual(ns(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return Bt(o.geoPointValue.latitude)===Bt(a.geoPointValue.latitude)&&Bt(o.geoPointValue.longitude)===Bt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Bt(o.integerValue)===Bt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const l=Bt(o.doubleValue),c=Bt(a.doubleValue);return l===c?Yd(l)===Yd(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return(function(o,a){const l=o.mapValue.fields||{},c=a.mapValue.fields||{};if(rA(l)!==rA(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!vr(l[f],c[f])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function hc(t,e){return(t.values||[]).find((n=>vr(n,e)))!==void 0}function yl(t,e){if(t===e)return 0;const n=is(t),i=is(e);if(n!==i)return je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Bt(a.integerValue||a.doubleValue),f=Bt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return sA(t.timestampValue,e.timestampValue);case 4:return sA(fc(t),fc(e));case 5:return Hg(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=ns(a),f=ns(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const m=je(c[d],f[d]);if(m!==0)return m}return je(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=je(Bt(a.latitude),Bt(l.latitude));return c!==0?c:je(Bt(a.longitude),Bt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return aA(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var T,S,I,k;const c=a.fields||{},f=l.fields||{},d=(T=c[Jd])==null?void 0:T.arrayValue,m=(S=f[Jd])==null?void 0:S.arrayValue,_=je(((I=d==null?void 0:d.values)==null?void 0:I.length)||0,((k=m==null?void 0:m.values)==null?void 0:k.length)||0);return _!==0?_:aA(d,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===pd.mapValue&&l===pd.mapValue)return 0;if(a===pd.mapValue)return 1;if(l===pd.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),d=l.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let _=0;_<f.length&&_<m.length;++_){const T=Hg(f[_],m[_]);if(T!==0)return T;const S=yl(c[f[_]],d[m[_]]);if(S!==0)return S}return je(f.length,m.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function sA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=ts(t),i=ts(e),o=je(n.seconds,i.seconds);return o!==0?o:je(n.nanos,i.nanos)}function aA(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=yl(n[o],i[o]);if(a)return a}return je(n.length,i.length)}function _l(t){return Gg(t)}function Gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ts(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ns(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Gg(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const l of i)a?a=!1:o+=",",o+=`${l}:${Gg(n.fields[l])}`;return o+"}"})(t.mapValue):Me(61005,{value:t})}function xd(t){switch(is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(t);return e?16+xd(e):16;case 5:return 2*t.stringValue.length;case 6:return ns(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+xd(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return ea(i.fields,((a,l)=>{o+=a.length+xd(l)})),o})(t.mapValue);default:throw Me(13486,{value:t})}}function lA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $g(t){return!!t&&"integerValue"in t}function s_(t){return!!t&&"arrayValue"in t}function uA(t){return!!t&&"nullValue"in t}function cA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Id(t){return!!t&&"mapValue"in t}function K5(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[WI])==null?void 0:i.stringValue)===ZI}function ec(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=ec(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(t.arrayValue.values[n]);return e}return{...t}}function J5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Y5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=gn.emptyPath(),i={},o=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=c.popLast()}l?i[c.lastSegment()]=ec(l):o.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());Id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Id(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ea(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new gi(ec(this.value))}}function e1(t){const e=[];return ea(t.fields,((n,i)=>{const o=new gn([n]);if(Id(i)){const a=e1(i.mapValue).fields;if(a.length===0)e.push(o);else for(const l of a)e.push(o.child(l))}else e.push(o)})),new Li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,i,o,a,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new An(e,0,Le.min(),Le.min(),Le.min(),gi.empty(),0)}static newFoundDocument(e,n,i,o){return new An(e,1,n,Le.min(),i,o,0)}static newNoDocument(e,n){return new An(e,2,n,Le.min(),Le.min(),gi.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Le.min(),Le.min(),gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.position=e,this.inclusive=n}}function fA(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],l=t.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(l.referenceValue),n.key):i=yl(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function dA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{}class Wt extends t1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new X5(e,n,i):n==="array-contains"?new eF(e,i):n==="in"?new tF(e,i):n==="not-in"?new nF(e,i):n==="array-contains-any"?new iF(e,i):new Wt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new W5(e,i):new Z5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yl(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends t1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oi(e,n)}matches(e){return n1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function n1(t){return t.op==="and"}function i1(t){return j5(t)&&n1(t)}function j5(t){for(const e of t.filters)if(e instanceof Oi)return!1;return!0}function Yg(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(i1(t))return t.filters.map((e=>Yg(e))).join(",");{const e=t.filters.map((n=>Yg(n))).join(",");return`${t.op}(${e})`}}function r1(t,e){return t instanceof Wt?(function(i,o){return o instanceof Wt&&i.op===o.op&&i.field.isEqual(o.field)&&vr(i.value,o.value)})(t,e):t instanceof Oi?(function(i,o){return o instanceof Oi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,l,c)=>a&&r1(l,o.filters[c])),!0):!1})(t,e):void Me(19439)}function o1(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`})(t):t instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(o1).join(" ,")+"}"})(t):"Filter"}class X5 extends Wt{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class W5 extends Wt{constructor(e,n){super(e,"in",n),this.keys=s1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Z5 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=s1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function s1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class eF extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s_(n)&&hc(n.arrayValue,this.value)}}class tF extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class nF extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hc(this.value.arrayValue,n)}}class iF extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>hc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n=null,i=[],o=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function hA(t,e=null,n=[],i=[],o=null,a=null,l=null){return new rF(t,e,n,i,o,a,l)}function a_(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Yg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>_l(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>_l(i))).join(",")),e.Te=n}return e.Te}function l_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dA(t.startAt,e.startAt)&&dA(t.endAt,e.endAt)}function Kg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,i=[],o=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oF(t,e,n,i,o,a,l,c){return new Ml(t,e,n,i,o,a,l,c)}function u_(t){return new Ml(t)}function pA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function a1(t){return t.collectionGroup!==null}function tc(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new nn(gn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new pc(a,i))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new pc(gn.keyField(),i))}return e.Ie}function hr(t){const e=Ue(t);return e.Ee||(e.Ee=sF(e,tc(t))),e.Ee}function sF(t,e){if(t.limitType==="F")return hA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new pc(o.field,a)}));const n=t.endAt?new Qd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Qd(t.startAt.position,t.startAt.inclusive):null;return hA(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Jg(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qg(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wh(t,e){return l_(hr(t),hr(e))&&t.limitType===e.limitType}function l1(t){return`${a_(hr(t))}|lt:${t.limitType}`}function Wa(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>o1(o))).join(", ")}]`),Ah(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>_l(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>_l(o))).join(",")),`Target(${i})`})(hr(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of tc(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(l,c,f){const d=fA(l,c,f);return l.inclusive?d<=0:d<0})(i.startAt,tc(i),o)||i.endAt&&!(function(l,c,f){const d=fA(l,c,f);return l.inclusive?d>=0:d>0})(i.endAt,tc(i),o))})(t,e)}function aF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u1(t){return(e,n)=>{let i=!1;for(const o of tc(t)){const a=lF(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function lF(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(a,l,c){const f=l.data.field(a),d=c.data.field(a);return f!==null&&d!==null?yl(f,d):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return YI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new Dt(Ie.comparator);function Xr(){return uF}const c1=new Dt(Ie.comparator);function Yu(...t){let e=c1;for(const n of t)e=e.insert(n.key,n);return e}function f1(t){let e=c1;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Hs(){return nc()}function d1(){return nc()}function nc(){return new ta((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cF=new Dt(Ie.comparator),fF=new nn(Ie.comparator);function Xe(...t){let e=fF;for(const n of t)e=e.add(n);return e}const dF=new nn(je);function hF(){return dF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function h1(t){return{integerValue:""+t}}function pF(t,e){return B5(e)?h1(e):c_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function mF(t,e,n){return t instanceof jd?(function(o,a){const l={fields:{[QI]:{stringValue:JI},[XI]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&o_(a)&&(a=Ch(a)),a&&(l.fields[jI]=a),{mapValue:l}})(n,e):t instanceof mc?m1(t,e):t instanceof gc?g1(t,e):(function(o,a){const l=p1(o,a),c=mA(l)+mA(o.Ae);return $g(l)&&$g(o.Ae)?h1(c):c_(o.serializer,c)})(t,e)}function gF(t,e,n){return t instanceof mc?m1(t,e):t instanceof gc?g1(t,e):n}function p1(t,e){return t instanceof Xd?(function(i){return $g(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class jd extends Ih{}class mc extends Ih{constructor(e){super(),this.elements=e}}function m1(t,e){const n=y1(e);for(const i of t.elements)n.some((o=>vr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class gc extends Ih{constructor(e){super(),this.elements=e}}function g1(t,e){let n=y1(e);for(const i of t.elements)n=n.filter((o=>!vr(o,i)));return{arrayValue:{values:n}}}class Xd extends Ih{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mA(t){return Bt(t.integerValue||t.doubleValue)}function y1(t){return s_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yF(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof mc&&o instanceof mc||i instanceof gc&&o instanceof gc?gl(i.elements,o.elements,vr):i instanceof Xd&&o instanceof Xd?vr(i.Ae,o.Ae):i instanceof jd&&o instanceof jd})(t.transform,e.transform)}class _F{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bh{}function _1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f_(t.key,pr.none()):new Rc(t.key,t.data,pr.none());{const n=t.data,i=gi.empty();let o=new nn(gn.comparator);for(let a of e.fields)if(!o.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),o=o.add(a)}return new na(t.key,i,new Li(o.toArray()),pr.none())}}function vF(t,e,n){t instanceof Rc?(function(o,a,l){const c=o.value.clone(),f=yA(o.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof na?(function(o,a,l){if(!bd(o.precondition,a))return void a.convertToUnknownDocument(l.version);const c=yA(o.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(v1(o)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function ic(t,e,n,i){return t instanceof Rc?(function(a,l,c,f){if(!bd(a.precondition,l))return c;const d=a.value.clone(),m=_A(a.fieldTransforms,f,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,i):t instanceof na?(function(a,l,c,f){if(!bd(a.precondition,l))return c;const d=_A(a.fieldTransforms,f,l),m=l.data;return m.setAll(v1(a)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,i):(function(a,l,c){return bd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function EF(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=p1(i.transform,o||null);a!=null&&(n===null&&(n=gi.empty()),n.set(i.field,a))}return n||null}function gA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&gl(i,o,((a,l)=>yF(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends bh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class na extends bh{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function v1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function yA(t,e,n){const i=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],l=a.transform,c=e.data.field(a.field);i.set(a.field,gF(l,c,n[o]))}return i}function _A(t,e,n){const i=new Map;for(const o of t){const a=o.transform,l=n.data.field(o.field);i.set(o.field,mF(a,l,e))}return i}class f_ extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TF extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&vF(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ic(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ic(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=d1();return this.mutations.forEach((o=>{const a=e.get(o.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(o.key)?null:c;const f=_1(l,c);f!==null&&i.set(o.key,f),l.isValidDocument()||l.convertToNoDocument(Le.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((n,i)=>gA(n,i)))&&gl(this.baseMutations,e.baseMutations,((n,i)=>gA(n,i)))}}class d_{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return cF})();const a=e.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,i[l].version);return new d_(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,et;function wF(t){switch(t){case ue.OK:return Me(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function E1(t){if(t===void 0)return jr("GRPC error has no .code"),ue.UNKNOWN;switch(t){case jt.OK:return ue.OK;case jt.CANCELLED:return ue.CANCELLED;case jt.UNKNOWN:return ue.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ue.INTERNAL;case jt.UNAVAILABLE:return ue.UNAVAILABLE;case jt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case jt.NOT_FOUND:return ue.NOT_FOUND;case jt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case jt.ABORTED:return ue.ABORTED;case jt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case jt.DATA_LOSS:return ue.DATA_LOSS;default:return Me(39323,{code:t})}}(et=jt||(jt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=new jo([4294967295,4294967295],0);function vA(t){const e=xF().encode(t),n=new LI;return n.update(e),new Uint8Array(n.digest())}function EA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new jo([n,i],0),new jo([o,a],0)]}class h_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ku(`Invalid padding: ${n}`);if(i<0)throw new Ku(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jo.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(jo.fromNumber(i)));return o.compare(IF)===1&&(o=new jo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=vA(e),[i,o]=EA(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,o,a);if(!this.we(l))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new h_(a,o,n);return i.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=vA(e),[i,o]=EA(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,o,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Rh(Le.min(),o,new Dt(je),Xr(),Xe())}}class Nc{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Nc(i,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class T1{constructor(e,n){this.targetId=e,this.Ce=n}}class S1{constructor(e,n,i=yn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class TA{constructor(){this.ve=0,this.Fe=SA(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),i=Xe();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Me(38017,{changeType:a})}})),new Nc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=SA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=md(),this.He=md(),this.Ye=new Dt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Kg(a))if(i===0){const l=new Ie(a.path);this.et(n,l,An.newNoDocument(l,Le.min()))}else ct(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let l,c;try{l=ns(i).toUint8Array()}catch(f){if(f instanceof KI)return ml("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new h_(l,o,a)}catch(f){return ml(f instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Kg(c.target)){const f=new Ie(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,An.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let i=Xe();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(i=i.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const o=new Rh(e,n,this.Ye,this.je,i);return this.je=Xr(),this.Je=md(),this.He=md(),this.Ye=new Dt(je),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new TA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function md(){return new Dt(Ie.comparator)}function SA(){return new Dt(Ie.comparator)}const RF={asc:"ASCENDING",desc:"DESCENDING"},NF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kF={and:"AND",or:"OR"};class MF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jg(t,e){return t.useProto3Json||Ah(e)?e:{value:e}}function Wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DF(t,e){return Wd(t,e.toTimestamp())}function mr(t){return ct(!!t,49232),Le.fromTimestamp((function(n){const i=ts(n);return new xt(i.seconds,i.nanos)})(t))}function p_(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){const n=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function C1(t){const e=St.fromString(t);return ct(R1(e),10190,{key:e.toString()}),e}function Wg(t,e){return p_(t.databaseId,e.path)}function pg(t,e){const n=C1(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(x1(n))}function w1(t,e){return p_(t.databaseId,e)}function PF(t){const e=C1(t);return e.length===4?St.emptyPath():x1(e)}function Zg(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x1(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AA(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function LF(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(d,m){return d.useProto3Json?(ct(m===void 0||typeof m=="string",58123),yn.fromBase64String(m||"")):(ct(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),yn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?ue.UNKNOWN:E1(d.code);return new Ee(m,d.message||"")})(l);n=new S1(i,o,a,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=pg(t,i.document.name),a=mr(i.document.updateTime),l=i.document.createTime?mr(i.document.createTime):Le.min(),c=new gi({mapValue:{fields:i.document.fields}}),f=An.newFoundDocument(o,a,l,c),d=i.targetIds||[],m=i.removedTargetIds||[];n=new Rd(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=pg(t,i.document),a=i.readTime?mr(i.readTime):Le.min(),l=An.newNoDocument(o,a),c=i.removedTargetIds||[];n=new Rd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=pg(t,i.document),a=i.removedTargetIds||[];n=new Rd([],a,o,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,l=new CF(o,a),c=i.targetId;n=new T1(c,l)}}return n}function VF(t,e){let n;if(e instanceof Rc)n={update:AA(t,e.key,e.value)};else if(e instanceof f_)n={delete:Wg(t,e.key)};else if(e instanceof na)n={update:AA(t,e.key,e.data),updateMask:$F(e.fieldMask)};else{if(!(e instanceof TF))return Me(16599,{Vt:e.type});n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,l){const c=l.transform;if(c instanceof jd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof mc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof gc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Me(20930,{transform:l.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:DF(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)})(t,e.precondition)),n}function UF(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(o,a){let l=o.updateTime?mr(o.updateTime):mr(a);return l.isEqual(Le.min())&&(l=mr(a)),new _F(l,o.transformResults||[])})(n,e)))):[]}function OF(t,e){return{documents:[w1(t,e.path)]}}function FF(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=w1(t,o);const a=(function(d){if(d.length!==0)return b1(Oi.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(d){if(d.length!==0)return d.map((m=>(function(T){return{field:Za(T.field),direction:qF(T.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=jg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:o}}function zF(t){let e=PF(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){ct(i===1,65062);const m=n.from[0];m.allDescendants?o=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(_){const T=I1(_);return T instanceof Oi&&i1(T)?T.getFilters():[T]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((T=>(function(I){return new pc(el(I.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(n.orderBy));let c=null;n.limit&&(c=(function(_){let T;return T=typeof _=="object"?_.value:_,Ah(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(_){const T=!!_.before,S=_.values||[];return new Qd(S,T)})(n.startAt));let d=null;return n.endAt&&(d=(function(_){const T=!_.before,S=_.values||[];return new Qd(S,T)})(n.endAt)),oF(e,o,l,a,c,"F",f,d)}function BF(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function I1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=el(n.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=el(n.unaryFilter.field);return Wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=el(n.unaryFilter.field);return Wt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(el(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((i=>I1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function qF(t){return RF[t]}function HF(t){return NF[t]}function GF(t){return kF[t]}function Za(t){return{fieldPath:t.canonicalString()}}function el(t){return gn.fromServerFormat(t.fieldPath)}function b1(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(cA(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(uA(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cA(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(uA(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:HF(n.op),value:n.value}}})(t):t instanceof Oi?(function(n){const i=n.getFilters().map((o=>b1(o)));return i.length===1?i[0]:{compositeFilter:{op:GF(n.op),filters:i}}})(t):Me(54877,{filter:t})}function $F(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function R1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,i,o,a=Le.min(),l=Le.min(),c=yn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new $o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.yt=e}}function KF(t){const e=zF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.Cn=new QF}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(es.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class QF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new nn(St.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new nn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N1=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(N1,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="LruGarbageCollector",jF=1048576;function xA([t,e],[n,i]){const o=je(t,n);return o===0?je(e,i):o}class XF{constructor(e){this.Ir=e,this.buffer=new nn(xA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();xA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WF{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(wA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?Se(wA,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Vr(3e5)}))}}class ZF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Sh.ce);const i=new XF(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(CA)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,a,l,c,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,l=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(i=_,c=Date.now(),this.removeTargets(e,i,n)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(d=Date.now(),Xa()<=Qe.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${o} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_}))))}}function e9(t,e){return new ZF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.changes=new ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&ic(i.mutation,o,Li.empty(),xt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Xe()){const o=Hs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let l=Yu();return a.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const i=Hs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Xe())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,i,o){let a=Xr();const l=nc(),c=(function(){return nc()})();return n.forEach(((f,d)=>{const m=i.get(d.key);o.has(d.key)&&(m===void 0||m.mutation instanceof na)?a=a.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),ic(m.mutation,d,m.mutation.getFieldMask(),xt.now())):l.set(d.key,Li.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>c.set(d,new n9(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const i=nc();let o=new Dt(((l,c)=>l-c)),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let m=i.get(f)||Li.empty();m=c.applyToLocalView(d,m),i.set(f,m);const _=(o.get(c.batchId)||Xe()).add(f);o=o.insert(c.batchId,_)}))})).next((()=>{const l=[],c=o.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,m=f.value,_=d1();m.forEach((T=>{if(!a.has(T)){const S=_1(n.get(T),i.get(T));S!==null&&_.set(T,S),a=a.add(T)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,_))}return fe.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):fe.resolve(Hs());let c=cc,f=a;return l.next((d=>fe.forEach(d,((m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(m)?fe.resolve():this.remoteDocumentCache.getEntry(e,m).next((T=>{f=f.insert(m,T)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,Xe()))).next((m=>({batchId:c,changes:f1(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((i=>{let o=Yu();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let l=Yu();return this.indexManager.getCollectionParents(e,a).next((c=>fe.forEach(c,(f=>{const d=(function(_,T){return new Ml(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,i,o).next((m=>{m.forEach(((_,T)=>{l=l.insert(_,T)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((l=>{a.forEach(((f,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,An.newInvalidDocument(m)))}));let c=Yu();return l.forEach(((f,d)=>{const m=a.get(f);m!==void 0&&ic(m.mutation,d,Li.empty(),xt.now()),xh(n,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:KF(o.bundledQuery),readTime:mr(o.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.overlays=new Dt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Hs();return fe.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.St(e,n,a)})),fe.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const o=Hs(),a=n.length+1,l=new Ie(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new Dt(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let m=a.get(d.largestBatchId);m===null&&(m=Hs(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Hs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=o)););return fe.resolve(c)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const l=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new AF(n,i));let a=this.qr.get(n);a===void 0&&(a=Xe(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Qr=new nn(ln.$r),this.Ur=new nn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new ln(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ie(new St([])),i=new ln(n,e),o=new ln(n,e+1),a=[];return this.Ur.forEachInRange([i,o],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new St([])),i=new ln(n,e),o=new ln(n,e+1);let a=Xe();return this.Ur.forEachInRange([i,o],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new ln(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(ln.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new SF(a,n,i,o);this.mutationQueue.push(l);for(const c of o)this.Zr=this.Zr.add(new ln(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),a=o<0?0:o;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?r_:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ln(n,0),o=new ln(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,o],(l=>{const c=this.Xr(l.Yr);a.push(c)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new nn(je);return n.forEach((o=>{const a=new ln(o,0),l=new ln(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{i=i.add(c.Yr)}))})),fe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const l=new ln(new Ie(a),0);let c=new nn(je);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(c=c.add(f.Yr)),!0)}),l),fe.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return fe.forEach(n.mutations,(o=>{const a=new ln(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new ln(n,0),o=this.Zr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let i=Xr();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():An.newInvalidDocument(o))})),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Xr();const l=n.path,c=new Ie(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||U5(V5(m),i)<=0||(o.has(m.key)||xh(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Me(9500)}ii(e,n){return fe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new u9(this)}getSize(e){return fe.resolve(this.size)}}class u9 extends t9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.persistence=e,this.si=new ta((n=>a_(n)),l_),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new m_,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)})),fe.waitFor(a).next((()=>o))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((l=>{a.push(o.markPotentiallyOrphaned(e,l))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new s9,this.referenceDelegate=e(this),this.Pi=new c9(this),this.indexManager=new JF,this.remoteDocumentCache=(function(o){return new l9(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new YF(n),this.Ii=new r9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new a9(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Se("MemoryPersistence","Starting transaction:",e);const o=new f9(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return fe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class f9 extends F5{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Ri=new m_,this.Vi=null}static mi(e){return new g_(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(i=>{const o=Ie.fromPath(i);return this.gi(e,o).next((a=>{a||n.removeEntry(o,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zd{constructor(e,n){this.persistence=e,this.pi=new ta((i=>q5(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=e9(this,n)}static mi(e,n){return new Zd(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((i,o)=>this.br(e,i,o).next((a=>a?fe.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(l=>this.br(e,l,n).next((c=>{c||(i++,a.removeEntry(l,Le.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xd(e.data.value)),n}br(e,n,i){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Xe(),o=Xe();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new y_(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iO()?8:z5(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,o,i).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new d9;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(Xa()<=Qe.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Xa()<=Qe.DEBUG&&Se("QueryEngine","Query:",Wa(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Xa()<=Qe.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):fe.resolve())}ys(e,n){if(pA(n))return fe.resolve(null);let i=hr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qg(n,null,"F"),i=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const l=Xe(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.Ds(n,c);return this.Cs(n,d,l,f.readTime)?this.ys(e,Qg(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,i,o){return pA(n)||o.isEqual(Le.min())?fe.resolve(null):this.ps.getDocuments(e,i).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,i,o)?fe.resolve(null):(Xa()<=Qe.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.vs(e,l,n,L5(o,cc)).next((c=>c)))}))}Ds(e,n){let i=new nn(u1(e));return n.forEach(((o,a)=>{xh(e,a)&&(i=i.add(a))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,i){return Xa()<=Qe.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(e,n,es.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LocalStore",p9=3e8;class m9{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Dt(je),this.xs=new ta((a=>a_(a)),l_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function g9(t,e,n,i){return new m9(t,e,n,i)}async function M1(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const l=[],c=[];let f=Xe();for(const d of o){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of a){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function y9(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,m){const _=d.batch,T=_.keys();let S=fe.resolve();return T.forEach((I=>{S=S.next((()=>m.getEntry(f,I))).next((k=>{const V=d.docVersions.get(I);ct(V!==null,48541),k.version.compareTo(V)<0&&(_.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),m.addEntry(k)))}))})),S.next((()=>c.mutationQueue.removeMutationBatch(f,_)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(c){let f=Xe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function D1(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _9(t,e){const n=Ue(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const c=[];e.targetChanges.forEach(((m,_)=>{const T=o.get(_);if(!T)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,_))));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(yn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,i)),o=o.insert(_,S),(function(k,V,U){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=p9?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,S,m)&&c.push(n.Pi.updateTargetData(a,S))}));let f=Xr(),d=Xe();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(v9(a,l,e.documentUpdates).next((m=>{f=m.ks,d=m.qs}))),!i.isEqual(Le.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));c.push(m)}return fe.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function v9(t,e,n){let i=Xe(),o=Xe();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let l=Xr();return n.forEach(((c,f)=>{const d=a.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(c)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):Se(__,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:o}}))}function E9(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=r_),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function T9(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((a=>a?(o=a,fe.resolve(o)):n.Pi.allocateTargetId(i).next((l=>(o=new $o(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ey(t,e,n){const i=Ue(t),o=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(l=>i.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!kl(l))throw l;Se(__,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function IA(t,e,n){const i=Ue(t);let o=Le.min(),a=Xe();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,m){const _=Ue(f),T=_.xs.get(m);return T!==void 0?fe.resolve(_.Ms.get(T)):_.Pi.getTargetData(d,m)})(i,l,hr(e)).next((c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{a=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,e,n?o:Le.min(),n?a:Xe()))).next((c=>(S9(i,aF(e),c),{documents:c,Qs:a})))))}function S9(t,e,n){let i=t.Os.get(e)||Le.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Os.set(e,i)}class bA{constructor(){this.activeTargetIds=hF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A9{constructor(){this.Mo=new bA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="ConnectivityMonitor";class NA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(RA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(RA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function ty(){return gd===null?gd=(function(){return 268435456+Math.round(2147483648*Math.random())})():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",w9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Kd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,a){const l=ty(),c=this.zo(e,n.toUriEncodedString());Se(mg,`Sending RPC '${e}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:d}=new URL(c),m=xl(d);return this.Jo(e,c,f,i,m).then((_=>(Se(mg,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw ml(mg,`RPC '${e}' ${l} failed with error: `,_,"url: ",c,"request:",i),_}))}Ho(e,n,i,o,a,l){return this.Go(e,n,i,o,a)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const i=w9[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class b9 extends x9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,a){const l=ty();return new Promise(((c,f)=>{const d=new VI;d.setWithCredentials(!0),d.listenOnce(UI.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case wd.NO_ERROR:const _=d.getResponseJson();Se(Tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case wd.TIMEOUT:Se(Tn,`RPC '${e}' ${l} timed out`),f(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const T=d.getStatus();if(Se(Tn,`RPC '${e}' ${l} failed with status:`,T,"response text:",d.getResponseText()),T>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const k=(function(U){const G=U.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(G)>=0?G:ue.UNKNOWN})(I.status);f(new Ee(k,I.message))}else f(new Ee(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Se(Tn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(o);Se(Tn,`RPC '${e}' ${l} sending request:`,o),d.send(n,"POST",m,i,15)}))}T_(e,n,i){const o=ty(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zI(),c=FI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const m=a.join("");Se(Tn,`Creating RPC '${e}' stream ${o}: ${m}`,f);const _=l.createWebChannel(m,f);this.I_(_);let T=!1,S=!1;const I=new I9({Yo:V=>{S?Se(Tn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(T||(Se(Tn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),T=!0),Se(Tn,`RPC '${e}' stream ${o} sending:`,V),_.send(V))},Zo:()=>_.close()}),k=(V,U,G)=>{V.listen(U,(B=>{try{G(B)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return k(_,$u.EventType.OPEN,(()=>{S||(Se(Tn,`RPC '${e}' stream ${o} transport opened.`),I.o_())})),k(_,$u.EventType.CLOSE,(()=>{S||(S=!0,Se(Tn,`RPC '${e}' stream ${o} transport closed`),I.a_(),this.E_(_))})),k(_,$u.EventType.ERROR,(V=>{S||(S=!0,ml(Tn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),I.a_(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))})),k(_,$u.EventType.MESSAGE,(V=>{var U;if(!S){const G=V.data[0];ct(!!G,16349);const B=G,ie=(B==null?void 0:B.error)||((U=B[0])==null?void 0:U.error);if(ie){Se(Tn,`RPC '${e}' stream ${o} received error:`,ie);const se=ie.status;let K=(function(D){const b=jt[D];if(b!==void 0)return E1(b)})(se),P=ie.message;K===void 0&&(K=ue.INTERNAL,P="Unknown error status: "+se+" with message "+ie.message),S=!0,I.a_(new Ee(K,P)),_.close()}else Se(Tn,`RPC '${e}' stream ${o} received:`,G),I.u_(G)}})),k(c,OI.STAT_EVENT,(V=>{V.stat===qg.PROXY?Se(Tn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===qg.NOPROXY&&Se(Tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return new MF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="PersistentStream";class L1{constructor(e,n,i,o,a,l,c,f){this.Mi=e,this.S_=i,this.b_=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(kA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se(kA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R9 extends L1{constructor(e,n,i,o,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LF(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Le.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?mr(l.readTime):Le.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Zg(this.serializer),n.addTarget=(function(a,l){let c;const f=l.target;if(c=Kg(f)?{documents:OF(a,f)}:{query:FF(a,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=A1(a,l.resumeToken);const d=jg(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Le.min())>0){c.readTime=Wd(a,l.snapshotVersion.toTimestamp());const d=jg(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const i=BF(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Zg(this.serializer),n.removeTarget=e,this.q_(n)}}class N9 extends L1{constructor(e,n,i,o,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UF(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Zg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>VF(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{}class M9 extends k9{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Xg(n,i),o,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(ue.UNKNOWN,a.toString())}))}Ho(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Xg(n,i),o,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ue.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class D9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jr(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class P9{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{ia(this)&&(Se(Xs,"Restarting streams for network reachability change."),await(async function(f){const d=Ue(f);d.Ea.add(4),await kc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await kh(d)})(this))}))})),this.Ra=new D9(i,o)}}async function kh(t){if(ia(t))for(const e of t.da)await e(!0)}async function kc(t){for(const e of t.da)await e(!1)}function V1(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),S_(n)?T_(n):Dl(n).O_()&&E_(n,e))}function v_(t,e){const n=Ue(t),i=Dl(n);n.Ia.delete(e),i.O_()&&U1(n,e),n.Ia.size===0&&(i.O_()?i.L_():ia(n)&&n.Ra.set("Unknown"))}function E_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).Y_(e)}function U1(t,e){t.Va.Ue(e),Dl(t).Z_(e)}function T_(t){t.Va=new bF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.Ra.ua()}function S_(t){return ia(t)&&!Dl(t).x_()&&t.Ia.size>0}function ia(t){return Ue(t).Ea.size===0}function O1(t){t.Va=void 0}async function L9(t){t.Ra.set("Online")}async function V9(t){t.Ia.forEach(((e,n)=>{E_(t,e)}))}async function U9(t,e){O1(t),S_(t)?(t.Ra.ha(e),T_(t)):t.Ra.set("Unknown")}async function O9(t,e,n){if(t.Ra.set("Online"),e instanceof S1&&e.state===2&&e.cause)try{await(async function(o,a){const l=a.cause;for(const c of a.targetIds)o.Ia.has(c)&&(await o.remoteSyncer.rejectListen(c,l),o.Ia.delete(c),o.Va.removeTarget(c))})(t,e)}catch(i){Se(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await eh(t,i)}else if(e instanceof Rd?t.Va.Ze(e):e instanceof T1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const i=await D1(t.localStore);n.compareTo(i)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ia.get(d);m&&a.Ia.set(d,m.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,d)=>{const m=a.Ia.get(f);if(!m)return;a.Ia.set(f,m.withResumeToken(yn.EMPTY_BYTE_STRING,m.snapshotVersion)),U1(a,f);const _=new $o(m.target,f,d,m.sequenceNumber);E_(a,_)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(i){Se(Xs,"Failed to raise snapshot:",i),await eh(t,i)}}async function eh(t,e,n){if(!kl(e))throw e;t.Ea.add(1),await kc(t),t.Ra.set("Offline"),n||(n=()=>D1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(Xs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kh(t)}))}function F1(t,e){return e().catch((n=>eh(t,n,e)))}async function Mh(t){const e=Ue(t),n=rs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:r_;for(;F9(e);)try{const o=await E9(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,z9(e,o)}catch(o){await eh(e,o)}z1(e)&&B1(e)}function F9(t){return ia(t)&&t.Ta.length<10}function z9(t,e){t.Ta.push(e);const n=rs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function z1(t){return ia(t)&&!rs(t).x_()&&t.Ta.length>0}function B1(t){rs(t).start()}async function B9(t){rs(t).ra()}async function q9(t){const e=rs(t);for(const n of t.Ta)e.ea(n.mutations)}async function H9(t,e,n){const i=t.Ta.shift(),o=d_.from(i,e,n);await F1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Mh(t)}async function G9(t,e){e&&rs(t).X_&&await(async function(i,o){if((function(l){return wF(l)&&l!==ue.ABORTED})(o.code)){const a=i.Ta.shift();rs(i).B_(),await F1(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Mh(i)}})(t,e),z1(t)&&B1(t)}async function MA(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Se(Xs,"RemoteStore received new credentials");const i=ia(n);n.Ea.add(3),await kc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function $9(t,e){const n=Ue(t);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await kc(n),n.Ra.set("Unknown"))}function Dl(t){return t.ma||(t.ma=(function(n,i,o){const a=Ue(n);return a.sa(),new R9(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:L9.bind(null,t),t_:V9.bind(null,t),r_:U9.bind(null,t),H_:O9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),S_(t)?T_(t):t.Ra.set("Unknown")):(await t.ma.stop(),O1(t))}))),t.ma}function rs(t){return t.fa||(t.fa=(function(n,i,o){const a=Ue(n);return a.sa(),new N9(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:B9.bind(null,t),r_:G9.bind(null,t),ta:q9.bind(null,t),na:H9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Mh(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(Xs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const l=Date.now()+i,c=new A_(e,n,l,o,a);return c.start(i),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C_(t,e){if(jr("AsyncQueue",`${e}: ${t}`),kl(t))return new Ee(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=Yu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new sl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.ga=new Dt(Ie.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class El{constructor(e,n,i,o,a,l,c,f,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,o,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new El(e,n,sl.emptySet(n),l,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class K9{constructor(){this.queries=PA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ue(n),a=o.queries;o.queries=PA(),a.forEach(((l,c)=>{for(const f of c.Sa)f.onError(i)}))})(this,new Ee(ue.ABORTED,"Firestore shutting down"))}}function PA(){return new ta((t=>l1(t)),wh)}async function q1(t,e){const n=Ue(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(i=2):(a=new Y9,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(l){const c=C_(l,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(c)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&w_(n)}async function H1(t,e){const n=Ue(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function J9(t,e){const n=Ue(t);let i=!1;for(const o of e){const a=o.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(o)&&(i=!0);l.wa=o}}i&&w_(n)}function Q9(t,e,n){const i=Ue(t),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);i.queries.delete(e)}function w_(t){t.Ca.forEach((e=>{e.next()}))}var ny,LA;(LA=ny||(ny={})).Ma="default",LA.Cache="cache";class G1{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new El(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ny.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.key=e}}class Y1{constructor(e){this.key=e}}class j9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=u1(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new DA,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=o,c=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((m,_)=>{const T=o.get(m),S=xh(this.query,_)?_:null,I=!!T&&this.mutatedKeys.has(T.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;T&&S?T.data.isEqual(S.data)?I!==k&&(i.track({type:3,doc:S}),V=!0):this.su(T,S)||(i.track({type:2,doc:S}),V=!0,(f&&this.eu(S,f)>0||d&&this.eu(S,d)<0)&&(c=!0)):!T&&S?(i.track({type:0,doc:S}),V=!0):T&&!S&&(i.track({type:1,doc:T}),V=!0,(f||d)&&(c=!0)),V&&(S?(l=l.add(S),a=k?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{tu:l,iu:i,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,_)=>(function(S,I){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:V})}};return k(S)-k(I)})(m.type,_.type)||this.eu(m.doc,_.doc))),this.ou(i),o=o??!1;const c=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new El(this.query,e.tu,a,l,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new Y1(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new $1(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const x_="SyncEngine";class X9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class W9{constructor(e){this.key=e,this.hu=!1}}class Z9{constructor(e,n,i,o,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ta((c=>l1(c)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ie.comparator),this.Au=new Map,this.Ru=new m_,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ez(t,e,n=!0){const i=W1(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await K1(i,e,n,!0),o}async function tz(t,e){const n=W1(t);await K1(n,e,!0,!1)}async function K1(t,e,n,i){const o=await T9(t.localStore,hr(e)),a=o.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await nz(t,e,a,l==="current",o.resumeToken)),t.isPrimaryClient&&n&&V1(t.remoteStore,o),c}async function nz(t,e,n,i,o){t.pu=(_,T,S)=>(async function(k,V,U,G){let B=V.view.ru(U);B.Cs&&(B=await IA(k.localStore,V.query,!1).then((({documents:P})=>V.view.ru(P,B))));const ie=G&&G.targetChanges.get(V.targetId),se=G&&G.targetMismatches.get(V.targetId)!=null,K=V.view.applyChanges(B,k.isPrimaryClient,ie,se);return UA(k,V.targetId,K.au),K.snapshot})(t,_,T,S);const a=await IA(t.localStore,e,!0),l=new j9(e,a.Qs),c=l.ru(a.documents),f=Nc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),d=l.applyChanges(c,t.isPrimaryClient,f);UA(t,n,d.au);const m=new X9(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function iz(t,e,n){const i=Ue(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((l=>!wh(l,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await ey(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&v_(i.remoteStore,o.targetId),iy(i,o.targetId)})).catch(Nl)):(iy(i,o.targetId),await ey(i.localStore,o.targetId,!0))}async function rz(t,e){const n=Ue(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),v_(n.remoteStore,i.targetId))}async function oz(t,e,n){const i=dz(t);try{const o=await(function(l,c){const f=Ue(l),d=xt.now(),m=c.reduce(((S,I)=>S.add(I.key)),Xe());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=Xr(),k=Xe();return f.Ns.getEntries(S,m).next((V=>{I=V,I.forEach(((U,G)=>{G.isValidDocument()||(k=k.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,I))).next((V=>{_=V;const U=[];for(const G of c){const B=EF(G,_.get(G.key).overlayedDocument);B!=null&&U.push(new na(G.key,B,e1(B.value.mapValue),pr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,d,U,c)})).next((V=>{T=V;const U=V.applyToLocalDocumentSet(_,k);return f.documentOverlayCache.saveOverlays(S,V.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:f1(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(l,c,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new Dt(je)),d=d.insert(c,f),l.Vu[l.currentUser.toKey()]=d})(i,o.batchId,n),await Mc(i,o.changes),await Mh(i.remoteStore)}catch(o){const a=C_(o,"Failed to persist write");n.reject(a)}}async function J1(t,e){const n=Ue(t);try{const i=await _9(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const l=n.Au.get(a);l&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?l.hu=!0:o.modifiedDocuments.size>0?ct(l.hu,14607):o.removedDocuments.size>0&&(ct(l.hu,42227),l.hu=!1))})),await Mc(n,i,e)}catch(i){await Nl(i)}}function VA(t,e,n){const i=Ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&o.push(c.snapshot)})),(function(l,c){const f=Ue(l);f.onlineState=c;let d=!1;f.queries.forEach(((m,_)=>{for(const T of _.Sa)T.va(c)&&(d=!0)})),d&&w_(f)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function sz(t,e,n){const i=Ue(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let l=new Dt(Ie.comparator);l=l.insert(a,An.newNoDocument(a,Le.min()));const c=Xe().add(a),f=new Rh(Le.min(),new Map,new Dt(je),l,c);await J1(i,f),i.du=i.du.remove(a),i.Au.delete(e),I_(i)}else await ey(i.localStore,e,!1).then((()=>iy(i,e,n))).catch(Nl)}async function az(t,e){const n=Ue(t),i=e.batch.batchId;try{const o=await y9(n.localStore,e);j1(n,i,null),Q1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Mc(n,o)}catch(o){await Nl(o)}}async function lz(t,e,n){const i=Ue(t);try{const o=await(function(l,c){const f=Ue(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,c).next((_=>(ct(_!==null,37113),m=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(i.localStore,e);j1(i,e,n),Q1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Mc(i,o)}catch(o){await Nl(o)}}function Q1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function j1(t,e,n){const i=Ue(t);let o=i.Vu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function iy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||X1(t,i)}))}function X1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(v_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),I_(t))}function UA(t,e,n){for(const i of n)i instanceof $1?(t.Ru.addReference(i.key,e),uz(t,i)):i instanceof Y1?(Se(x_,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||X1(t,i.key)):Me(19791,{wu:i})}function uz(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Se(x_,"New document in limbo: "+n),t.Eu.add(i),I_(t))}function I_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(St.fromString(e)),i=t.fu.next();t.Au.set(i,new W9(n)),t.du=t.du.insert(n,i),V1(t.remoteStore,new $o(hr(u_(n.path)),i,"TargetPurposeLimboResolution",Sh.ce))}}async function Mc(t,e,n){const i=Ue(t),o=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((c,f)=>{l.push(i.pu(f,e,n).then((d=>{var m;if((d||n)&&i.isPrimaryClient){const _=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:m.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){o.push(d);const _=y_.As(f.targetId,d);a.push(_)}})))})),await Promise.all(l),i.Pu.H_(o),await(async function(f,d){const m=Ue(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>fe.forEach(d,(T=>fe.forEach(T.Es,(S=>m.persistence.referenceDelegate.addReference(_,T.targetId,S))).next((()=>fe.forEach(T.ds,(S=>m.persistence.referenceDelegate.removeReference(_,T.targetId,S)))))))))}catch(_){if(!kl(_))throw _;Se(__,"Failed to update sequence numbers: "+_)}for(const _ of d){const T=_.targetId;if(!_.fromCache){const S=m.Ms.get(T),I=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(I);m.Ms=m.Ms.insert(T,k)}}})(i.localStore,a))}async function cz(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Se(x_,"User change. New user:",e.toKey());const i=await M1(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((f=>{f.reject(new Ee(ue.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Mc(n,i.Ls)}}function fz(t,e){const n=Ue(t),i=n.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let o=Xe();const a=n.Iu.get(e);if(!a)return o;for(const l of a){const c=n.Tu.get(l);o=o.unionWith(c.view.nu)}return o}}function W1(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sz.bind(null,e),e.Pu.H_=J9.bind(null,e.eventManager),e.Pu.yu=Q9.bind(null,e.eventManager),e}function dz(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=az.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lz.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return g9(this.persistence,new h9,e.initialUser,this.serializer)}Cu(e){return new k1(g_.mi,this.serializer)}Du(e){return new A9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class hz extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Zd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new WF(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new k1((i=>Zd.mi(i,n)),this.serializer)}}class ry{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cz.bind(null,this.syncEngine),await $9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new K9})()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),i=(function(a){return new b9(a)})(e.databaseInfo);return(function(a,l,c,f){return new M9(a,l,c,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,l,c){return new P9(i,o,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>VA(this.syncEngine,n,0)),(function(){return NA.v()?new NA:new C9})())}createSyncEngine(e,n){return(function(o,a,l,c,f,d,m){const _=new Z9(o,a,l,c,f,d);return m&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const a=Ue(o);Se(Xs,"RemoteStore shutting down."),a.Ea.add(5),await kc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ry.provider={build:()=>new ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class pz{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=i_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async l=>{Se(os,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(Se(os,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=C_(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function yg(t,e){t.asyncQueue.verifyOperationInProgress(),Se(os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await M1(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function OA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mz(t);Se(os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>MA(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>MA(e.remoteStore,o))),t._onlineComponents=e}async function mz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(os,"Using user provided OfflineComponentProvider");try{await yg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await yg(t,new th)}}else Se(os,"Using default OfflineComponentProvider"),await yg(t,new hz(void 0));return t._offlineComponents}async function eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(os,"Using user provided OnlineComponentProvider"),await OA(t,t._uninitializedComponentsProvider._online)):(Se(os,"Using default OnlineComponentProvider"),await OA(t,new ry))),t._onlineComponents}function gz(t){return eb(t).then((e=>e.syncEngine))}async function tb(t){const e=await eb(t),n=e.eventManager;return n.onListen=ez.bind(null,e.syncEngine),n.onUnlisten=iz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rz.bind(null,e.syncEngine),n}function yz(t,e,n={}){const i=new Yr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,d){const m=new Z1({next:T=>{m.Nu(),l.enqueueAndForget((()=>H1(a,_)));const S=T.docs.has(c);!S&&T.fromCache?d.reject(new Ee(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&f&&f.source==="server"?d.reject(new Ee(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(T)},error:T=>d.reject(T)}),_=new G1(u_(c.path),m,{includeMetadataChanges:!0,qa:!0});return q1(a,_)})(await tb(t),t.asyncQueue,e,n,i))),i.promise}function _z(t,e,n={}){const i=new Yr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,d){const m=new Z1({next:T=>{m.Nu(),l.enqueueAndForget((()=>H1(a,_))),T.fromCache&&f.source==="server"?d.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),_=new G1(c,m,{includeMetadataChanges:!0,qa:!0});return q1(a,_)})(await tb(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firestore.googleapis.com",zA=!0;class BA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ib,this.ssl=zA}else this.host=e.host,this.ssl=e.ssl??zA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jF)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nb(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new C5;switch(i.type){case"firstParty":return new b5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=FA.get(n);i&&(Se("ComponentProvider","Removing Datastore"),FA.delete(n),i.terminate())})(this),Promise.resolve()}}function vz(t,e,n,i={}){var d;t=Zo(t,Dh);const o=xl(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;o&&(Xx(`https://${c}`),Wx("Firestore",!0)),a.host!==ib&&a.host!==c&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:c,ssl:o,emulatorOptions:i};if(!Ks(f,l)&&(t._setSettings(f),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=Sn.MOCK_USER;else{m=JU(i.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Sn(T)}t._authCredentials=new w5(new qI(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class en{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(bc(n,en._jsonSchema))return new en(e,i||null,new Ie(St.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Zt("string",en._jsonSchemaVersion),referencePath:Zt("string")};class Xo extends ra{constructor(e,n,i){super(e,n,u_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Ie(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function rb(t,e,...n){if(t=Bn(t),HI("collection","path",e),t instanceof Dh){const i=St.fromString(e,...n);return eA(i),new Xo(t,null,i)}{if(!(t instanceof en||t instanceof Xo))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(St.fromString(e,...n));return eA(i),new Xo(t.firestore,null,i)}}function Ph(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=i_.newId()),HI("doc","path",e),t instanceof Dh){const i=St.fromString(e,...n);return ZS(i),new en(t,null,new Ie(i))}{if(!(t instanceof en||t instanceof Xo))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(St.fromString(e,...n));return ZS(i),new en(t.firestore,t instanceof Xo?t.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="AsyncQueue";class HA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P1(this,"async_queue_retry"),this._c=()=>{const i=gg();i&&Se(qA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kl(e))throw e;Se(qA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,jr("INTERNAL UNHANDLED ERROR: ",GA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=A_.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Me(47125,{Pc:GA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Dc extends Dh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new HA,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HA(e),this._firestoreClient=void 0,await e}}}function Ez(t,e){const n=typeof t=="object"?t:nI(),i=typeof t=="string"?t:Kd,o=$y(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=YU("firestore");a&&vz(o,...a)}return o}function b_(t){if(t._terminated)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Tz(t),t._firestoreClient}function Tz(t){var i,o,a;const e=t._freezeSettings(),n=(function(c,f,d,m){return new $5(c,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,nb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(yn.fromBase64String(e))}catch(n){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yi(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:Zt("string",yi._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(bc(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:Zt("string",gr._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yr(e.vectorValues);throw new Ee(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:Zt("string",yr._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=/^__.*__$/;class Az{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}function sb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class N_{constructor(e,n,i,o,a,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new N_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sb(this.Ac)&&Sz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Cz{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Nh(e)}Cc(e,n,i,o=!1){return new N_({Ac:e,methodName:n,Dc:i,path:gn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ab(t){const e=t._freezeSettings(),n=Nh(t._databaseId);return new Cz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wz(t,e,n,i,o,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);cb("Data must be an object, but it was:",l,i);const c=lb(i,l);let f,d;if(a.merge)f=new Li(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const _ of a.mergeFields){const T=Iz(e,_,n);if(!l.contains(T))throw new Ee(ue.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Rz(m,T)||m.push(T)}f=new Li(m),d=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=l.fieldTransforms;return new Az(new gi(c),f,d)}function xz(t,e,n,i=!1){return k_(n,t.Cc(i?4:3,e))}function k_(t,e){if(ub(t=Bn(t)))return cb("Unsupported field value:",e,t),lb(t,e);if(t instanceof ob)return(function(i,o){if(!sb(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const a=[];let l=0;for(const c of i){let f=k_(c,o.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=Bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pF(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xt.fromDate(i);return{timestampValue:Wd(o.serializer,a)}}if(i instanceof xt){const a=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wd(o.serializer,a)}}if(i instanceof gr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yi)return{bytesValue:A1(o.serializer,i._byteString)};if(i instanceof en){const a=o.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw o.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:p_(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof yr)return(function(l,c){return{mapValue:{fields:{[WI]:{stringValue:ZI},[Jd]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return c_(c.serializer,d)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Th(i)}`)})(t,e)}function lb(t,e){const n={};return YI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,((i,o)=>{const a=k_(o,e.mc(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function ub(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof gr||t instanceof yi||t instanceof en||t instanceof ob||t instanceof yr)}function cb(t,e,n){if(!ub(n)||!GI(n)){const i=Th(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Iz(t,e,n){if((e=Bn(e))instanceof R_)return e._internalPath;if(typeof e=="string")return fb(t,e);throw nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const bz=new RegExp("[~\\*/\\[\\]]");function fb(t,e,n){if(e.search(bz)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new R_(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nh(t,e,n,i,o){const a=i&&!i.isEmpty(),l=o!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${i}`),l&&(f+=` in document ${o}`),f+=")"),new Ee(ue.INVALID_ARGUMENT,c+t+f)}function Rz(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(M_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nz extends db{data(){return super.data()}}function M_(t,e){return typeof e=="string"?fb(t,e):e instanceof R_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D_{}class hb extends D_{}function Mz(t,e,...n){let i=[];e instanceof D_&&i.push(e),i=i.concat(n),(function(a){const l=a.filter((f=>f instanceof L_)).length,c=a.filter((f=>f instanceof P_)).length;if(l>1||l>0&&c>0)throw new Ee(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class P_ extends hb{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new P_(e,n,i)}_apply(e){const n=this._parse(e);return pb(e._query,n),new ra(e.firestore,e.converter,Jg(e._query,n))}_parse(e){const n=ab(e.firestore);return(function(a,l,c,f,d,m,_){let T;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){YA(_,m);const I=[];for(const k of _)I.push($A(f,a,k));T={arrayValue:{values:I}}}else T=$A(f,a,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||YA(_,m),T=xz(c,l,_,m==="in"||m==="not-in");return Wt.create(d,m,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class L_ extends D_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new L_(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let l=o;const c=a.getFlattenedFilters();for(const f of c)pb(l,f),l=Jg(l,f)})(e._query,n),new ra(e.firestore,e.converter,Jg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class V_ extends hb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new V_(e,n)}_apply(e){const n=(function(o,a,l){if(o.startAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(a,l)})(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,(function(o,a){const l=o.explicitOrderBy.concat([a]);return new Ml(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Dz(t,e="asc"){const n=e,i=M_("orderBy",t);return V_._create(i,n)}function $A(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a1(e)&&n.indexOf("/")!==-1)throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(St.fromString(n));if(!Ie.isDocumentKey(i))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lA(t,new Ie(i))}if(n instanceof en)return lA(t,n._key);throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function YA(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(t,e){const n=(function(o,a){for(const l of o)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Pz{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ea(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,o,a;const n=(a=(o=(i=e.fields)==null?void 0:i[Jd].arrayValue)==null?void 0:o.values)==null?void 0:a.map((l=>Bt(l.doubleValue)));return new yr(n)}convertGeoPoint(e){return new gr(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Ch(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=ts(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=St.fromString(e);ct(R1(i),9688,{name:e});const o=new dc(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(n)||jr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends db{constructor(e,n,i,o,a,l){super(e,n,i,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(M_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Zt("string",$s._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Nd extends $s{data(e={}){return super.data(e)}}class al{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ju(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Nd(this._firestore,this._userDataWriter,i.key,i,new Ju(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map((c=>{const f=new Nd(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Ju(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const f=new Nd(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Ju(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:Vz(c.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=i_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){t=Zo(t,en);const e=Zo(t.firestore,Dc);return yz(b_(e),t._key).then((n=>zz(e,t,n)))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:Zt("string",al._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class mb extends Pz{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function gb(t){t=Zo(t,ra);const e=Zo(t.firestore,Dc),n=b_(e),i=new mb(e);return kz(t._query),_z(n,t._query).then((o=>new al(e,i,t,o)))}function Oz(t,e,n){t=Zo(t,en);const i=Zo(t.firestore,Dc),o=Lz(t.converter,e);return yb(i,[wz(ab(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,pr.none())])}function Fz(t){return yb(Zo(t.firestore,Dc),[new f_(t._key,pr.none())])}function yb(t,e){return(function(i,o){const a=new Yr;return i.asyncQueue.enqueueAndForget((async()=>oz(await gz(i),o,a))),a.promise})(b_(t),e)}function zz(t,e,n){const i=n.docs.get(e._key),o=new mb(t);return new $s(t,o,e._key,i,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Rl=o})(Il),hl(new Js("firestore",((i,{instanceIdentifier:o,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new Dc(new x5(i.getProvider("auth-internal")),new R5(l,i.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(d.options.projectId,m)})(l,o),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Qo(QS,jS,e),Qo(QS,jS,"esm2020")})();const Bz={apiKey:"AIzaSyBt9nKxgvIhMB0KRrWsV9KOH2fwKO-sgbE",authDomain:"forge-ai-designer.firebaseapp.com",projectId:"forge-ai-designer",storageBucket:"forge-ai-designer.firebasestorage.app",messagingSenderId:"793124605906",appId:"1:793124605906:web:735da1c532767e9182020b",measurementId:"G-MF6NPQQ0B8"},_b=tI(Bz),_g=E5(_b),Pc=Ez(_b),vb=async(t,e,n)=>{try{const i={...n,id:e,updatedAt:Date.now()};await Oz(Ph(Pc,"users",t,"projects",e),i)}catch(i){throw console.error("Error saving project:",i),i}},qz=async(t,e)=>{try{const n=rb(Pc,"users",t,"projects");if((await gb(n)).size>=5)throw new Error("Project limit reached (Max 5). Delete a project to create a new one.");const o=Ph(n);return await vb(t,o.id,e),o.id}catch(n){throw console.error("Error creating project:",n),n}},Hz=async(t,e)=>{try{const n=Ph(Pc,"users",t,"projects",e),i=await Uz(n);return i.exists()?i.data():null}catch(n){return console.error("Error loading project:",n),null}},vg=async t=>{try{const e=rb(Pc,"users",t,"projects"),n=Mz(e,Dz("updatedAt","desc"));return(await gb(n)).docs.map(o=>({id:o.id,title:o.data().title||"Untitled Project",updatedAt:o.data().updatedAt||Date.now()}))}catch(e){return console.error("Error fetching projects:",e),[]}},Gz=async(t,e)=>{try{await Fz(Ph(Pc,"users",t,"projects",e))}catch(n){throw console.error("Error deleting project:",n),n}},Eb=Z.createContext(null),$z=({children:t})=>{const[e,n]=Z.useState(null),[i,o]=Z.useState(!0),[a,l]=Z.useState(null);Z.useEffect(()=>{const m=l6(_g,_=>{n(_),o(!1)});return()=>m()},[]);const c=async()=>{l(null);const m=new qr;try{await R6(_g,m)}catch(_){console.error("Error signing in",_);let T="Failed to sign in.";_.code==="auth/unauthorized-domain"?T="Domain not authorized. Please add this domain in Firebase Console > Authentication > Settings.":_.code==="auth/popup-closed-by-user"?T="Sign in cancelled.":T=_.message||T,l(T)}},f=async()=>{try{await u6(_g),l(null)}catch(m){console.error("Error signing out",m)}},d=()=>l(null);return w.jsx(Eb.Provider,{value:{user:e,loading:i,error:a,signIn:c,logOut:f,clearError:d},children:t})},ih=()=>{const t=Z.useContext(Eb);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Yz={theme:"system",setTheme:()=>null},Tb=Z.createContext(Yz);function Kz({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme"}){const[i,o]=Z.useState(()=>localStorage.getItem(n)||e);Z.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(i)},[i]);const a={theme:i,setTheme:l=>{localStorage.setItem(n,l),o(l)}};return w.jsx(Tb.Provider,{value:a,children:t})}const Jz=()=>{const t=Z.useContext(Tb);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qz,jz;function Xz(){return{geminiUrl:Qz,vertexUrl:jz}}function Wz(t,e,n,i){var o,a;if(!(t!=null&&t.baseUrl)){const l=Xz();return e?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(a=l.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class no{}function ve(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const m=f[d];g(m,e.slice(a+1),n[d])}else for(const d of f)g(d,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];g(f[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const l=t[a];return Array.isArray(l)?l.map(c=>p(c,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function Zz(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),a=i.split("."),l=new Set;let c=-1;for(let f=0;f<o.length;f++)if(o[f]==="*"){c=f;break}if(c!==-1&&a.length>c)for(let f=c;f<a.length;f++){const d=a[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}oy(t,o,a,0,l)}}function oy(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const l=a.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const f of c[l])oy(f,e,n,i+1,o)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!o.has(d)),f={};for(const d of c)f[d]=l[d];for(const[d,m]of Object.entries(f)){const _=[];for(const T of n.slice(i))T==="*"?_.push(d):_.push(T);g(l,_,m)}for(const d of c)delete l[d]}}else{const l=t;a in l&&oy(l[a],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U_(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eB(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const i=p(t,["resourceName"]);return i!=null&&g(e,["_url","resourceName"],i),e}function tB(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],iB(l)),e}function nB(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],rB(l)),e}function iB(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>oB(l))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&g(e,["raiMediaFilteredReasons"],o),e}function rB(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>sB(l))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&g(e,["raiMediaFilteredReasons"],o),e}function oB(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],dB(n)),e}function sB(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],hB(n)),e}function aB(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function lB(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function uB(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],cB(l)),e}function cB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const o=p(t,["documentName"]);return o!=null&&g(e,["documentName"],o),e}function Sb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],fB(l)),e}function fB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const o=p(t,["documentName"]);return o!=null&&g(e,["documentName"],o),e}function dB(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],U_(i));const o=p(t,["encoding"]);return o!=null&&g(e,["mimeType"],o),e}function hB(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],U_(i));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KA;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(KA||(KA={}));var JA;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(JA||(JA={}));var QA;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(QA||(QA={}));var Yo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Yo||(Yo={}));var jA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jA||(jA={}));var XA;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(XA||(XA={}));var WA;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(WA||(WA={}));var ZA;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ZA||(ZA={}));var eC;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(eC||(eC={}));var tC;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(tC||(tC={}));var nC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nC||(nC={}));var iC;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(iC||(iC={}));var rC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(rC||(rC={}));var oC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(oC||(oC={}));var sC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(sC||(sC={}));var aC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(aC||(aC={}));var lC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lC||(lC={}));var uC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(uC||(uC={}));var cC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cC||(cC={}));var rh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(rh||(rh={}));var fC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fC||(fC={}));var dC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(dC||(dC={}));var hC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hC||(hC={}));var sy;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sy||(sy={}));var pC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pC||(pC={}));var mC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(mC||(mC={}));var gC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(gC||(gC={}));var yC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(yC||(yC={}));var _C;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_C||(_C={}));var vC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vC||(vC={}));var EC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(EC||(EC={}));var TC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(TC||(TC={}));var SC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(SC||(SC={}));var AC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(AC||(AC={}));var CC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(CC||(CC={}));var wC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wC||(wC={}));var xC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xC||(xC={}));var IC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(IC||(IC={}));var bC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(bC||(bC={}));var RC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(RC||(RC={}));var NC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(NC||(NC={}));var kC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(kC||(kC={}));var MC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(MC||(MC={}));var DC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(DC||(DC={}));var PC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(PC||(PC={}));var LC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(LC||(LC={}));var VC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(VC||(VC={}));var UC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(UC||(UC={}));var OC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(OC||(OC={}));var FC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(FC||(FC={}));var zC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(zC||(zC={}));var BC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(BC||(BC={}));var qC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(qC||(qC={}));var HC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(HC||(HC={}));var tl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(tl||(tl={}));class ay{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gu{get text(){var e,n,i,o,a,l,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const _=[];for(const T of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[S,I]of Object.entries(T))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(I!==null||I!==void 0)&&_.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;m=!0,d+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,i,o,a,l,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const _ of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[T,S]of Object.entries(_))T!=="inlineData"&&(S!==null||S!==void 0)&&m.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(d+=atob(_.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,o,a,l,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,i,o,a,l,c,f,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,o,a,l,c,f,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class GC{}class $C{}class pB{}class mB{}class gB{}class yB{}class YC{}class KC{}class JC{}class _B{}class oh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new oh;let o;const a=e;return n?o=nB(a):o=tB(a),Object.assign(i,o),i}}class QC{}class jC{}class XC{}class WC{}class vB{}class EB{}class TB{}class O_{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new O_,a=uB(e);return Object.assign(i,a),i}}class SB{}class AB{}class CB{}class ZC{}class wB{get text(){var e,n,i;let o="",a=!1;const l=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,o+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class xB{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class F_{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new F_,a=Sb(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ab(t,e){const n=st(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Cb(t){return Array.isArray(t)?t.map(e=>sh(e)):[sh(t)]}function sh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function wb(t){const e=sh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xb(t){const e=sh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ew(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Ib(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ew(e)):[ew(t)]}function ly(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function tw(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function nw(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wn(t){if(t==null)throw new Error("ContentUnion is required");return ly(t)?t:{role:"user",parts:Ib(t)}}function z_(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=wn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=wn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wn(n)):[wn(e)]}function _i(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(tw(t)||nw(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wn(t)]}const e=[],n=[],i=ly(t[0]);for(const o of t){const a=ly(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(tw(o)||nw(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Ib(n)}),e}function IB(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Yo).includes(n[0].toUpperCase())?n[0].toUpperCase():Yo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Yo).includes(i.toUpperCase())?i.toUpperCase():Yo.TYPE_UNSPECIFIED})}}function ll(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&IB(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Yo).includes(c.toUpperCase())?c.toUpperCase():Yo.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=ll(c);else if(i.includes(l)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(ll(d))}e[l]=f}else if(o.includes(l)){const f={};for(const[d,m]of Object.entries(c))f[d]=ll(m);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=c}return e}function B_(t){return ll(t)}function q_(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function H_(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Pl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ll(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ll(e.response));return t}function Ll(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function bB(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function io(t,e){if(typeof e!="string")throw new Error("name must be a string");return bB(t,e,"cachedContents")}function bb(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ls(t){return U_(t)}function RB(t){return t!=null&&typeof t=="object"&&"name"in t}function NB(t){return t!=null&&typeof t=="object"&&"video"in t}function kB(t){return t!=null&&typeof t=="object"&&"uri"in t}function Rb(t){var e;let n;if(RB(t)&&(n=t.name),!(kB(t)&&(n=t.uri,n===void 0))&&!(NB(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Nb(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function kb(t){for(const e of["models","tunedModels","publisherModels"])if(MB(t,e))return t[e];return[]}function MB(t,e){return t!==null&&typeof t=="object"&&e in t}function DB(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function PB(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const l=DB(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Mb(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function LB(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Db(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let a=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Vl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Pb(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VB(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>gq(l))),g(e,["inlinedResponses"],a)}const o=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["inlinedEmbedContentResponses"],a)}return e}function UB(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&g(e,["gcsUri"],i);const o=p(t,["bigqueryDestination","outputUri"]);return o!=null&&g(e,["bigqueryUri"],o),e}function OB(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&g(e,["gcsDestination","outputUriPrefix"],i);const o=p(t,["bigqueryUri"]);if(o!=null&&g(e,["bigqueryDestination","outputUri"],o),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function kd(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&g(e,["displayName"],i);const o=p(t,["metadata","state"]);o!=null&&g(e,["state"],Pb(o));const a=p(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const l=p(t,["metadata","endTime"]);l!=null&&g(e,["endTime"],l);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const f=p(t,["metadata","model"]);f!=null&&g(e,["model"],f);const d=p(t,["metadata","output"]);return d!=null&&g(e,["dest"],VB(Db(d))),e}function uy(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const o=p(t,["state"]);o!=null&&g(e,["state"],Pb(o));const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["createTime"]);l!=null&&g(e,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const f=p(t,["endTime"]);f!=null&&g(e,["endTime"],f);const d=p(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const _=p(t,["inputConfig"]);_!=null&&g(e,["src"],FB(_));const T=p(t,["outputConfig"]);T!=null&&g(e,["dest"],UB(Db(T)));const S=p(t,["completionStats"]);return S!=null&&g(e,["completionStats"],S),e}function FB(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&g(e,["gcsUri"],i);const o=p(t,["bigquerySource","inputUri"]);return o!=null&&g(e,["bigqueryUri"],o),e}function zB(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&g(n,["fileName"],i);const o=p(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>mq(t,l))),g(n,["requests","requests"],a)}return n}function BB(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&g(e,["gcsSource","uris"],i);const o=p(t,["bigqueryUri"]);if(o!=null&&g(e,["bigquerySource","inputUri"],o),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function qB(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function HB(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Vl(t,i)),n}function GB(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Vl(t,i)),n}function $B(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],YB(i));const o=p(t,["tokenCount"]);o!=null&&g(e,["tokenCount"],o);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&g(e,["index"],f);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(S=>S)),g(e,["safetyRatings"],T)}const _=p(t,["urlContextMetadata"]);return _!=null&&g(e,["urlContextMetadata"],_),e}function YB(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["citations"],i)}return e}function Lb(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Aq(a))),g(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function KB(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&g(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function JB(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["dest"]);return e!==void 0&&o!=null&&g(e,["outputConfig"],OB(LB(o))),n}function iw(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["src"]);o!=null&&g(n,["batch","inputConfig"],zB(t,Mb(t,o)));const a=p(e,["config"]);return a!=null&&KB(a,n),n}function QB(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],st(t,i));const o=p(e,["src"]);o!=null&&g(n,["inputConfig"],BB(Mb(t,o)));const a=p(e,["config"]);return a!=null&&JB(a,n),n}function jB(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["batch","displayName"],i),n}function XB(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["src"]);o!=null&&g(n,["batch","inputConfig"],rq(t,o));const a=p(e,["config"]);return a!=null&&jB(a,n),n}function WB(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Vl(t,i)),n}function ZB(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Vl(t,i)),n}function eq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function tq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function nq(t,e){const n={},i=p(e,["contents"]);if(i!=null){let a=z_(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","request","content"],a)}const o=p(e,["config"]);return o!=null&&(g(n,["_self"],iq(o,n)),Zz(n,{"requests[].*":"requests[].request.*"})),n}function iq(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const o=p(t,["title"]);e!==void 0&&o!=null&&g(e,["requests[]","title"],o);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rq(t,e){const n={},i=p(e,["fileName"]);i!=null&&g(n,["file_name"],i);const o=p(e,["inlinedRequests"]);return o!=null&&g(n,["requests"],nq(t,o)),n}function oq(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function sq(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const o=p(t,["name"]);if(o!=null&&g(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aq(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lq(t,e,n){const i={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],Lb(wn(o)));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&g(i,["topP"],l);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&g(i,["candidateCount"],f);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const _=p(e,["responseLogprobs"]);_!=null&&g(i,["responseLogprobs"],_);const T=p(e,["logprobs"]);T!=null&&g(i,["logprobs"],T);const S=p(e,["presencePenalty"]);S!=null&&g(i,["presencePenalty"],S);const I=p(e,["frequencyPenalty"]);I!=null&&g(i,["frequencyPenalty"],I);const k=p(e,["seed"]);k!=null&&g(i,["seed"],k);const V=p(e,["responseMimeType"]);V!=null&&g(i,["responseMimeType"],V);const U=p(e,["responseSchema"]);U!=null&&g(i,["responseSchema"],B_(U));const G=p(e,["responseJsonSchema"]);if(G!=null&&g(i,["responseJsonSchema"],G),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=p(e,["safetySettings"]);if(n!==void 0&&B!=null){let O=B;Array.isArray(O)&&(O=O.map(F=>Cq(F))),g(n,["safetySettings"],O)}const ie=p(e,["tools"]);if(n!==void 0&&ie!=null){let O=Ll(ie);Array.isArray(O)&&(O=O.map(F=>xq(Pl(F)))),g(n,["tools"],O)}const se=p(e,["toolConfig"]);if(n!==void 0&&se!=null&&g(n,["toolConfig"],wq(se)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=p(e,["cachedContent"]);n!==void 0&&K!=null&&g(n,["cachedContent"],io(t,K));const P=p(e,["responseModalities"]);P!=null&&g(i,["responseModalities"],P);const L=p(e,["mediaResolution"]);L!=null&&g(i,["mediaResolution"],L);const D=p(e,["speechConfig"]);if(D!=null&&g(i,["speechConfig"],q_(D)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=p(e,["thinkingConfig"]);b!=null&&g(i,["thinkingConfig"],b);const N=p(e,["imageConfig"]);return N!=null&&g(i,["imageConfig"],pq(N)),i}function uq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>$B(d))),g(e,["candidates"],f)}const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function cq(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Vl(t,i)),n}function fq(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Vl(t,i)),n}function dq(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function hq(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function pq(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mq(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["request","model"],st(t,i));const o=p(e,["contents"]);if(o!=null){let c=_i(o);Array.isArray(c)&&(c=c.map(f=>Lb(f))),g(n,["request","contents"],c)}const a=p(e,["metadata"]);a!=null&&g(n,["metadata"],a);const l=p(e,["config"]);return l!=null&&g(n,["request","generationConfig"],lq(t,l,p(n,["request"],{}))),n}function gq(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],uq(n));const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function yq(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);if(e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function _q(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function vq(t){const e={},n=p(t,["config"]);return n!=null&&yq(n,e),e}function Eq(t){const e={},n=p(t,["config"]);return n!=null&&_q(n,e),e}function Tq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>kd(l))),g(e,["batchJobs"],a)}return e}function Sq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>uy(l))),g(e,["batchJobs"],a)}return e}function Aq(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],oq(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],sq(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],qB(f));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const T=p(t,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function Cq(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function wq(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],aq(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function xq(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],dq(c));const f=p(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],hq(f));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Wr||(Wr={}));class oa{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iq extends no{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oa(Wr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=iw(this.apiClient,e),i=n._url,o=ve("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const m of f){const _=Object.assign({},m);if(_.systemInstruction){const T=_.systemInstruction;delete _.systemInstruction;const S=_.request;S.systemInstruction=T,_.request=S}d.push(_)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const a=this.getGcsUri(e),l=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${o}`;else if(l)i.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=QB(this.apiClient,e);return c=ve("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>uy(m))}else{const d=iw(this.apiClient,e);return c=ve("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>kd(m))}}async createEmbeddingsInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=XB(this.apiClient,e);return a=ve("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>kd(f))}}async get(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=fq(this.apiClient,e);return c=ve("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>uy(m))}else{const d=cq(this.apiClient,e);return c=ve("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>kd(m))}}async cancel(e){var n,i,o,a;let l="",c={};if(this.apiClient.isVertexAI()){const f=GB(this.apiClient,e);l=ve("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=HB(this.apiClient,e);l=ve("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Eq(e);return c=ve("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Sq(m),T=new ZC;return Object.assign(T,_),T})}else{const d=vq(e);return c=ve("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Tq(m),T=new ZC;return Object.assign(T,_),T})}}async delete(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=ZB(this.apiClient,e);return c=ve("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>tq(m))}else{const d=WB(this.apiClient,e);return c=ve("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>eq(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bq(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function rw(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Xq(a))),g(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function Rq(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const o=p(t,["expireTime"]);e!==void 0&&o!=null&&g(e,["expireTime"],o);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let m=_i(l);Array.isArray(m)&&(m=m.map(_=>rw(_))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],rw(wn(c)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(_=>Zq(_))),g(e,["tools"],m)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],Wq(d)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Nq(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const o=p(t,["expireTime"]);e!==void 0&&o!=null&&g(e,["expireTime"],o);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let _=_i(l);Array.isArray(_)&&(_=_.map(T=>T)),g(e,["contents"],_)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],wn(c));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>eH(T))),g(e,["tools"],_)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function kq(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],Ab(t,i));const o=p(e,["config"]);return o!=null&&Rq(o,n),n}function Mq(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],Ab(t,i));const o=p(e,["config"]);return o!=null&&Nq(o,n),n}function Dq(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],io(t,i)),n}function Pq(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],io(t,i)),n}function Lq(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Vq(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Uq(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Oq(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const o=p(t,["name"]);if(o!=null&&g(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Fq(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zq(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["parameters"]);o!=null&&g(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function Bq(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],io(t,i)),n}function qq(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],io(t,i)),n}function Hq(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Gq(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function $q(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function Yq(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function Kq(t){const e={},n=p(t,["config"]);return n!=null&&$q(n,e),e}function Jq(t){const e={},n=p(t,["config"]);return n!=null&&Yq(n,e),e}function Qq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["cachedContents"],a)}return e}function jq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["cachedContents"],a)}return e}function Xq(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],Uq(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],Oq(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],bq(f));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const T=p(t,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function Wq(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],Fq(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function Zq(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],Hq(c));const f=p(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],Gq(f));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function eH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>zq(T))),g(e,["functionDeclarations"],_)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=p(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const f=p(t,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function tH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const o=p(t,["expireTime"]);return e!==void 0&&o!=null&&g(e,["expireTime"],o),n}function nH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const o=p(t,["expireTime"]);return e!==void 0&&o!=null&&g(e,["expireTime"],o),n}function iH(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],io(t,i));const o=p(e,["config"]);return o!=null&&tH(o,n),n}function rH(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],io(t,i));const o=p(e,["config"]);return o!=null&&nH(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oH extends no{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oa(Wr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Mq(this.apiClient,e);return c=ve("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=kq(this.apiClient,e);return c=ve("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=qq(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=Bq(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Pq(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Vq(m),T=new XC;return Object.assign(T,_),T})}else{const d=Dq(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Lq(m),T=new XC;return Object.assign(T,_),T})}}async update(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=rH(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=iH(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Jq(e);return c=ve("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=jq(m),T=new WC;return Object.assign(T,_),T})}else{const d=Kq(e);return c=ve("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Qq(m),T=new WC;return Object.assign(T,_),T})}}}function ow(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wt(t){return this instanceof wt?(this.v=t,this):new wt(t)}function ul(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(S){return function(I){return Promise.resolve(I).then(S,_)}}function c(S,I){i[S]&&(o[S]=function(k){return new Promise(function(V,U){a.push([S,k,V,U])>1||f(S,k)})},I&&(o[S]=I(o[S])))}function f(S,I){try{d(i[S](I))}catch(k){T(a[0][3],k)}}function d(S){S.value instanceof wt?Promise.resolve(S.value.v).then(m,_):T(a[0][2],S)}function m(S){f("next",S)}function _(S){f("throw",S)}function T(S,I){S(I),a.shift(),a.length&&f(a[0][0],a[0][1])}}function rc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ow=="function"?ow(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(l){return new Promise(function(c,f){l=t[a](l),o(c,f,l.done,l.value)})}}function o(a,l,c,f){Promise.resolve(f).then(function(d){a({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sH(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Vb(n)}function Vb(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function aH(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function sw(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!Vb(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class lH{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new uH(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class uH{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),aH(a)}async sendMessage(e){var n;await this.sendPromise;const i=wn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,c;const f=await o,d=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,m=f.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];m!=null&&(T=(c=m.slice(_))!==null&&c!==void 0?c:[]);const S=d?[d]:[];this.recordHistory(i,S,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=wn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?sw(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return ul(this,arguments,function*(){var l,c,f,d;const m=[];try{for(var _=!0,T=rc(e),S;S=yield wt(T.next()),l=S.done,!l;_=!0){d=S.value,_=!1;const I=d;if(sH(I)){const k=(o=(i=I.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;k!==void 0&&m.push(k)}yield yield wt(I)}}catch(I){c={error:I}}finally{try{!_&&!l&&(f=T.return)&&(yield wt(f.call(T)))}finally{if(c)throw c.error}}this.recordHistory(n,m)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...sw(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Lh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cH(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function fH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function dH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],Rb(n)),e}function hH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function pH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],Rb(n)),e}function mH(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function gH(t){const e={},n=p(t,["config"]);return n!=null&&mH(n,e),e}function yH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _H extends no{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oa(Wr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=gH(e);return a=ve("files",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const d=yH(f),m=new SB;return Object.assign(m,d),m})}}async createInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=cH(e);return a=ve("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const d=fH(f),m=new AB;return Object.assign(m,d),m})}}async get(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=pH(e);return a=ve("files/{file}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=dH(e);return a=ve("files/{file}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const d=hH(f),m=new CB;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Md(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function vH(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>LH(a))),g(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function EH(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function TH(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const o=p(t,["name"]);if(o!=null&&g(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SH(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["parameters"]);o!=null&&g(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function AH(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const o=p(t,["audioTimestamp"]);o!=null&&g(e,["audioTimestamp"],o);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const l=p(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const f=p(t,["logprobs"]);f!=null&&g(e,["logprobs"],f);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const _=p(t,["presencePenalty"]);_!=null&&g(e,["presencePenalty"],_);const T=p(t,["responseLogprobs"]);T!=null&&g(e,["responseLogprobs"],T);const S=p(t,["responseMimeType"]);S!=null&&g(e,["responseMimeType"],S);const I=p(t,["responseModalities"]);I!=null&&g(e,["responseModalities"],I);const k=p(t,["responseSchema"]);k!=null&&g(e,["responseSchema"],k);const V=p(t,["routingConfig"]);V!=null&&g(e,["routingConfig"],V);const U=p(t,["seed"]);U!=null&&g(e,["seed"],U);const G=p(t,["speechConfig"]);G!=null&&g(e,["speechConfig"],Ub(G));const B=p(t,["stopSequences"]);B!=null&&g(e,["stopSequences"],B);const ie=p(t,["temperature"]);ie!=null&&g(e,["temperature"],ie);const se=p(t,["thinkingConfig"]);se!=null&&g(e,["thinkingConfig"],se);const K=p(t,["topK"]);K!=null&&g(e,["topK"],K);const P=p(t,["topP"]);if(P!=null&&g(e,["topP"],P),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function CH(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function wH(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function xH(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const o=p(t,["responseModalities"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","responseModalities"],o);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],H_(_));const T=p(t,["thinkingConfig"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","thinkingConfig"],T);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const I=p(t,["systemInstruction"]);e!==void 0&&I!=null&&g(e,["setup","systemInstruction"],vH(wn(I)));const k=p(t,["tools"]);if(e!==void 0&&k!=null){let K=Ll(k);Array.isArray(K)&&(K=K.map(P=>UH(Pl(P)))),g(e,["setup","tools"],K)}const V=p(t,["sessionResumption"]);e!==void 0&&V!=null&&g(e,["setup","sessionResumption"],VH(V));const U=p(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&g(e,["setup","inputAudioTranscription"],U);const G=p(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const B=p(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&g(e,["setup","realtimeInputConfig"],B);const ie=p(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&g(e,["setup","contextWindowCompression"],ie);const se=p(t,["proactivity"]);return e!==void 0&&se!=null&&g(e,["setup","proactivity"],se),n}function IH(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],AH(i));const o=p(t,["responseModalities"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","responseModalities"],o);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],Ub(H_(_)));const T=p(t,["thinkingConfig"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","thinkingConfig"],T);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const I=p(t,["systemInstruction"]);e!==void 0&&I!=null&&g(e,["setup","systemInstruction"],wn(I));const k=p(t,["tools"]);if(e!==void 0&&k!=null){let K=Ll(k);Array.isArray(K)&&(K=K.map(P=>OH(Pl(P)))),g(e,["setup","tools"],K)}const V=p(t,["sessionResumption"]);e!==void 0&&V!=null&&g(e,["setup","sessionResumption"],V);const U=p(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&g(e,["setup","inputAudioTranscription"],U);const G=p(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const B=p(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&g(e,["setup","realtimeInputConfig"],B);const ie=p(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&g(e,["setup","contextWindowCompression"],ie);const se=p(t,["proactivity"]);return e!==void 0&&se!=null&&g(e,["setup","proactivity"],se),n}function bH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],st(t,i));const o=p(e,["config"]);return o!=null&&g(n,["config"],xH(o,n)),n}function RH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],st(t,i));const o=p(e,["config"]);return o!=null&&g(n,["config"],IH(o,n)),n}function NH(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function kH(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["weightedPrompts"],i)}return e}function MH(t){const e={},n=p(t,["media"]);if(n!=null){let d=Cb(n);Array.isArray(d)&&(d=d.map(m=>Md(m))),g(e,["mediaChunks"],d)}const i=p(t,["audio"]);i!=null&&g(e,["audio"],Md(xb(i)));const o=p(t,["audioStreamEnd"]);o!=null&&g(e,["audioStreamEnd"],o);const a=p(t,["video"]);a!=null&&g(e,["video"],Md(wb(a)));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const f=p(t,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function DH(t){const e={},n=p(t,["media"]);if(n!=null){let d=Cb(n);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const i=p(t,["audio"]);i!=null&&g(e,["audio"],xb(i));const o=p(t,["audioStreamEnd"]);o!=null&&g(e,["audioStreamEnd"],o);const a=p(t,["video"]);a!=null&&g(e,["video"],wb(a));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const f=p(t,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function PH(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const i=p(t,["serverContent"]);i!=null&&g(e,["serverContent"],i);const o=p(t,["toolCall"]);o!=null&&g(e,["toolCall"],o);const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const l=p(t,["usageMetadata"]);l!=null&&g(e,["usageMetadata"],FH(l));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const f=p(t,["sessionResumptionUpdate"]);return f!=null&&g(e,["sessionResumptionUpdate"],f),e}function LH(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],EH(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],TH(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],Md(f));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const T=p(t,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function VH(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ub(t){const e={},n=p(t,["languageCode"]);n!=null&&g(e,["languageCode"],n);const i=p(t,["voiceConfig"]);if(i!=null&&g(e,["voiceConfig"],i),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function UH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],CH(c));const f=p(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],wH(f));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function OH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>SH(T))),g(e,["functionDeclarations"],_)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=p(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const f=p(t,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function FH(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&g(e,["cachedContentTokenCount"],i);const o=p(t,["candidatesTokenCount"]);o!=null&&g(e,["responseTokenCount"],o);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const l=p(t,["thoughtsTokenCount"]);l!=null&&g(e,["thoughtsTokenCount"],l);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const f=p(t,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(I=>I)),g(e,["promptTokensDetails"],S)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(I=>I)),g(e,["cacheTokensDetails"],S)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(I=>I)),g(e,["responseTokensDetails"],S)}const _=p(t,["toolUsePromptTokensDetails"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(I=>I)),g(e,["toolUsePromptTokensDetails"],S)}const T=p(t,["trafficType"]);return T!=null&&g(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zH(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function BH(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],qH(i));const o=p(t,["tokenCount"]);o!=null&&g(e,["tokenCount"],o);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&g(e,["index"],f);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(S=>S)),g(e,["safetyRatings"],T)}const _=p(t,["urlContextMetadata"]);return _!=null&&g(e,["urlContextMetadata"],_),e}function qH(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["citations"],i)}return e}function HH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["contents"]);if(o!=null){let a=_i(o);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["contents"],a)}return n}function GH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["tokensInfo"],o)}return e}function $H(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&g(e,["statistics"],YH(i)),e}function YH(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&g(e,["tokenCount"],i),e}function Vh(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>t8(a))),g(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function KH(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&g(e,["computeControl"],i),e}function JH(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function QH(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&g(e,["systemInstruction"],wn(i));const o=p(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>qb(c))),g(e,["tools"],l)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],zG(a)),n}function jH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["contents"]);if(o!=null){let l=_i(o);Array.isArray(l)&&(l=l.map(c=>Vh(c))),g(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&JH(a),n}function XH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["contents"]);if(o!=null){let l=_i(o);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&QH(a,n),n}function WH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);i!=null&&g(e,["totalTokens"],i);const o=p(t,["cachedContentTokenCount"]);return o!=null&&g(e,["cachedContentTokenCount"],o),e}function ZH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);return i!=null&&g(e,["totalTokens"],i),e}function eG(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],st(t,i)),n}function tG(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],st(t,i)),n}function nG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function iG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function rG(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["negativePrompt"]);e!==void 0&&o!=null&&g(e,["parameters","negativePrompt"],o);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const _=p(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&g(e,["parameters","includeSafetyAttributes"],_);const T=p(t,["includeRaiReason"]);e!==void 0&&T!=null&&g(e,["parameters","includeRaiReason"],T);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const I=p(t,["outputMimeType"]);e!==void 0&&I!=null&&g(e,["parameters","outputOptions","mimeType"],I);const k=p(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&g(e,["parameters","outputOptions","compressionQuality"],k);const V=p(t,["addWatermark"]);e!==void 0&&V!=null&&g(e,["parameters","addWatermark"],V);const U=p(t,["labels"]);e!==void 0&&U!=null&&g(e,["labels"],U);const G=p(t,["editMode"]);e!==void 0&&G!=null&&g(e,["parameters","editMode"],G);const B=p(t,["baseSteps"]);return e!==void 0&&B!=null&&g(e,["parameters","editConfig","baseSteps"],B),n}function oG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>a8(f))),g(n,["instances[0]","referenceImages"],c)}const l=p(e,["config"]);return l!=null&&rG(l,n),n}function sG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Uh(a))),g(e,["generatedImages"],o)}return e}function aG(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const o=p(t,["title"]);e!==void 0&&o!=null&&g(e,["requests[]","title"],o);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lG(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["instances[]","task_type"],i);const o=p(t,["title"]);e!==void 0&&o!=null&&g(e,["instances[]","title"],o);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const l=p(t,["mimeType"]);e!==void 0&&l!=null&&g(e,["instances[]","mimeType"],l);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function uG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["contents"]);if(o!=null){let c=z_(t,o);Array.isArray(c)&&(c=c.map(f=>f)),g(n,["requests[]","content"],c)}const a=p(e,["config"]);a!=null&&aG(a,n);const l=p(e,["model"]);return l!==void 0&&g(n,["requests[]","model"],st(t,l)),n}function cG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["contents"]);if(o!=null){let l=z_(t,o);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["instances[]","content"],l)}const a=p(e,["config"]);return a!=null&&lG(a,n),n}function fG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["embeddings"],a)}const o=p(t,["metadata"]);return o!=null&&g(e,["metadata"],o),e}function dG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>$H(l))),g(e,["embeddings"],a)}const o=p(t,["metadata"]);return o!=null&&g(e,["metadata"],o),e}function hG(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&g(e,["deployedModelId"],i),e}function pG(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function mG(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const o=p(t,["name"]);if(o!=null&&g(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gG(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yG(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["parameters"]);o!=null&&g(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function _G(t,e,n){const i={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],Vh(wn(o)));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&g(i,["topP"],l);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&g(i,["candidateCount"],f);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const _=p(e,["responseLogprobs"]);_!=null&&g(i,["responseLogprobs"],_);const T=p(e,["logprobs"]);T!=null&&g(i,["logprobs"],T);const S=p(e,["presencePenalty"]);S!=null&&g(i,["presencePenalty"],S);const I=p(e,["frequencyPenalty"]);I!=null&&g(i,["frequencyPenalty"],I);const k=p(e,["seed"]);k!=null&&g(i,["seed"],k);const V=p(e,["responseMimeType"]);V!=null&&g(i,["responseMimeType"],V);const U=p(e,["responseSchema"]);U!=null&&g(i,["responseSchema"],B_(U));const G=p(e,["responseJsonSchema"]);if(G!=null&&g(i,["responseJsonSchema"],G),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=p(e,["safetySettings"]);if(n!==void 0&&B!=null){let O=B;Array.isArray(O)&&(O=O.map(F=>l8(F))),g(n,["safetySettings"],O)}const ie=p(e,["tools"]);if(n!==void 0&&ie!=null){let O=Ll(ie);Array.isArray(O)&&(O=O.map(F=>m8(Pl(F)))),g(n,["tools"],O)}const se=p(e,["toolConfig"]);if(n!==void 0&&se!=null&&g(n,["toolConfig"],p8(se)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=p(e,["cachedContent"]);n!==void 0&&K!=null&&g(n,["cachedContent"],io(t,K));const P=p(e,["responseModalities"]);P!=null&&g(i,["responseModalities"],P);const L=p(e,["mediaResolution"]);L!=null&&g(i,["mediaResolution"],L);const D=p(e,["speechConfig"]);if(D!=null&&g(i,["speechConfig"],q_(D)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=p(e,["thinkingConfig"]);b!=null&&g(i,["thinkingConfig"],b);const N=p(e,["imageConfig"]);return N!=null&&g(i,["imageConfig"],$G(N)),i}function vG(t,e,n){const i={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],wn(o));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&g(i,["topP"],l);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&g(i,["candidateCount"],f);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const _=p(e,["responseLogprobs"]);_!=null&&g(i,["responseLogprobs"],_);const T=p(e,["logprobs"]);T!=null&&g(i,["logprobs"],T);const S=p(e,["presencePenalty"]);S!=null&&g(i,["presencePenalty"],S);const I=p(e,["frequencyPenalty"]);I!=null&&g(i,["frequencyPenalty"],I);const k=p(e,["seed"]);k!=null&&g(i,["seed"],k);const V=p(e,["responseMimeType"]);V!=null&&g(i,["responseMimeType"],V);const U=p(e,["responseSchema"]);U!=null&&g(i,["responseSchema"],B_(U));const G=p(e,["responseJsonSchema"]);G!=null&&g(i,["responseJsonSchema"],G);const B=p(e,["routingConfig"]);B!=null&&g(i,["routingConfig"],B);const ie=p(e,["modelSelectionConfig"]);ie!=null&&g(i,["modelConfig"],ie);const se=p(e,["safetySettings"]);if(n!==void 0&&se!=null){let Q=se;Array.isArray(Q)&&(Q=Q.map(de=>de)),g(n,["safetySettings"],Q)}const K=p(e,["tools"]);if(n!==void 0&&K!=null){let Q=Ll(K);Array.isArray(Q)&&(Q=Q.map(de=>qb(Pl(de)))),g(n,["tools"],Q)}const P=p(e,["toolConfig"]);n!==void 0&&P!=null&&g(n,["toolConfig"],P);const L=p(e,["labels"]);n!==void 0&&L!=null&&g(n,["labels"],L);const D=p(e,["cachedContent"]);n!==void 0&&D!=null&&g(n,["cachedContent"],io(t,D));const b=p(e,["responseModalities"]);b!=null&&g(i,["responseModalities"],b);const N=p(e,["mediaResolution"]);N!=null&&g(i,["mediaResolution"],N);const O=p(e,["speechConfig"]);O!=null&&g(i,["speechConfig"],Bb(q_(O)));const F=p(e,["audioTimestamp"]);F!=null&&g(i,["audioTimestamp"],F);const me=p(e,["thinkingConfig"]);me!=null&&g(i,["thinkingConfig"],me);const he=p(e,["imageConfig"]);return he!=null&&g(i,["imageConfig"],YG(he)),i}function aw(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["contents"]);if(o!=null){let l=_i(o);Array.isArray(l)&&(l=l.map(c=>Vh(c))),g(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],_G(t,a,n)),n}function lw(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["contents"]);if(o!=null){let l=_i(o);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],vG(t,a,n)),n}function uw(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>BH(d))),g(e,["candidates"],f)}const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function cw(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const l=p(t,["promptFeedback"]);l!=null&&g(e,["promptFeedback"],l);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const f=p(t,["usageMetadata"]);return f!=null&&g(e,["usageMetadata"],f),e}function EG(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const _=p(t,["outputMimeType"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","mimeType"],_);const T=p(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&g(e,["parameters","outputOptions","compressionQuality"],T),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&g(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function TG(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["negativePrompt"]);e!==void 0&&o!=null&&g(e,["parameters","negativePrompt"],o);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const _=p(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&g(e,["parameters","includeSafetyAttributes"],_);const T=p(t,["includeRaiReason"]);e!==void 0&&T!=null&&g(e,["parameters","includeRaiReason"],T);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const I=p(t,["outputMimeType"]);e!==void 0&&I!=null&&g(e,["parameters","outputOptions","mimeType"],I);const k=p(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&g(e,["parameters","outputOptions","compressionQuality"],k);const V=p(t,["addWatermark"]);e!==void 0&&V!=null&&g(e,["parameters","addWatermark"],V);const U=p(t,["labels"]);e!==void 0&&U!=null&&g(e,["labels"],U);const G=p(t,["imageSize"]);e!==void 0&&G!=null&&g(e,["parameters","sampleImageSize"],G);const B=p(t,["enhancePrompt"]);return e!==void 0&&B!=null&&g(e,["parameters","enhancePrompt"],B),n}function SG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const a=p(e,["config"]);return a!=null&&EG(a,n),n}function AG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const a=p(e,["config"]);return a!=null&&TG(a,n),n}function CG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>VG(l))),g(e,["generatedImages"],a)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&g(e,["positivePromptSafetyAttributes"],Fb(o)),e}function wG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Uh(l))),g(e,["generatedImages"],a)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&g(e,["positivePromptSafetyAttributes"],zb(o)),e}function xG(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=p(t,["durationSeconds"]);if(e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const l=p(t,["resolution"]);e!==void 0&&l!=null&&g(e,["parameters","resolution"],l);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const d=p(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=p(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],Oh(m));const _=p(t,["referenceImages"]);if(e!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(S=>b8(S))),g(e,["instances[0]","referenceImages"],T)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function IG(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const a=p(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const l=p(t,["durationSeconds"]);e!==void 0&&l!=null&&g(e,["parameters","durationSeconds"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&g(e,["parameters","aspectRatio"],f);const d=p(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const _=p(t,["pubsubTopic"]);e!==void 0&&_!=null&&g(e,["parameters","pubsubTopic"],_);const T=p(t,["negativePrompt"]);e!==void 0&&T!=null&&g(e,["parameters","negativePrompt"],T);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const I=p(t,["generateAudio"]);e!==void 0&&I!=null&&g(e,["parameters","generateAudio"],I);const k=p(t,["lastFrame"]);e!==void 0&&k!=null&&g(e,["instances[0]","lastFrame"],Fi(k));const V=p(t,["referenceImages"]);if(e!==void 0&&V!=null){let B=V;Array.isArray(B)&&(B=B.map(ie=>R8(ie))),g(e,["instances[0]","referenceImages"],B)}const U=p(t,["mask"]);e!==void 0&&U!=null&&g(e,["instances[0]","mask"],I8(U));const G=p(t,["compressionQuality"]);return e!==void 0&&G!=null&&g(e,["parameters","compressionQuality"],G),n}function bG(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],MG(l)),e}function RG(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],DG(l)),e}function NG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],Oh(a));const l=p(e,["video"]);l!=null&&g(n,["instances[0]","video"],Hb(l));const c=p(e,["source"]);c!=null&&PG(c,n);const f=p(e,["config"]);return f!=null&&xG(f,n),n}function kG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],Fi(a));const l=p(e,["video"]);l!=null&&g(n,["instances[0]","video"],Gb(l));const c=p(e,["source"]);c!=null&&LG(c,n);const f=p(e,["config"]);return f!=null&&IG(f,n),n}function MG(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>OG(l))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&g(e,["raiMediaFilteredReasons"],o),e}function DG(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>FG(l))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&g(e,["raiMediaFilteredReasons"],o),e}function PG(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Oh(o));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],Hb(a)),n}function LG(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Fi(o));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],Gb(a)),n}function VG(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],KG(n));const i=p(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const o=p(t,["_self"]);return o!=null&&g(e,["safetyAttributes"],Fb(o)),e}function Uh(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],Ob(n));const i=p(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const o=p(t,["_self"]);o!=null&&g(e,["safetyAttributes"],zb(o));const a=p(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function UG(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],Ob(n));const i=p(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["labels"],o)}return e}function OG(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],w8(n)),e}function FG(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],x8(n)),e}function zG(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const o=p(t,["audioTimestamp"]);o!=null&&g(e,["audioTimestamp"],o);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const l=p(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const f=p(t,["logprobs"]);f!=null&&g(e,["logprobs"],f);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const _=p(t,["presencePenalty"]);_!=null&&g(e,["presencePenalty"],_);const T=p(t,["responseLogprobs"]);T!=null&&g(e,["responseLogprobs"],T);const S=p(t,["responseMimeType"]);S!=null&&g(e,["responseMimeType"],S);const I=p(t,["responseModalities"]);I!=null&&g(e,["responseModalities"],I);const k=p(t,["responseSchema"]);k!=null&&g(e,["responseSchema"],k);const V=p(t,["routingConfig"]);V!=null&&g(e,["routingConfig"],V);const U=p(t,["seed"]);U!=null&&g(e,["seed"],U);const G=p(t,["speechConfig"]);G!=null&&g(e,["speechConfig"],Bb(G));const B=p(t,["stopSequences"]);B!=null&&g(e,["stopSequences"],B);const ie=p(t,["temperature"]);ie!=null&&g(e,["temperature"],ie);const se=p(t,["thinkingConfig"]);se!=null&&g(e,["thinkingConfig"],se);const K=p(t,["topK"]);K!=null&&g(e,["topK"],K);const P=p(t,["topP"]);if(P!=null&&g(e,["topP"],P),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function BG(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],st(t,i)),n}function qG(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],st(t,i)),n}function HG(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function GG(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function $G(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function YG(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);i!=null&&g(e,["imageSize"],i);const o=p(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const a=p(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function KG(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ls(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Ob(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["imageBytes"],ls(i));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function Oh(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ls(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Fi(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&g(e,["bytesBase64Encoded"],ls(i));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function JG(t,e,n){const i={},o=p(e,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const l=p(e,["filter"]);n!==void 0&&l!=null&&g(n,["_query","filter"],l);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],Nb(t,c)),i}function QG(t,e,n){const i={},o=p(e,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const l=p(e,["filter"]);n!==void 0&&l!=null&&g(n,["_query","filter"],l);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],Nb(t,c)),i}function jG(t,e){const n={},i=p(e,["config"]);return i!=null&&JG(t,i,n),n}function XG(t,e){const n={},i=p(e,["config"]);return i!=null&&QG(t,i,n),n}function WG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["_self"]);if(o!=null){let a=kb(o);Array.isArray(a)&&(a=a.map(l=>cy(l))),g(e,["models"],a)}return e}function ZG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["_self"]);if(o!=null){let a=kb(o);Array.isArray(a)&&(a=a.map(l=>fy(l))),g(e,["models"],a)}return e}function e8(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&g(e,["maskClasses"],i);const o=p(t,["maskDilation"]);return o!=null&&g(e,["dilation"],o),e}function cy(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const o=p(t,["description"]);o!=null&&g(e,["description"],o);const a=p(t,["version"]);a!=null&&g(e,["version"],a);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],g8(l));const c=p(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const f=p(t,["outputTokenLimit"]);f!=null&&g(e,["outputTokenLimit"],f);const d=p(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=p(t,["temperature"]);m!=null&&g(e,["temperature"],m);const _=p(t,["maxTemperature"]);_!=null&&g(e,["maxTemperature"],_);const T=p(t,["topP"]);T!=null&&g(e,["topP"],T);const S=p(t,["topK"]);S!=null&&g(e,["topK"],S);const I=p(t,["thinking"]);return I!=null&&g(e,["thinking"],I),e}function fy(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const o=p(t,["description"]);o!=null&&g(e,["description"],o);const a=p(t,["versionId"]);a!=null&&g(e,["version"],a);const l=p(t,["deployedModels"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(T=>hG(T))),g(e,["endpoints"],_)}const c=p(t,["labels"]);c!=null&&g(e,["labels"],c);const f=p(t,["_self"]);f!=null&&g(e,["tunedModelInfo"],y8(f));const d=p(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=p(t,["checkpoints"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(T=>T)),g(e,["checkpoints"],_)}return e}function t8(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],pG(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],mG(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],zH(f));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const T=p(t,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function n8(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Fi(n)),e}function i8(t,e){const n={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["baseSteps"]);e!==void 0&&o!=null&&g(e,["parameters","baseSteps"],o);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const d=p(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const _=p(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","compressionQuality"],_);const T=p(t,["enhancePrompt"]);e!==void 0&&T!=null&&g(e,["parameters","enhancePrompt"],T);const S=p(t,["labels"]);return e!==void 0&&S!=null&&g(e,["labels"],S),n}function r8(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["source"]);o!=null&&s8(o,n);const a=p(e,["config"]);return a!=null&&i8(a,n),n}function o8(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Uh(o))),g(e,["generatedImages"],i)}return e}function s8(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const o=p(t,["personImage"]);e!==void 0&&o!=null&&g(e,["instances[0]","personImage","image"],Fi(o));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>n8(c))),g(e,["instances[0]","productImages"],l)}return n}function a8(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Fi(n));const i=p(t,["referenceId"]);i!=null&&g(e,["referenceId"],i);const o=p(t,["referenceType"]);o!=null&&g(e,["referenceType"],o);const a=p(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],e8(a));const l=p(t,["controlImageConfig"]);l!=null&&g(e,["controlImageConfig"],KH(l));const c=p(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const f=p(t,["subjectImageConfig"]);return f!=null&&g(e,["subjectImageConfig"],f),e}function Fb(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const o=p(t,["contentType"]);return o!=null&&g(e,["contentType"],o),e}function zb(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const o=p(t,["contentType"]);return o!=null&&g(e,["contentType"],o),e}function l8(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function u8(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Fi(n)),e}function c8(t,e){const n={},i=p(t,["mode"]);e!==void 0&&i!=null&&g(e,["parameters","mode"],i);const o=p(t,["maxPredictions"]);e!==void 0&&o!=null&&g(e,["parameters","maxPredictions"],o);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const l=p(t,["maskDilation"]);e!==void 0&&l!=null&&g(e,["parameters","maskDilation"],l);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const f=p(t,["labels"]);return e!==void 0&&f!=null&&g(e,["labels"],f),n}function f8(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["source"]);o!=null&&h8(o,n);const a=p(e,["config"]);return a!=null&&c8(a,n),n}function d8(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UG(o))),g(e,["generatedMasks"],i)}return e}function h8(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Fi(o));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],u8(a)),n}function Bb(t){const e={},n=p(t,["languageCode"]);n!=null&&g(e,["languageCode"],n);const i=p(t,["voiceConfig"]);if(i!=null&&g(e,["voiceConfig"],i),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function p8(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],gG(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function m8(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],HG(c));const f=p(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],GG(f));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function qb(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>yG(T))),g(e,["functionDeclarations"],_)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=p(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const f=p(t,["googleMaps"]);f!=null&&g(e,["googleMaps"],f);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function g8(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["updateTime"]);return o!=null&&g(e,["updateTime"],o),e}function y8(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["updateTime"]);return o!=null&&g(e,["updateTime"],o),e}function _8(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function v8(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function E8(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],st(t,i));const o=p(e,["config"]);return o!=null&&_8(o,n),n}function T8(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["config"]);return o!=null&&v8(o,n),n}function S8(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=p(t,["includeRaiReason"]);e!==void 0&&l!=null&&g(e,["parameters","includeRaiReason"],l);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const d=p(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=p(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const _=p(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const T=p(t,["numberOfImages"]);e!==void 0&&T!=null&&g(e,["parameters","sampleCount"],T);const S=p(t,["mode"]);return e!==void 0&&S!=null&&g(e,["parameters","mode"],S),n}function A8(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],st(t,i));const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],Fi(o));const a=p(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=p(e,["config"]);return l!=null&&S8(l,n),n}function C8(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Uh(a))),g(e,["generatedImages"],o)}return e}function w8(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],ls(i));const o=p(t,["encoding"]);return o!=null&&g(e,["mimeType"],o),e}function x8(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],ls(i));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function I8(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Fi(n));const i=p(t,["maskMode"]);return i!=null&&g(e,["maskMode"],i),e}function b8(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Oh(n));const i=p(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function R8(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Fi(n));const i=p(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function Hb(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["videoBytes"]);i!=null&&g(e,["encodedVideo"],ls(i));const o=p(t,["mimeType"]);return o!=null&&g(e,["encoding"],o),e}function Gb(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&g(e,["bytesBase64Encoded"],ls(i));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N8(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["displayName"],i),n}function k8(t){const e={},n=p(t,["config"]);return n!=null&&N8(n,e),e}function M8(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function D8(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&M8(i,e),e}function P8(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function L8(t,e){const n={},i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function V8(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const o=p(t,["done"]);o!=null&&g(e,["done"],o);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],O8(l)),e}function U8(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=p(t,["fileName"]);i!=null&&g(e,["fileName"],i);const o=p(t,["config"]);return o!=null&&L8(o,e),e}function O8(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const o=p(t,["documentName"]);return o!=null&&g(e,["documentName"],o),e}function F8(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function z8(t){const e={},n=p(t,["config"]);return n!=null&&F8(n,e),e}function B8(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["fileSearchStores"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["fileSearchStores"],a)}return e}function $b(t,e){const n={},i=p(t,["mimeType"]);e!==void 0&&i!=null&&g(e,["mimeType"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["customMetadata"],c)}const l=p(t,["chunkingConfig"]);return e!==void 0&&l!=null&&g(e,["chunkingConfig"],l),n}function q8(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=p(t,["config"]);return i!=null&&$b(i,e),e}function H8(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G8="Content-Type",$8="X-Server-Timeout",Y8="User-Agent",dy="x-goog-api-client",K8="1.31.0",J8=`google-genai-sdk/${K8}`,Q8="v1beta1",j8="v1beta",fw=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class X8{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Q8,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:j8,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))o.searchParams.append(l,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=l}return n&&n.extraBody!==null&&W8(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await dw(o),new ay(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await dw(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return ul(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:f}=yield wt(o.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(f,{stream:!0});try{const _=JSON.parse(d);if("error"in _){const T=JSON.parse(JSON.stringify(_.error)),S=T.status,I=T.code,k=`got status: ${S}. ${JSON.stringify(_)}`;if(I>=400&&I<600)throw new Lh({message:k,status:I})}}catch(_){if(_.name==="ApiError")throw _}l+=d;let m=l.match(fw);for(;m;){const _=m[1];try{const T=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield wt(new ay(T)),l=l.slice(m[0].length),m=l.match(fw)}catch(T){throw new Error(`exception parsing stream chunk ${_}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=J8+" "+this.clientOptions.userAgentExtra;return e[Y8]=n,e[dy]=n,e[G8]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))i.append(o,a);e.timeout&&e.timeout>0&&i.append($8,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);o.sizeBytes=String(l.size);const c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=c;const f={file:o},d=this.getFileName(e),m=ve("upload/v1beta/files",f._url),_=await this.fetchUploadUrl(m,o.sizeBytes,o.mimeType,d,f,n==null?void 0:n.httpOptions);return a.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,i){var o;const a=this.clientOptions.uploader,l=await a.stat(n),c=String(l.size),f=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),_={};i!=null&&$b(i,_);const T=await this.fetchUploadUrl(d,c,f,m,_,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(n,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,a,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function dw(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Lh({message:o,status:n}):new Error(o)}}function W8(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,l){const c=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],m=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[f]=i(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z8="mcp_used/unknown";let e7=!1;function Yb(t){for(const e of t)if(t7(e)||typeof e=="object"&&"inputSchema"in e)return!0;return e7}function Kb(t){var e;const n=(e=t[dy])!==null&&e!==void 0?e:"";t[dy]=(n+` ${Z8}`).trimStart()}function t7(t){return t!==null&&typeof t=="object"&&t instanceof G_}function n7(t,e=100){return ul(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield wt(t.listTools({cursor:i}));for(const l of a.tools)yield yield wt(l),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class G_{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new G_(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},l=[];for(const m of this.mcpClients)try{for(var c=!0,f=(n=void 0,rc(n7(m))),d;d=await f.next(),e=d.done,!e;c=!0){o=d.value,c=!1;const _=o;l.push(_);const T=_.name;if(a[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);a[T]=m}}catch(_){n={error:_}}finally{try{!c&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),PB(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function i7(t,e,n){const i=new xB;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class r7{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=a7(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(B=>{d=B}),_=e.callbacks,T=function(){d({})},S=this.apiClient,I={onopen:T,onmessage:B=>{i7(S,_.onmessage,B)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(B){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(B){}},k=this.webSocketFactory.create(f,s7(l),I);k.connect(),await m;const G={setup:{model:st(this.apiClient,e.model)}};return k.send(JSON.stringify(G)),new o7(k,this.apiClient)}}class o7{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=kH(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=NH(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(tl.PLAY)}pause(){this.sendPlaybackControl(tl.PAUSE)}stop(){this.sendPlaybackControl(tl.STOP)}resetContext(){this.sendPlaybackControl(tl.RESET_CONTEXT)}close(){this.conn.close()}}function s7(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function a7(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l7="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function u7(t,e,n){const i=new wB;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const l=PH(a);Object.assign(i,l)}else Object.assign(i,a);e(i)}class c7{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new r7(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Yb(e.config.tools)&&Kb(_);const T=p7(_);if(this.apiClient.isVertexAI())m=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,m);else{const D=this.apiClient.getApiKey();let b="BidiGenerateContent",N="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),b="BidiGenerateContentConstrained",N="access_token"),m=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${b}?${N}=${D}`}let S=()=>{};const I=new Promise(D=>{S=D}),k=e.callbacks,V=function(){var D;(D=k==null?void 0:k.onopen)===null||D===void 0||D.call(k),S({})},U=this.apiClient,G={onopen:V,onmessage:D=>{u7(U,k.onmessage,D)},onerror:(n=k==null?void 0:k.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=k==null?void 0:k.onclose)!==null&&i!==void 0?i:function(D){}},B=this.webSocketFactory.create(m,h7(T),G);B.connect(),await I;let ie=st(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ie.startsWith("publishers/")){const D=this.apiClient.getProject(),b=this.apiClient.getLocation();ie=`projects/${D}/locations/${b}/`+ie}let se={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rh.AUDIO]}:e.config.responseModalities=[rh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],P=[];for(const D of K)if(this.isCallableTool(D)){const b=D;P.push(await b.tool())}else P.push(D);P.length>0&&(e.config.tools=P);const L={model:ie,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?se=RH(this.apiClient,L):se=bH(this.apiClient,L),delete se.config,B.send(JSON.stringify(se)),new d7(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const f7={turnComplete:!0};class d7{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=_i(n.turns),e.isVertexAI()||(i=i.map(o=>Vh(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(l7)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},f7),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:DH(e)}:n={realtimeInput:MH(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function h7(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function p7(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hw=10;function pw(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(cl(l)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function cl(t){return"callTool"in t&&typeof t.callTool=="function"}function m7(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>cl(o)))!==null&&i!==void 0?i:!1}function mw(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(cl(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(o)}),n}function gw(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g7 extends no{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!m7(n)||pw(n.config))return await this.generateContentInternal(f);const d=mw(n);if(d.length>0){const k=d.map(V=>`tools[${V}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let m,_;const T=_i(f.contents),S=(a=(o=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:hw;let I=0;for(;I<S&&(m=await this.generateContentInternal(f),!(!m.functionCalls||m.functionCalls.length===0));){const k=m.candidates[0].content,V=[];for(const U of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(cl(U)){const B=await U.callTool(m.functionCalls);V.push(...B)}I++,_={role:"user",parts:V},f.contents=_i(f.contents),f.contents.push(k),f.contents.push(_),gw(f.config)&&(T.push(k),T.push(_))}return gw(f.config)&&(m.automaticFunctionCallingHistory=T),m},this.generateContentStream=async n=>{var i,o,a,l,c;if(this.maybeMoveToResponseJsonSchem(n),pw(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const f=mw(n);if(f.length>0){const _=f.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const l=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new oa(Wr.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,a,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async f=>cl(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&Yb(e.config.tools)){const f=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Kb(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(cl(l)){const c=l,f=await c.tool();for(const d of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:hw;let l=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,m,_){var T,S;return ul(this,arguments,function*(){for(var I,k,V,U;c<a;){l&&(c++,l=!1);const se=yield wt(d.processParamsMaybeAddMcpUsage(_)),K=yield wt(d.generateContentStreamInternal(se)),P=[],L=[];try{for(var G=!0,B=(k=void 0,rc(K)),ie;ie=yield wt(B.next()),I=ie.done,!I;G=!0){U=ie.value,G=!1;const D=U;if(yield yield wt(D),D.candidates&&(!((T=D.candidates[0])===null||T===void 0)&&T.content)){L.push(D.candidates[0].content);for(const b of(S=D.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(c<a&&b.functionCall){if(!b.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(b.functionCall.name)){const N=yield wt(m.get(b.functionCall.name).callTool([b.functionCall]));P.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${b.functionCall.name}`)}}}}catch(D){k={error:D}}finally{try{!G&&!I&&(V=B.return)&&(yield wt(V.call(B)))}finally{if(k)throw k.error}}if(P.length>0){l=!0;const D=new Gu;D.candidates=[{content:{role:"user",parts:P}}],yield yield wt(D);const b=[];b.push(...L),b.push({role:"user",parts:P});const N=_i(_.contents).concat(b);_.contents=N}else break}})})(this,f,e)}async generateContentInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=lw(this.apiClient,e);return c=ve("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=cw(m),T=new Gu;return Object.assign(T,_),T})}else{const d=aw(this.apiClient,e);return c=ve("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=uw(m),T=new Gu;return Object.assign(T,_),T})}}async generateContentStreamInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=lw(this.apiClient,e);return c=ve("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(_){return ul(this,arguments,function*(){var T,S,I,k;try{for(var V=!0,U=rc(_),G;G=yield wt(U.next()),T=G.done,!T;V=!0){k=G.value,V=!1;const B=k,ie=cw(yield wt(B.json()));ie.sdkHttpResponse={headers:B.headers};const se=new Gu;Object.assign(se,ie),yield yield wt(se)}}catch(B){S={error:B}}finally{try{!V&&!T&&(I=U.return)&&(yield wt(I.call(U)))}finally{if(S)throw S.error}}})})}else{const d=aw(this.apiClient,e);return c=ve("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(_){return ul(this,arguments,function*(){var T,S,I,k;try{for(var V=!0,U=rc(_),G;G=yield wt(U.next()),T=G.done,!T;V=!0){k=G.value,V=!1;const B=k,ie=uw(yield wt(B.json()));ie.sdkHttpResponse={headers:B.headers};const se=new Gu;Object.assign(se,ie),yield yield wt(se)}}catch(B){S={error:B}}finally{try{!V&&!T&&(I=U.return)&&(yield wt(I.call(U)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=cG(this.apiClient,e);return c=ve("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=dG(m),T=new GC;return Object.assign(T,_),T})}else{const d=uG(this.apiClient,e);return c=ve("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=fG(m),T=new GC;return Object.assign(T,_),T})}}async generateImagesInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=AG(this.apiClient,e);return c=ve("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=wG(m),T=new $C;return Object.assign(T,_),T})}else{const d=SG(this.apiClient,e);return c=ve("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=CG(m),T=new $C;return Object.assign(T,_),T})}}async editImageInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=oG(this.apiClient,e);return a=ve("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const d=sG(f),m=new pB;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=A8(this.apiClient,e);return a=ve("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const d=C8(f),m=new mB;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=r8(this.apiClient,e);return a=ve("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const d=o8(f),m=new gB;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=f8(this.apiClient,e);return a=ve("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const d=d8(f),m=new yB;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=qG(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>fy(m))}else{const d=BG(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>cy(m))}}async listInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=XG(this.apiClient,e);return c=ve("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=ZG(m),T=new YC;return Object.assign(T,_),T})}else{const d=jG(this.apiClient,e);return c=ve("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=WG(m),T=new YC;return Object.assign(T,_),T})}}async update(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=T8(this.apiClient,e);return c=ve("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>fy(m))}else{const d=E8(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>cy(m))}}async delete(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=tG(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=iG(m),T=new KC;return Object.assign(T,_),T})}else{const d=eG(this.apiClient,e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=nG(m),T=new KC;return Object.assign(T,_),T})}}async countTokens(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=XH(this.apiClient,e);return c=ve("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=ZH(m),T=new JC;return Object.assign(T,_),T})}else{const d=jH(this.apiClient,e);return c=ve("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=WH(m),T=new JC;return Object.assign(T,_),T})}}async computeTokens(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=HH(this.apiClient,e);return a=ve("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const d=GH(f),m=new _B;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=kG(this.apiClient,e);return c=ve("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>{const _=RG(m),T=new oh;return Object.assign(T,_),T})}else{const d=NG(this.apiClient,e);return c=ve("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>{const _=bG(m),T=new oh;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y7 extends no{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=lB(e);return c=ve("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l}else{const d=aB(e);return c=ve("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=eB(e);return a=ve("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _7(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function v7(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>b7(a))),g(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function E7(t,e,n){const i={},o=p(e,["expireTime"]);n!==void 0&&o!=null&&g(n,["expireTime"],o);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const l=p(e,["uses"]);n!==void 0&&l!=null&&g(n,["uses"],l);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],I7(t,c));const f=p(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&g(n,["fieldMask"],f),i}function T7(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],E7(t,i,n)),n}function S7(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function A7(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const o=p(t,["name"]);if(o!=null&&g(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C7(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function w7(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function x7(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const o=p(t,["responseModalities"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","responseModalities"],o);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],H_(_));const T=p(t,["thinkingConfig"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","thinkingConfig"],T);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const I=p(t,["systemInstruction"]);e!==void 0&&I!=null&&g(e,["setup","systemInstruction"],v7(wn(I)));const k=p(t,["tools"]);if(e!==void 0&&k!=null){let K=Ll(k);Array.isArray(K)&&(K=K.map(P=>N7(Pl(P)))),g(e,["setup","tools"],K)}const V=p(t,["sessionResumption"]);e!==void 0&&V!=null&&g(e,["setup","sessionResumption"],R7(V));const U=p(t,["inputAudioTranscription"]);e!==void 0&&U!=null&&g(e,["setup","inputAudioTranscription"],U);const G=p(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const B=p(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&g(e,["setup","realtimeInputConfig"],B);const ie=p(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&g(e,["setup","contextWindowCompression"],ie);const se=p(t,["proactivity"]);return e!==void 0&&se!=null&&g(e,["setup","proactivity"],se),n}function I7(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],st(t,i));const o=p(e,["config"]);return o!=null&&g(n,["config"],x7(o,n)),n}function b7(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],S7(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],A7(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],_7(f));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const T=p(t,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function R7(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function N7(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],C7(c));const f=p(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],w7(f));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k7(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function M7(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=k7(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];o.length>0&&(c=o.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];a&&f.push(a),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class D7 extends no{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=T7(this.apiClient,e);a=ve("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=M7(c,e.config);return o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P7(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function L7(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&P7(i,e),e}function V7(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function U7(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function O7(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const i=p(t,["config"]);return i!=null&&U7(i,e),e}function F7(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const o=p(t,["documents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z7 extends no{constructor(e){super(),this.apiClient=e,this.list=async n=>new oa(Wr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=V7(e);return a=ve("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,i;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=L7(e);o=ve("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=O7(e);return a=ve("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const d=F7(f),m=new vB;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B7 extends no{constructor(e,n=new z7(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new oa(Wr.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=k8(e);return a=ve("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async get(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=P8(e);return a=ve("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,i;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=D8(e);o=ve("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=z8(e);return a=ve("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const d=B8(f),m=new EB;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=q8(e);return a=ve("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const d=H8(f),m=new TB;return Object.assign(m,d),m})}}async importFile(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=U8(e);return a=ve("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const d=V8(f),m=new O_;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q7(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function H7(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function G7(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function $7(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function Y7(t,e,n){const i={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=p(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&g(e,["displayName"],o),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const l=p(t,["learningRateMultiplier"]);if(l!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const f=p(t,["learningRate"]);if(e!==void 0&&f!=null&&g(e,["tuningTask","hyperparameters","learningRate"],f),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function K7(t,e,n){const i={};let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const S=p(t,["validationDataset"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec"],yw(S))}else if(o==="PREFERENCE_TUNING"){const S=p(t,["validationDataset"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec"],yw(S))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const l=p(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=p(t,["epochCount"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(c==="PREFERENCE_TUNING"){const S=p(t,["epochCount"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let f=p(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=p(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(f==="PREFERENCE_TUNING"){const S=p(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const S=p(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(d==="PREFERENCE_TUNING"){const S=p(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=p(t,["adapterSize"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(m==="PREFERENCE_TUNING"){const S=p(t,["adapterSize"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=p(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const T=p(t,["beta"]);return e!==void 0&&T!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),i}function J7(t,e){const n={},i=p(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const o=p(t,["preTunedModel"]);o!=null&&g(n,["preTunedModel"],o);const a=p(t,["trainingDataset"]);a!=null&&o$(a);const l=p(t,["config"]);return l!=null&&Y7(l,n),n}function Q7(t,e){const n={},i=p(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const o=p(t,["preTunedModel"]);o!=null&&g(n,["preTunedModel"],o);const a=p(t,["trainingDataset"]);a!=null&&s$(a,n,e);const l=p(t,["config"]);return l!=null&&K7(l,n,e),n}function j7(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function X7(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function W7(t,e,n){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),i}function Z7(t,e,n){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),i}function e$(t,e){const n={},i=p(t,["config"]);return i!=null&&W7(i,n),n}function t$(t,e){const n={},i=p(t,["config"]);return i!=null&&Z7(i,n),n}function n$(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(n,["nextPageToken"],o);const a=p(t,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Jb(c))),g(n,["tuningJobs"],l)}return n}function i$(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(n,["nextPageToken"],o);const a=p(t,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>hy(c))),g(n,["tuningJobs"],l)}return n}function r$(t,e){const n={},i=p(t,["name"]);i!=null&&g(n,["model"],i);const o=p(t,["name"]);return o!=null&&g(n,["endpoint"],o),n}function o$(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(n,["examples","examples"],o)}return n}function s$(t,e,n){const i={};let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Jb(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const o=p(t,["name"]);o!=null&&g(n,["name"],o);const a=p(t,["state"]);a!=null&&g(n,["state"],bb(a));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const f=p(t,["tuningTask","completeTime"]);f!=null&&g(n,["endTime"],f);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const _=p(t,["baseModel"]);_!=null&&g(n,["baseModel"],_);const T=p(t,["_self"]);return T!=null&&g(n,["tunedModel"],r$(T)),n}function hy(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const o=p(t,["name"]);o!=null&&g(n,["name"],o);const a=p(t,["state"]);a!=null&&g(n,["state"],bb(a));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const f=p(t,["endTime"]);f!=null&&g(n,["endTime"],f);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const _=p(t,["description"]);_!=null&&g(n,["description"],_);const T=p(t,["baseModel"]);T!=null&&g(n,["baseModel"],T);const S=p(t,["tunedModel"]);S!=null&&g(n,["tunedModel"],S);const I=p(t,["preTunedModel"]);I!=null&&g(n,["preTunedModel"],I);const k=p(t,["supervisedTuningSpec"]);k!=null&&g(n,["supervisedTuningSpec"],k);const V=p(t,["preferenceOptimizationSpec"]);V!=null&&g(n,["preferenceOptimizationSpec"],V);const U=p(t,["tuningDataStats"]);U!=null&&g(n,["tuningDataStats"],U);const G=p(t,["encryptionSpec"]);G!=null&&g(n,["encryptionSpec"],G);const B=p(t,["partnerModelTuningSpec"]);B!=null&&g(n,["partnerModelTuningSpec"],B);const ie=p(t,["customBaseModel"]);ie!=null&&g(n,["customBaseModel"],ie);const se=p(t,["experiment"]);se!=null&&g(n,["experiment"],se);const K=p(t,["labels"]);K!=null&&g(n,["labels"],K);const P=p(t,["outputUri"]);P!=null&&g(n,["outputUri"],P);const L=p(t,["pipelineJob"]);L!=null&&g(n,["pipelineJob"],L);const D=p(t,["serviceAccount"]);D!=null&&g(n,["serviceAccount"],D);const b=p(t,["tunedModelDisplayName"]);b!=null&&g(n,["tunedModelDisplayName"],b);const N=p(t,["veoTuningSpec"]);return N!=null&&g(n,["veoTuningSpec"],N),n}function a$(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const o=p(t,["name"]);o!=null&&g(n,["name"],o);const a=p(t,["metadata"]);a!=null&&g(n,["metadata"],a);const l=p(t,["done"]);l!=null&&g(n,["done"],l);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function yw(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&g(n,["validationDatasetUri"],i);const o=p(t,["vertexDatasetResource"]);return o!=null&&g(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l$ extends no{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oa(Wr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),a=await this.tuneMldevInternal(o);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:sy.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=X7(e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>hy(m))}else{const d=j7(e);return c=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>Jb(m))}}async listInternal(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=t$(e);return c=ve("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=i$(m),T=new QC;return Object.assign(T,_),T})}else{const d=e$(e);return c=ve("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=n$(m),T=new QC;return Object.assign(T,_),T})}}async cancel(e){var n,i,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=H7(e);return c=ve("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=$7(m),T=new jC;return Object.assign(T,_),T})}else{const d=q7(e);return c=ve("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=G7(m),T=new jC;return Object.assign(T,_),T})}}async tuneInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Q7(e,e);return a=ve("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>hy(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=J7(e);return a=ve("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>a$(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u${async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const c$=1024*1024*8,f$=3,d$=1e3,h$=2,ah="x-goog-upload-status";async function p$(t,e,n){var i;const o=await Qb(t,e,n),a=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[ah])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function m$(t,e,n){var i;const o=await Qb(t,e,n),a=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[ah])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Sb(a),c=new F_;return Object.assign(c,l),c}async function Qb(t,e,n){var i,o;let a=0,l=0,c=new ay(new Response),f="upload";for(a=t.size;l<a;){const d=Math.min(c$,a-l),m=t.slice(l,l+d);l+d>=a&&(f+=", finalize");let _=0,T=d$;for(;_<f$&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[ah]));)_++,await y$(T),T=T*h$;if(l+=d,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[ah])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function g$(t){return{size:t.size,type:t.type}}function y$(t){return new Promise(e=>setTimeout(e,t))}class _${async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await p$(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await m$(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await g$(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v${create(e,n,i){return new E$(e,n,i)}}class E${constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _w="x-goog-api-key";class T${constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(_w)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_w,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S$="gl-node/";class A${constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=Wz(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new T$(this.apiKey);this.apiClient=new X8({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:S$+"web",uploader:new _$,downloader:new u$}),this.models=new g7(this.apiClient),this.live=new c7(this.apiClient,o,new v$),this.batches=new Iq(this.apiClient),this.chats=new lH(this.models,this.apiClient),this.caches=new oH(this.apiClient),this.files=new _H(this.apiClient),this.operations=new y7(this.apiClient),this.authTokens=new D7(this.apiClient),this.tunings=new l$(this.apiClient),this.fileSearchStores=new B7(this.apiClient)}}const py="MISSING_API_KEY",sa=()=>{const t=localStorage.getItem("jalanea_gemini_key");if(t)return new A$({apiKey:t});throw new Error(py)},C$=t=>new Promise(e=>setTimeout(e,t)),ss=async(t,e,n,i,o=3)=>{var l,c;let a=0;for(;a<o;)try{return await t.models.generateContent({model:e,contents:n,config:i})}catch(f){const d=((l=f.message)==null?void 0:l.includes("429"))||f.status===429||f.code===429;if(console.error(`Gemini API Error (Attempt ${a+1}/${o}):`,f.message||f),d&&a<o-1){let m=Math.pow(2,a)*1e3;const _=(c=f.message)==null?void 0:c.match(/Please retry in ([0-9.]+)s/);_&&_[1]&&(m=Math.ceil(parseFloat(_[1])*1e3)+1e3),console.warn(`Gemini API 429 hit. Retrying in ${m}ms... (Attempt ${a+1}/${o})`),await C$(m),a++}else throw console.error(`Gemini API Error (Model: ${e}):`,f),f}throw new Error(`Max retries exceeded for model ${e}`)},w$=async t=>{const e=sa(),n=`
    Analyze the following raw product idea and synthesize it into a clear, professional Product Vision Statement.
    
    RAW IDEA:
    ${t}
    
    TASK:
    Create a structured Vision Statement including:
    1. Product Name Suggestion
    2. Core Value Proposition (The "Why")
    3. Target Users (The "Who")
    4. Key Differentiators (The "How")
    5. Elevator Pitch (One concise sentence)
    
    Output in Markdown. Keep it professional and inspiring.
  `;return(await ss(e,"gemini-3-flash-preview",n,{systemInstruction:"You are a Chief Product Officer. Your goal is to clarify and elevate raw ideas into actionable product visions.",temperature:.7})).text||"Failed to refine idea."},x$=async t=>{const e=sa(),n=`
    Based on the following Product Vision, generate a specific, high-level "Deep Research Mission" prompt for an autonomous AI research agent (like Google NotebookLM Deep Research).
    
    The mission should instruct the agent to:
    1. Find direct and indirect competitors.
    2. Uncover recent trends in the specific market.
    3. Identify user demographics and pain points.
    4. Look for technical feasibility and similar existing implementations.
    
    Keep the mission prompt concise (under 3 sentences) but directive. Start with "Your mission is to..."
    
    Product Vision:
    ${t}
  `;return{mission:((await ss(e,"gemini-3-flash-preview",n,{temperature:.7})).text||"").trim(),report:`Please generate a detailed research report addressing the following sections:

**1. Competitor Analysis:**
Identify and analyze 3-5 direct and indirect competitors. For each competitor, describe their primary offerings, target audience, key strengths, and weaknesses. Specifically, evaluate how well they currently address (or fail to address) the needs that this product aims to solve.

**2. User Pain Point Deep Dive:**
Conduct a detailed deep dive into the specific, acute pain points experienced by the target users identified in the vision. What are their most significant frustrations? Elaborate on how existing solutions might fall short, creating a market opportunity.

**3. Technical Feasibility Check:**
Assess the technical feasibility of the product's "Key Differentiators." Discuss:
    *   **Current Technological Landscape:** Are the necessary technologies (AI models, APIs, data sources) readily available?
    *   **Potential Technical Challenges:** What are the significant hurdles (e.g., accuracy, privacy, latency)?
    *   **Existing Solutions:** Are there precedents that demonstrate feasibility?

**4. Strategic Opportunities & Market Gaps:**
Identify strategic opportunities or underserved gaps in the market that this product could uniquely leverage. Consider emerging trends, unmet needs, and potential for new business models.`}},I$=async(t,e)=>{const n=sa(),i=[];return i.push({text:`
    Analyze the following product vision and the provided research documents (if any).
    
    PRODUCT VISION:
    ${t}

    TASK:
    Create a comprehensive Product Requirements Document (PRD).
    The Output must be formatted in Markdown.
    Include:
    1. Executive Summary
    2. Problem Statement
    3. Target Audience (User Personas)
    4. Key Features (Functional Requirements)
    5. Success Metrics (KPIs)
    6. Risks & Mitigation
    `}),e.forEach(a=>{a.mimeType==="application/pdf"?i.push({inlineData:{mimeType:"application/pdf",data:a.content}}):i.push({text:`--- RESEARCH DOCUMENT: ${a.name} ---
${a.content}
--- END DOCUMENT ---`})}),(await ss(n,"gemini-3-flash-preview",{parts:i},{systemInstruction:`You are a world-class Product Manager. You are strict, detailed, and focus on viability and user value. Current Date: ${new Date().toLocaleDateString()}`,temperature:.7})).text||"Failed to generate PRD."},b$=async t=>{const e=sa(),n=`
    Based on the following PRD, create a step-by-step Implementation Plan (Roadmap).

    PRD CONTENT:
    ${t}

    TASK:
    Create a phased roadmap (Phase 1: MVP, Phase 2: Polish, Phase 3: Scale).
    
    CRITICAL OUTPUT FORMAT:
    You must output a strictly valid JSON array of objects. Do not wrap in markdown or code blocks.
    Each object must have:
    - "phaseName": string (e.g., "Phase 1: MVP")
    - "description": string (Summary of goals)
    - "steps": array of objects, where each object has:
        - "stepName": string (e.g., "Setup Authentication")
        - "description": string (User-facing summary)
        - "technicalBrief": string (Explanation of 'why' this tech is used, e.g., "Firebase Auth is secure...")
        - "prompt": string (The actual prompt to copy. MUST include "PROJECT VISION:...", "TECH STACK:...", and specific coding task.)

    Example Output Structure:
    [
      { 
        "phaseName": "...", 
        "description": "...", 
        "steps": [
           { "stepName": "...", "description": "...", "technicalBrief": "...", "prompt": "..." }
        ]
      }
    ]
  `;let o=(await ss(e,"gemini-3-flash-preview",n,{systemInstruction:"You are a Technical Project Manager. Break down complex goals into granular, actionable steps. Focus on educational clarity for the user and security in the code prompts. Return raw JSON."})).text||"[]";return o=o.replace(/```json/g,"").replace(/```/g,"").trim(),o},R$=async(t,e)=>{const n=sa(),i=`
    Analyze the following error report from a user building an AI app.
    
    PROJECT CONTEXT:
    ${e}

    USER ERROR LOG / FEEDBACK:
    ${t}

    TASK:
    Create a professional email bug report that the user can send to the developer (Me).
    1. "subject": A concise subject line (e.g., "Bug Report: Firebase Config Error").
    2. "body": A clear email body explaining the issue, potential causes, and suggested solutions based on the error.

    OUTPUT FORMAT:
    Strict valid JSON: { "subject": "...", "body": "..." }
  `,a=((await ss(n,"gemini-3-flash-preview",i,{systemInstruction:"You are a Senior Support Engineer. Translate user errors into actionable technical bug reports. Return raw JSON."})).text||"{}").replace(/```json/g,"").replace(/```/g,"").trim();try{return JSON.parse(a)}catch{return{subject:"Bug Report",body:`Error parsing AI response. Original error: ${t}`}}},vw=async(t,e)=>{const n=sa(),i=`
    Based on the following PRD and Roadmap, create a detailed prompt for "Stitch", a frontend generation tool.
    
    PRD CONTEXT: ${t.substring(0,1500)}...
    
    TASK:
    Write a prompt that instructs Stitch to:
    1. Define the Visual Identity (Color Palette, Typography, Vibe).
    2. Create the Component Library (Buttons, Cards, Inputs).
    3. Generate the Page Layouts (Home, Dashboard, Settings).
    4. Focus on modern, premium aesthetics (Glassmorphism/Neo-brutalism/Clean).
    
    Output ONLY the raw prompt text for Stitch.
  `,o=`
    Based on the following PRD and Roadmap, create a detailed prompt for "Opal", a backend logic generation tool.
    
    PRD CONTEXT: ${t.substring(0,1500)}...
    
    TASK:
    Write a prompt that instructs Opal to:
    1. Define the Data Schema (Users, Projects, Items).
    2. Outline the API Endpoints (REST/GraphQL).
    3. Describe the Business Logic flows (Authentication, Data Processing).
    4. Ensure security and scalability.
    
    Output ONLY the raw prompt text for Opal.
  `,[a,l]=await Promise.all([ss(n,"gemini-3-flash-preview",i,{temperature:.7}),ss(n,"gemini-3-flash-preview",o,{temperature:.7})]);return{stitch:a.text||"Failed to generate Stitch prompt.",opal:l.text||"Failed to generate Opal prompt."}},N$=async t=>{const e=sa(),n=`
    ACT AS: Lead Software Engineer & Integrator.
    
    CONTEXT:
    We are building a web application using the Stitch (Frontend) and Opal (Backend) workflow.
    
    PROJECT IDEA:
    ${t.synthesizedIdea||t.ideaInput}
    
    FRONTEND (Stitch) DIRECTION:
    ${t.stitchPrompt}
    
    BACKEND (Opal) DIRECTION:
    ${t.opalPrompt}
    
    ROADMAP (JSON):
    ${t.roadmapOutput}
    
    TASK:
    Write a master "Integration Prompt" that the user can copy and paste into Google Gemini (or their IDE) to start building the application.
    This prompt must:
    1. Instruct how to scaffold the project (Vite + React + TS + Tailwind).
    2. Explain how to implement the Stitch components (give structure).
    3. Explain how to wire up the Opal logic/APIs.
    4. Define the folder structure.
    
    CRITICAL: Return ONLY the raw prompt text suitable for copy-pasting.
  `;return(await ss(e,"gemini-3-flash-preview",n,{systemInstruction:"You are a Lead Software Engineer. You write precise, technical specifications for other developers."})).text||"Failed to generate Integration Prompt."},k$=({isOpen:t,onClose:e,isDismissible:n=!0})=>{const[i,o]=Z.useState(""),[a,l]=Z.useState(!1);Z.useEffect(()=>{if(t){const d=localStorage.getItem("jalanea_gemini_key");d&&o(d)}},[t]);const c=()=>{i.trim()&&(localStorage.setItem("jalanea_gemini_key",i.trim()),l(!0),setTimeout(()=>{l(!1),e()},1500))},f=()=>{localStorage.removeItem("jalanea_gemini_key"),o("")};return t?w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden ring-1 ring-gray-200",children:[w.jsx("div",{className:"bg-forge-950 p-6 border-b border-forge-800",children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-lg bg-forge-accent flex items-center justify-center shadow-lg shadow-orange-500/20",children:w.jsx(qM,{className:"w-5 h-5 text-white"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-bold text-white",children:"Activate Jalanea Forge"}),w.jsx("p",{className:"text-forge-400 text-sm mt-1",children:"Connect your AI to start building."})]})]}),n&&w.jsx("button",{onClick:e,className:"text-forge-500 hover:text-white transition-colors",title:"Close",children:w.jsx(fh,{className:"w-5 h-5"})})]})}),w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4",children:w.jsxs("div",{className:"flex gap-3",children:[w.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xs ring-1 ring-blue-200 shrink-0",children:"1"}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-blue-900 text-sm",children:"Get your free API Key"}),w.jsx("p",{className:"text-blue-700 text-xs mt-1 mb-3",children:"Google offers a generous free tier for personal use."}),w.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-blue-200 rounded-lg text-blue-700 text-sm font-semibold hover:bg-blue-50 hover:border-blue-300 transition-all shadow-sm",children:["Get Key from Google ",w.jsx(MM,{className:"w-3 h-3"})]})]})]})}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[w.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center font-bold text-xs ring-1 ring-gray-200",children:"2"}),"Paste Key Here"]}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"password",value:i,onChange:d=>o(d.target.value),placeholder:"AIzaSy...",className:"w-full pl-4 pr-10 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-forge-accent focus:border-transparent outline-none transition-all font-mono text-sm text-gray-800"}),i&&w.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-emerald-500",children:w.jsx(fl,{className:"w-4 h-4"})})]}),w.jsx("p",{className:"text-xs text-forge-muted pl-1",children:"Your key is stored locally in your browser. It is never sent to our servers."})]})]}),w.jsxs("div",{className:"flex gap-3 pt-2",children:[n&&w.jsx("button",{onClick:f,className:"px-4 py-3 rounded-xl font-medium text-gray-400 hover:text-red-500 hover:bg-red-50 text-sm transition-colors",children:"Clear Key"}),w.jsx("button",{onClick:c,disabled:!i,className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-bold shadow-lg transition-all ${a?"bg-emerald-500 text-white shadow-emerald-500/20":"bg-forge-accent hover:bg-orange-600 text-white shadow-orange-500/20"} disabled:opacity-50 disabled:cursor-not-allowed`,children:a?w.jsxs(w.Fragment,{children:["Saved ",w.jsx(fl,{className:"w-5 h-5"})]}):"Save & Connect"})]})]})]})}):null},M$=({isOpen:t,onClose:e})=>{const{state:n}=us(),[i,o]=Z.useState(""),[a,l]=Z.useState(!1),[c,f]=Z.useState(null),[d,m]=Z.useState(!1);if(!t)return null;const _=async()=>{if(i.trim()){l(!0);try{const I=`Project: ${n.title}
Vision: ${n.synthesizedIdea.substring(0,200)}...
Tech Stack: React, Firebase, Tailwind`,k=await R$(i,I);f(k)}catch(I){console.error("Failed to analyze bug:",I),alert("Failed to analyze bug. Please try again.")}finally{l(!1)}}},T=()=>{if(!c)return;const I=`mailto:support@jalaneaforge.com?subject=${encodeURIComponent(c.subject)}&body=${encodeURIComponent(c.body)}`;window.location.href=I},S=()=>{c&&(navigator.clipboard.writeText(`${c.subject}

${c.body}`),m(!0),setTimeout(()=>m(!1),2e3))};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:w.jsxs("div",{className:"bg-white dark:bg-forge-950 rounded-2xl shadow-2xl w-full max-w-2xl border border-forge-700 flex flex-col max-h-[90vh]",children:[w.jsxs("div",{className:"p-6 border-b border-forge-700 flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-xl font-bold text-forge-text flex items-center gap-2",children:[w.jsx(TM,{className:"w-5 h-5 text-red-500"}),"Developer Support & Bug Reporting"]}),w.jsx("p",{className:"text-sm text-forge-muted mt-1",children:"Found a bug? Paste the error below and AI will format it for the developer."})]}),w.jsx("button",{onClick:e,className:"p-2 hover:bg-forge-800 rounded-lg text-forge-muted hover:text-forge-text transition-colors",children:w.jsx(fh,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"p-6 overflow-y-auto flex-1 custom-scrollbar space-y-6",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("label",{className:"block text-sm font-semibold text-forge-text",children:"1. Paste your Error Log or describe the issue:"}),w.jsx("textarea",{className:"w-full h-32 bg-forge-900 border border-forge-700 rounded-xl p-4 text-forge-text font-mono text-sm resize-none focus:ring-2 focus:ring-forge-accent focus:outline-none placeholder-forge-500",placeholder:"E.g., Error: verifyIdToken failed: Firebase: Error (auth/configuration-not-found).",value:i,onChange:I=>o(I.target.value)}),w.jsx("div",{className:"flex justify-end",children:w.jsxs("button",{onClick:_,disabled:!i.trim()||a,className:"bg-forge-accent hover:bg-orange-600 disabled:opacity-50 text-white font-semibold px-5 py-2.5 rounded-lg flex items-center gap-2 shadow-sm transition-all",children:[a?w.jsx(KM,{className:"w-4 h-4 animate-spin"}):w.jsx(fr,{className:"w-4 h-4"}),a?"Analyzing Error...":"Analyze & Generate Report"]})})]}),c&&w.jsxs("div",{className:"animate-fade-in space-y-4 border-t border-forge-700 pt-6",children:[w.jsxs("label",{className:"block text-sm font-semibold text-forge-text flex items-center gap-2",children:[w.jsx(RT,{className:"w-4 h-4 text-emerald-500"}),"2. Ready to Send"]}),w.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[w.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[w.jsxs("div",{className:"text-sm font-medium text-gray-700",children:["Subject: ",w.jsx("span",{className:"font-normal select-all",children:c.subject})]}),w.jsx("button",{onClick:S,className:"text-gray-500 hover:text-gray-900",title:"Copy All",children:d?w.jsx(fl,{className:"w-4 h-4 text-emerald-500"}):w.jsx(Uw,{className:"w-4 h-4"})})]}),w.jsx("div",{className:"p-5 text-gray-800 text-sm whitespace-pre-wrap leading-relaxed font-sans",children:c.body})]}),w.jsx("div",{className:"flex justify-end pt-2",children:w.jsxs("button",{onClick:T,className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold px-8 py-3 rounded-xl shadow-lg shadow-emerald-500/20 flex items-center gap-2 transition-all transform hover:-translate-y-0.5",children:[w.jsx(RT,{className:"w-5 h-5"}),"Open Email Client (Send to Dev)"]})})]})]})]})})},D$=({isOpen:t,onClose:e,projects:n,onSelect:i,onCreate:o,onDelete:a,isLoading:l,currentProjectId:c})=>{const[f,d]=Eg.useState(!1),[m,_]=Eg.useState("");if(!t)return null;const T=()=>{m.trim()&&(o(m),_(""),d(!1))},S=I=>new Date(I).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:w.jsxs("div",{className:"bg-forge-900 border border-forge-700 w-full max-w-2xl rounded-2xl shadow-2xl flex flex-col max-h-[80vh] overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-forge-700 flex items-center justify-between bg-forge-950",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-bold text-forge-text",children:"My Projects"}),w.jsxs("p",{className:"text-sm text-forge-muted mt-1",children:["Manage your design workspaces (",n.length,"/5 used)"]})]}),w.jsx("button",{onClick:e,className:"p-2 text-forge-muted hover:text-forge-text hover:bg-forge-800 rounded-lg transition-colors",children:w.jsx(fh,{className:"w-5 h-5"})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:l?w.jsx("div",{className:"flex justify-center py-12",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-forge-accent"})}):n.length===0?w.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-forge-800 rounded-xl bg-forge-800/20",children:[w.jsx(OM,{className:"w-12 h-12 text-forge-600 mx-auto mb-4"}),w.jsx("p",{className:"text-forge-text font-medium",children:"No projects yet"}),w.jsx("p",{className:"text-forge-muted text-sm mt-1",children:"Create your first project to get started"})]}):w.jsx("div",{className:"grid gap-4",children:n.map(I=>w.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-xl border transition-all ${c===I.id?"bg-forge-800 border-forge-accent/50 shadow-sm":"bg-forge-950 border-forge-800 hover:border-forge-600 hover:shadow-md"}`,children:[w.jsxs("div",{onClick:()=>i(I.id),className:"flex-1 cursor-pointer",children:[w.jsx("h3",{className:`font-semibold mb-1 ${c===I.id?"text-forge-accent":"text-forge-text group-hover:text-forge-accent transition-colors"}`,children:I.title}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-forge-500",children:[w.jsx(IM,{className:"w-3 h-3"}),w.jsxs("span",{children:["Last edited: ",S(I.updatedAt)]})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[c===I.id&&w.jsx("span",{className:"text-xs font-bold bg-forge-accent/10 text-forge-accent px-2 py-1 rounded-full mr-2",children:"Active"}),w.jsx("button",{onClick:k=>{k.stopPropagation(),a(I.id)},className:"p-2 text-forge-600 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete Project",children:w.jsx(lD,{className:"w-4 h-4"})})]})]},I.id))})}),w.jsx("div",{className:"p-6 border-t border-forge-700 bg-forge-950",children:f?w.jsxs("div",{className:"flex items-center gap-3 animate-fade-in",children:[w.jsx("input",{type:"text",value:m,onChange:I=>_(I.target.value),placeholder:"Enter project name...",className:"flex-1 bg-forge-900 text-forge-text border border-forge-700 rounded-xl px-4 py-3 focus:outline-none focus:border-forge-accent",autoFocus:!0,onKeyDown:I=>{I.key==="Enter"&&m.trim()&&T(),I.key==="Escape"&&d(!1)}}),w.jsx("button",{onClick:()=>d(!1),className:"px-4 py-3 text-forge-muted hover:text-forge-text font-medium",children:"Cancel"}),w.jsx("button",{onClick:T,disabled:!m.trim()||l,className:"bg-forge-accent hover:bg-orange-600 disabled:opacity-50 text-white font-semibold px-6 py-3 rounded-xl shadow-lg shadow-orange-500/20 transition-all",children:"Create"})]}):w.jsx("div",{className:"flex justify-end",children:w.jsxs("button",{onClick:()=>d(!0),disabled:n.length>=5||l,className:"bg-forge-accent hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold px-6 py-3 rounded-xl shadow-lg shadow-orange-500/20 transition-all flex items-center gap-2",children:[w.jsx(eD,{className:"w-5 h-5"}),n.length>=5?"Limit Reached":"New Project"]})})})]})})},jb=Z.createContext(null),us=()=>{const t=Z.useContext(jb);if(!t)throw new Error("useProject must be used within a ProjectProvider");return t},yd={title:"Untitled Project",currentStep:Rt.IDEA,research:[],ideaInput:"",synthesizedIdea:"",prdOutput:"",roadmapOutput:"",designSystemOutput:"",codePromptOutput:"",isGenerating:!1},P$=({children:t})=>{const[e,n]=Z.useState(yd),[i,o]=Z.useState([]),[a,l]=Z.useState(void 0),[c,f]=Z.useState(!1),[d,m]=Z.useState(!1),[_,T]=Z.useState(!1),[S,I]=Z.useState(!1),{user:k}=ih();Z.useEffect(()=>{k?(I(!0),vg(k.uid).then(b=>{if(o(b),I(!1),b.length>0){const N=b[0];V(N.id)}else U()})):(n(yd),o([]),l(void 0))},[k]);const V=async b=>{if(!k)return;I(!0);const N=await Hz(k.uid,b);N&&(n({...N,id:b}),l(b),f(!1)),I(!1)},U=async b=>{if(k)try{I(!0);const N=b||"New Project "+(i.length+1),O={...yd,title:N},F=await qz(k.uid,O),me=await vg(k.uid);o(me),l(F),n({...O,id:F}),f(!1)}catch(N){alert(N instanceof Error?N.message:"Failed to create project")}finally{I(!1)}},G=async b=>{if(!k||!confirm("Are you sure you want to delete this project?"))return;await Gz(k.uid,b);const N=await vg(k.uid);o(N),a===b&&(N.length>0?V(N[0].id):U())};Z.useEffect(()=>{if(k&&a){const b=setTimeout(()=>{vb(k.uid,a,e),o(N=>N.map(O=>O.id===a?{...O,title:e.title,updatedAt:Date.now()}:O))},2e3);return()=>clearTimeout(b)}},[e,k,a]);const B=async b=>{let N="",O=b.type;b.type==="application/pdf"?N=await new Promise((me,he)=>{const Q=new FileReader;Q.onload=de=>{var Te;if((Te=de.target)!=null&&Te.result){const Pe=de.target.result;me(Pe.split(",")[1])}else console.error("Failed to read file",de),he(new Error("Failed to read file"))},Q.readAsDataURL(b)}):(N=await b.text(),O||(O="text/plain"));const F={id:Math.random().toString(36).substr(2,9),name:b.name,content:N,mimeType:O,source:"upload"};n(me=>({...me,research:[...me.research,F]}))},ie=b=>{n(N=>({...N,ideaInput:b}))},se=b=>{n(N=>({...N,title:b}))},K=b=>{n(N=>({...N,currentStep:b}))},P=async b=>{n(N=>({...N,isGenerating:!0}));try{if(b===Rt.IDEA){const N=await w$(e.ideaInput);n(O=>({...O,synthesizedIdea:N}))}else if(b===Rt.PRD){const N=e.synthesizedIdea||e.ideaInput,O=await I$(N,e.research);n(F=>({...F,prdOutput:O}))}else if(b===Rt.PLANNING){const N=await b$(e.prdOutput);n(O=>({...O,roadmapOutput:N}))}else if(b===Rt.DESIGN){const N=await vw(e.prdOutput,e.roadmapOutput);n(O=>({...O,stitchPrompt:N.stitch,opalPrompt:N.opal,designSystemOutput:N.stitch+`

`+N.opal}))}else if(b===Rt.CODE){const N=await vw(e.prdOutput,e.roadmapOutput),O={...e,stitchPrompt:N.stitch,opalPrompt:N.opal},F=await N$(O);n(me=>({...me,stitchPrompt:N.stitch,opalPrompt:N.opal,designSystemOutput:N.stitch+`

`+N.opal,antigravityPrompt:F,codePromptOutput:F}))}}catch(N){if(console.error("Generation failed:",N),N.message===py)m(!0);else{const O=N.message||"Unknown error";alert(`Failed to generate content: ${O}

Please check the console for more details.`)}}finally{n(N=>({...N,isGenerating:!1}))}},L=async()=>{n(b=>({...b,isGenerating:!0}));try{const{mission:b,report:N}=await x$(e.synthesizedIdea);n(O=>({...O,researchMissionPrompt:b,reportGenerationPrompt:N}))}catch(b){if(console.error("Research prompt generation failed:",b),b.message===py)m(!0);else{const N=b.message||"Unknown error";alert(`Failed to generate research prompt: ${N}`)}}finally{n(b=>({...b,isGenerating:!1}))}},D=()=>{if(confirm("Resetting this project will clear all data. This cannot be undone.")){const b={...yd,title:e.title};n(b)}};return w.jsxs(jb.Provider,{value:{state:e,addResearch:B,updateIdea:ie,updateTitle:se,generateArtifact:P,generateResearchPrompt:L,resetProject:D,openProjectList:()=>f(!0),openSettings:()=>m(!0),openSupport:()=>T(!0),setCurrentStep:K,currentProjectId:a},children:[w.jsx(k$,{isOpen:d,onClose:()=>m(!1)}),w.jsx(M$,{isOpen:_,onClose:()=>T(!1)}),w.jsx(D$,{isOpen:c,onClose:()=>f(!1),projects:i,onSelect:V,onCreate:U,onDelete:G,isLoading:S,currentProjectId:a}),t]})};Rt.IDEA;const L$=({item:t,isActive:e,isComplete:n})=>w.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group border ${e?"bg-forge-800 border-forge-700 text-forge-accent shadow-sm":"border-transparent text-forge-muted hover:bg-forge-800 hover:text-forge-text"}`,children:[w.jsx(t.icon,{className:`w-5 h-5 ${e?"text-forge-accent":"text-forge-600 group-hover:text-forge-text"}`}),w.jsx("span",{className:"font-medium text-sm",children:t.label}),w.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n&&w.jsx(fl,{className:"w-4 h-4 text-emerald-500"}),e&&w.jsx(vc,{className:"w-4 h-4 text-forge-400"})]})]}),Wo=({text:t,className:e="",title:n="Copy to Clipboard",variant:i="dark"})=>{const[o,a]=Z.useState(!1),l=()=>{navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)},c=i==="light"?"bg-white/80 backdrop-blur-sm border-gray-200 text-gray-500 hover:text-gray-900 hover:border-gray-300 hover:bg-white":"bg-forge-800 border-forge-700 text-forge-400 hover:text-forge-text hover:border-forge-500";return w.jsx("button",{onClick:l,className:`relative p-2 rounded-lg transition-all duration-200 shadow-sm border group ${o?"bg-emerald-500/10 border-emerald-500/30 text-emerald-600":c} ${e}`,title:o?"Copied!":n,children:w.jsxs("div",{className:"relative w-4 h-4",children:[w.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${o?"scale-0 opacity-0 rotate-45":"scale-100 opacity-100 rotate-0"}`,children:w.jsx(Uw,{className:"w-4 h-4"})}),w.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${o?"scale-100 opacity-100 rotate-0":"scale-0 opacity-0 -rotate-45"}`,children:w.jsx(fl,{className:"w-4 h-4"})})]})})},V$=()=>{const{theme:t,setTheme:e}=Jz();return w.jsxs("button",{onClick:()=>e(t==="light"?"dark":"light"),className:"p-2 rounded-lg bg-forge-800 border border-forge-700 text-forge-muted hover:text-forge-text hover:border-forge-600 transition-all shadow-sm no-print",title:"Toggle Theme",children:[w.jsxs("div",{className:"relative w-5 h-5",children:[w.jsx(oD,{className:`w-5 h-5 absolute transition-all duration-300 ${t==="dark"?"scale-0 rotate-90 opacity-0":"scale-100 rotate-0 opacity-100"}`}),w.jsx(XM,{className:`w-5 h-5 absolute transition-all duration-300 ${t==="light"?"scale-0 -rotate-90 opacity-0":"scale-100 rotate-0 opacity-100"}`})]}),w.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},U$=()=>{var T,S;const{user:t,signIn:e,logOut:n,loading:i}=ih(),{openProjectList:o,state:a,updateTitle:l,openSettings:c}=us(),[f,d]=Z.useState(!1),m=Z.useRef(null);Z.useEffect(()=>{f&&m.current&&m.current.focus()},[f]);const _=I=>{I.key==="Enter"&&d(!1)};return w.jsxs("header",{className:"h-20 border-b border-forge-700 bg-forge-950 flex items-center justify-between px-8 sticky top-0 z-10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-lg bg-forge-accent flex items-center justify-center shadow-lg shadow-orange-500/20",children:w.jsx(fr,{className:"w-6 h-6 text-white"})}),w.jsxs("div",{className:"flex flex-col items-start",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"font-bold text-xl tracking-tight text-forge-text leading-tight",children:"JALANEA FORGE"}),w.jsx("span",{className:"text-forge-700",children:"/"}),f?w.jsx("input",{ref:m,type:"text",value:a.title,onChange:I=>l(I.target.value),onBlur:()=>d(!1),onKeyDown:_,className:"bg-forge-900 text-forge-text font-medium text-sm px-2 py-0.5 rounded border border-forge-700 focus:outline-none focus:border-forge-accent min-w-[150px]"}):w.jsxs("div",{onClick:()=>d(!0),className:"font-medium text-forge-text hover:bg-forge-900 px-2 py-0.5 rounded cursor-pointer transition-colors flex items-center gap-2 group",title:"Rename Project",children:[a.title,w.jsx(zw,{className:"w-3 h-3 text-forge-600 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("p",{className:"text-xs text-forge-500 font-medium mt-0.5",children:"AI Product Designer"}),w.jsx("span",{className:"text-forge-700 text-xs mt-0.5",children:""}),w.jsxs("p",{className:"text-xs text-forge-accent font-semibold mt-0.5",children:["Step ",Object.values(Rt).indexOf(a.currentStep)+1," of 6"]})]})]})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:o,className:"p-2 rounded-lg bg-forge-800 border border-forge-700 text-forge-muted hover:text-forge-text hover:border-forge-600 transition-all shadow-sm md:hidden",title:"My Projects",children:w.jsx(bT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:c,className:"p-2 rounded-lg bg-forge-800 border border-forge-700 text-forge-muted hover:text-forge-text hover:border-forge-600 transition-all shadow-sm",title:"AI Settings",children:w.jsx(nD,{className:"w-5 h-5"})}),w.jsx(V$,{}),i?w.jsx("div",{className:"h-8 w-8 rounded-full bg-forge-800 animate-pulse"}):t?w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"text-sm text-forge-muted mr-2 hidden md:inline",children:["Welcome, ",(T=t.displayName)==null?void 0:T.split(" ")[0]]}),w.jsx("button",{onClick:o,className:"p-2 text-forge-muted hover:text-forge-text hover:bg-forge-800 rounded-lg transition-colors mr-2",title:"My Projects",children:w.jsx(bT,{className:"w-5 h-5"})}),w.jsx("div",{onClick:n,className:"h-9 w-9 rounded-full bg-forge-800 flex items-center justify-center text-xs font-bold border border-forge-700 text-forge-muted overflow-hidden cursor-pointer hover:border-red-500 hover:text-red-500 transition-all shadow-sm",title:"Sign Out",children:t.photoURL?w.jsx("img",{src:t.photoURL,alt:"Profile",className:"h-full w-full object-cover"}):((S=t.displayName)==null?void 0:S.charAt(0))||"U"})]}):w.jsx("button",{onClick:e,className:"text-sm font-semibold bg-forge-accent hover:bg-orange-600 text-white px-5 py-2.5 rounded-lg transition-colors shadow-lg shadow-orange-500/20 flex items-center gap-2",children:w.jsx("span",{children:"Sign in with Google"})})]})]})},O$=()=>{const{state:t,updateIdea:e,generateArtifact:n,generateResearchPrompt:i}=us(),o=Al(),[a,l]=Z.useState(!1),c=async()=>{t.ideaInput.trim()&&(await n(Rt.IDEA),l(!1))},f=!t.synthesizedIdea||a;return w.jsxs("div",{className:"max-w-4xl mx-auto h-full flex flex-col animate-fade-in",children:[w.jsxs("div",{className:"mb-8",children:[w.jsx("h2",{className:"text-3xl font-bold text-forge-text mb-2",children:"The Spark"}),w.jsx("p",{className:"text-forge-muted text-lg leading-relaxed",children:f?"Everything starts with an idea. Describe what you want to build in as much detail as you have.":"Your idea has been crystallized into a Product Vision. Review it before moving forward."})]}),w.jsxs("div",{className:"flex-1 flex flex-col min-h-0 mb-8 gap-6",children:[f&&w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsxs("div",{className:"bg-forge-950 border border-forge-700 rounded-xl p-1 flex-1 flex flex-col shadow-sm focus-within:ring-2 focus-within:ring-forge-accent/50 transition-all",children:[w.jsxs("div",{className:"p-4 border-b border-forge-700 bg-forge-900/50 rounded-t-xl flex justify-between items-center",children:[w.jsxs("label",{className:"text-sm font-semibold text-forge-500 uppercase tracking-wider flex items-center gap-2",children:[w.jsx(Fw,{className:"w-4 h-4"}),"Product Vision Input"]}),w.jsx("span",{className:"text-xs text-forge-500",children:"Markdown supported"})]}),w.jsx("textarea",{className:"flex-1 w-full bg-forge-950 p-6 text-forge-text resize-none focus:outline-none placeholder-forge-400 leading-relaxed rounded-b-xl",placeholder:`Describe your idea...

E.g., I want to build a fitness app for seniors that focuses on mobility and social connection. It should have large text, voice commands, and connect with Apple Watch...`,value:t.ideaInput,onChange:d=>e(d.target.value),autoFocus:!t.synthesizedIdea})]}),w.jsxs("div",{className:"flex justify-end mt-4",children:[t.synthesizedIdea&&w.jsx("button",{onClick:()=>l(!1),className:"mr-3 text-forge-muted hover:text-forge-text px-4 py-2 text-sm font-medium",children:"Cancel"}),w.jsx("button",{onClick:c,disabled:!t.ideaInput.trim()||t.isGenerating,className:"text-white bg-forge-accent hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-lg text-sm font-semibold flex items-center gap-2 transition-colors shadow-lg shadow-orange-500/20",children:t.isGenerating?w.jsx(w.Fragment,{children:"Thinking..."}):w.jsxs(w.Fragment,{children:["Refine & Synthesize ",w.jsx(fr,{className:"w-4 h-4"})]})})]})]}),!f&&t.synthesizedIdea&&w.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[w.jsxs("div",{className:"bg-white border border-forge-700 rounded-xl flex flex-col flex-1 min-h-0 overflow-hidden shadow-sm ring-1 ring-forge-900",children:[w.jsxs("div",{className:"p-4 border-b border-forge-700 bg-orange-50 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2 text-orange-800 font-semibold",children:[w.jsx(fr,{className:"w-4 h-4"}),"Product Vision Statement"]}),w.jsxs("div",{className:"flex items-center gap-2",children:[t.synthesizedIdea&&w.jsx(Wo,{text:t.synthesizedIdea,className:"hover:text-orange-900 text-orange-700 bg-orange-100 hover:bg-orange-200 border-orange-200",title:"Copy Vision (Paste into Google Docs for best formatting)"}),w.jsxs("button",{onClick:()=>l(!0),className:"text-orange-700 hover:text-orange-900 text-xs font-medium flex items-center gap-1 px-2 py-1.5 rounded hover:bg-orange-100 transition-colors",children:[w.jsx(zw,{className:"w-3 h-3"}),"Edit"]})]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:w.jsx(qy,{content:t.synthesizedIdea,variant:"paper"})})]}),w.jsxs("div",{className:"bg-forge-950 border border-forge-700 rounded-xl flex flex-col min-h-0 overflow-hidden shadow-sm mt-6 animate-fade-in",children:[w.jsx("div",{className:"p-4 border-b border-forge-700 bg-forge-900/50 flex items-center justify-between",children:w.jsxs("div",{className:"flex items-center gap-2 text-forge-accent font-semibold tracking-wide uppercase text-xs",children:[w.jsx(fr,{className:"w-4 h-4"}),"Deep Research Strategy"]})}),w.jsxs("div",{className:"p-6",children:[w.jsxs("p",{className:"text-forge-muted text-sm mb-6 leading-relaxed",children:["Bridge the gap between Idea and Research with ",w.jsx("strong",{className:"text-forge-text",children:"Google NotebookLM"}),". Validating your idea with deep research is critical before writing the PRD."]}),w.jsxs("button",{onClick:()=>i(),disabled:t.isGenerating,className:"w-full py-3 bg-forge-accent hover:bg-orange-600 text-white rounded-lg font-semibold shadow-lg shadow-orange-500/20 transition-all flex items-center justify-center gap-2 mb-8",children:[t.isGenerating?w.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):w.jsx(fr,{className:"w-4 h-4"}),t.researchMissionPrompt?"Regenerate Research Strategy Prompts":"Generate Research Strategy Prompts"]}),t.researchMissionPrompt&&w.jsxs("div",{className:"space-y-8 animate-fade-in",children:[w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-6 h-6 rounded-full bg-forge-800 text-forge-accent flex items-center justify-center text-xs font-bold ring-1 ring-forge-700",children:"1"}),w.jsx("h4",{className:"text-sm font-semibold text-forge-text",children:"Deep Research Mission"}),w.jsx("span",{className:"text-xs text-forge-500 bg-forge-900 px-2 py-0.5 rounded-full border border-forge-700",children:"Paste into Deep Research Agent"})]}),w.jsx("p",{className:"text-xs text-forge-muted",children:"Instructs the autonomous agent to gather market data."}),w.jsxs("div",{className:"bg-forge-900 border border-forge-700 rounded-lg p-4 relative group",children:[w.jsx("pre",{className:"text-xs text-forge-muted whitespace-pre-wrap font-mono custom-scrollbar",children:t.researchMissionPrompt}),w.jsx(Wo,{text:t.researchMissionPrompt||"",className:"absolute top-2 right-2",title:"Copy Mission (Paste into Google Docs for best formatting)"})]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-6 h-6 rounded-full bg-forge-800 text-forge-accent flex items-center justify-center text-xs font-bold ring-1 ring-forge-700",children:"2"}),w.jsx("h4",{className:"text-sm font-semibold text-forge-text",children:"Report Generation"}),w.jsx("span",{className:"text-xs text-forge-500 bg-forge-900 px-2 py-0.5 rounded-full border border-forge-700",children:"Paste into Chat after Research"})]}),w.jsx("p",{className:"text-xs text-forge-muted",children:"Instructs NotebookLM to synthesize findings into a strategic 4-part report."}),w.jsxs("div",{className:"bg-forge-900 border border-forge-700 rounded-lg p-4 relative group",children:[w.jsx("pre",{className:"text-xs text-forge-muted whitespace-pre-wrap font-mono max-h-60 overflow-y-auto custom-scrollbar",children:t.reportGenerationPrompt}),w.jsx(Wo,{text:t.reportGenerationPrompt||"",className:"absolute top-2 right-2",title:"Copy Report Prompt (Paste into Google Docs for best formatting)"})]})]}),w.jsxs("div",{className:"bg-forge-900/30 border border-forge-700 rounded-lg p-4 text-sm text-forge-text",children:[w.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2 text-forge-accent",children:[w.jsx(Ay,{className:"w-4 h-4"}),"Next Steps:"]}),w.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-1 text-forge-muted",children:[w.jsxs("li",{children:["Start a new notebook in ",w.jsx("a",{href:"https://notebooklm.google.com/",target:"_blank",rel:"noreferrer",className:"text-forge-text hover:text-forge-accent underline decoration-forge-700",children:"Google NotebookLM"}),"."]}),w.jsxs("li",{children:["Use ",w.jsx("strong",{children:"Prompt 1"})," to start the Deep Research Agent."]}),w.jsxs("li",{children:["Once research is complete, paste ",w.jsx("strong",{children:"Prompt 2"})," into the chat to get your report."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Export"})," the report and upload it below!"]})]})]})]})]})]}),w.jsx("div",{className:"flex justify-end pt-6",children:w.jsxs("button",{onClick:()=>o("/research"),className:"text-white bg-forge-text hover:bg-slate-700 px-6 py-3 rounded-lg text-sm font-semibold flex items-center gap-2 transition-colors shadow-lg",children:["Next: Add Research ",w.jsx(vc,{className:"w-4 h-4"})]})})]})]})]})},F$=()=>{const{state:t,addResearch:e}=us(),[n,i]=Z.useState(!1),o=Al(),a=async c=>{c.target.files&&c.target.files[0]&&await e(c.target.files[0])},l=(c,f)=>((f?c*.75:c)/1024).toFixed(1)+" KB";return w.jsxs("div",{className:"max-w-4xl mx-auto h-full flex flex-col animate-fade-in",children:[w.jsxs("div",{className:"mb-8",children:[w.jsx("h2",{className:"text-3xl font-bold text-forge-text mb-2",children:"Research & Context"}),w.jsx("p",{className:"text-forge-muted text-lg leading-relaxed",children:"Upload knowledge (NotebookLM exports, PDFs, API docs) to ground the AI in your specific domain."})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 flex-1 min-h-0",children:[w.jsxs("div",{className:`col-span-2 border-2 border-dashed rounded-xl p-10 flex flex-col items-center justify-center transition-all bg-white ${n?"border-forge-accent bg-orange-50":"border-forge-300 hover:border-forge-400 hover:bg-forge-50"}`,onDragOver:c=>{c.preventDefault(),i(!0)},onDragLeave:()=>i(!1),onDrop:async c=>{c.preventDefault(),i(!1),c.dataTransfer.files[0]&&await e(c.dataTransfer.files[0])},children:[w.jsx("div",{className:"w-16 h-16 bg-forge-800 rounded-full flex items-center justify-center mb-4 border border-forge-700 shadow-sm",children:w.jsx(cD,{className:"w-8 h-8 text-forge-accent"})}),w.jsx("h3",{className:"text-forge-text font-medium mb-1",children:"Upload Research Files"}),w.jsxs("p",{className:"text-forge-muted text-sm text-center max-w-xs mb-6",children:["Supports .pdf, .txt, .md, .json. ",w.jsx("br",{})," Excellent for NotebookLM exports."]}),w.jsxs("label",{className:"cursor-pointer bg-forge-900 hover:bg-forge-800 text-forge-text border border-forge-700 px-6 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:["Browse Files",w.jsx("input",{type:"file",className:"hidden",accept:".pdf,.txt,.md,.json",onChange:a})]})]}),w.jsxs("div",{className:"bg-forge-950 border border-forge-700 rounded-xl p-6 flex flex-col shadow-sm",children:[w.jsxs("h3",{className:"text-forge-text font-medium mb-4 flex items-center gap-2",children:[w.jsx(Vw,{className:"w-4 h-4 text-forge-accent"}),"Active Sources"]}),w.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:t.research.length===0?w.jsxs("div",{className:"text-forge-500 text-sm text-center mt-10 italic",children:["No files uploaded yet.",w.jsx("br",{}),"Using only your idea input."]}):t.research.map(c=>w.jsx("div",{className:"bg-forge-900 border border-forge-700 p-3 rounded-lg flex items-center justify-between group hover:border-forge-500 transition-colors",children:w.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[w.jsx("div",{className:"w-8 h-8 rounded bg-white border border-forge-700 flex items-center justify-center text-xs font-bold text-forge-500 uppercase",children:c.mimeType==="application/pdf"?w.jsx(LM,{className:"w-4 h-4"}):"TXT"}),w.jsxs("div",{className:"flex flex-col truncate",children:[w.jsx("span",{className:"text-sm text-forge-text truncate w-32 font-medium",children:c.name}),w.jsx("span",{className:"text-xs text-forge-500",children:l(c.content.length,c.mimeType==="application/pdf")})]})]})},c.id))})]})]}),w.jsx("div",{className:"flex justify-end pt-4 border-t border-forge-700",children:w.jsxs("button",{onClick:()=>o("/prd"),className:"text-white bg-forge-text hover:bg-slate-700 px-6 py-3 rounded-lg text-sm font-semibold flex items-center gap-2 transition-colors shadow-lg",children:["Next: Generate PRD ",w.jsx(vc,{className:"w-4 h-4"})]})})]})},z$=()=>{const{state:t,generateArtifact:e}=us(),n=Al(),i=async()=>{t.prdOutput&&!confirm("This will regenerate the PRD and overwrite your current version. Are you sure?")||await e(Rt.PRD)},o=()=>{window.print()};return w.jsxs("div",{className:"max-w-5xl mx-auto h-full flex flex-col animate-fade-in",children:[w.jsxs("div",{className:"mb-6 flex items-end justify-between no-print",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-bold text-forge-text mb-2",children:"Product Requirements"}),w.jsx("p",{className:"text-forge-muted",children:"Synthesize your Idea and Research into a structured PRD."})]}),w.jsxs("button",{onClick:i,disabled:t.isGenerating,className:"bg-forge-accent hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold px-6 py-3 rounded-lg shadow-lg shadow-orange-500/20 transition-all flex items-center gap-2",children:[t.isGenerating?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsx(fr,{className:"w-5 h-5"}),t.prdOutput?"Regenerate PRD":"Generate PRD"]})]}),w.jsxs("div",{className:"bg-forge-950 border border-forge-700 rounded-xl flex flex-col flex-1 min-h-0 overflow-hidden shadow-sm print:border-0 print:bg-white",children:[w.jsxs("div",{className:"p-4 border-b border-forge-700 bg-forge-900/30 flex items-center justify-between no-print",children:[w.jsxs("span",{className:"text-sm font-semibold text-forge-500 uppercase tracking-wider flex items-center gap-2",children:[w.jsx(Ow,{className:"w-4 h-4"}),"PRD Document"]}),w.jsx("div",{className:"flex gap-2",children:t.prdOutput&&w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium bg-forge-800 text-forge-text hover:bg-forge-700 transition-colors border border-forge-700",title:"Print or Save as PDF",children:[w.jsx(gM,{className:"w-3.5 h-3.5"}),"Save as PDF"]}),w.jsx(Wo,{text:t.prdOutput,className:"hover:text-forge-text",title:"Copy PRD (Paste into Google Docs)"})]})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-white print:p-0 print:overflow-visible",children:t.prdOutput?w.jsx(qy,{content:t.prdOutput}):w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-forge-muted no-print",children:[w.jsxs("div",{className:"relative",children:[w.jsx(vM,{className:"w-16 h-16 mb-4 text-forge-300"}),w.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-forge-accent rounded-full animate-pulse"})]}),w.jsx("p",{className:"text-lg font-medium text-forge-text",children:"Ready to Architect"}),w.jsxs("p",{className:"text-sm text-forge-500 mt-2 max-w-md text-center",children:["Click Generate to analyze your vision (",t.synthesizedIdea?"refined":"draft",") and ",t.research.length," research files."]})]})}),t.prdOutput&&w.jsx("div",{className:"p-4 border-t border-forge-700 bg-forge-900/30 flex justify-end",children:w.jsxs("button",{onClick:()=>n("/plan"),className:"text-white bg-forge-text hover:bg-slate-700 px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:["Proceed to Planning ",w.jsx(vc,{className:"w-4 h-4"})]})})]})]})},B$=()=>{const{state:t,generateArtifact:e}=us(),n=Al(),o=(()=>{if(!t.roadmapOutput)return null;try{const a=JSON.parse(t.roadmapOutput);return Array.isArray(a)?a:null}catch{return null}})();return w.jsxs("div",{className:"max-w-5xl mx-auto h-full flex flex-col animate-fade-in",children:[w.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-bold text-forge-text mb-2",children:"Implementation Roadmap"}),w.jsx("p",{className:"text-forge-muted",children:"Actionable steps to build your vision."})]}),w.jsx("button",{onClick:()=>e(Rt.PLANNING),disabled:t.isGenerating||!t.prdOutput,className:"bg-forge-accent hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold px-6 py-3 rounded-xl shadow-lg shadow-orange-500/20 transition-all flex items-center gap-2 group",children:t.isGenerating?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Generating..."]}):w.jsxs(w.Fragment,{children:[w.jsx(fr,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"}),"Generate Roadmap"]})})]}),w.jsxs("div",{className:"bg-forge-950 border border-forge-700 rounded-xl flex flex-col flex-1 min-h-0 overflow-hidden shadow-sm",children:[w.jsxs("div",{className:"p-4 border-b border-forge-700 bg-forge-900/30 flex items-center justify-between",children:[w.jsxs("span",{className:"text-sm font-semibold text-forge-500 uppercase tracking-wider flex items-center gap-2",children:[w.jsx(NT,{className:"w-4 h-4"}),"Execution Phases"]}),t.roadmapOutput&&!o&&w.jsx(Wo,{text:t.roadmapOutput,className:"hover:text-forge-text",title:"Copy Roadmap"})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-white",children:t.roadmapOutput?o?w.jsx("div",{className:"space-y-6",children:o.map((a,l)=>w.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6 bg-gradient-to-br from-slate-50 to-white hover:border-orange-300 hover:shadow-md transition-all duration-200 group",children:[w.jsx("div",{className:"flex justify-between items-start mb-5",children:w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center text-white text-sm font-bold shadow-sm",children:l+1}),w.jsx("h3",{className:"text-lg font-bold text-gray-900",children:a.phaseName})]}),w.jsx("p",{className:"text-gray-600 text-sm leading-relaxed ml-11",children:a.description})]})}),a.steps&&a.steps.length>0?w.jsx("div",{className:"ml-0 md:ml-11 grid gap-4",children:a.steps.map((c,f)=>w.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:border-orange-200 transition-colors",children:[w.jsx("div",{className:"flex items-start justify-between mb-3",children:w.jsxs("div",{children:[w.jsxs("h4",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[w.jsxs("div",{className:"w-5 h-5 rounded bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500",children:[l+1,".",f+1]}),c.stepName]}),w.jsx("p",{className:"text-gray-500 text-xs mt-1 ml-7",children:c.description})]})}),c.technicalBrief&&w.jsxs("div",{className:"mb-3 ml-7 bg-blue-50/50 border border-blue-100 rounded-lg p-3",children:[w.jsxs("div",{className:"flex items-center justify-between mb-1",children:[w.jsxs("span",{className:"text-[10px] font-bold text-blue-700 uppercase tracking-widest flex items-center gap-1",children:[w.jsx(zM,{className:"w-3 h-3"})," Technical Context"]}),w.jsx("button",{onClick:()=>{window.speechSynthesis.cancel();const d=new SpeechSynthesisUtterance(c.technicalBrief);window.speechSynthesis.speak(d)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Listen to explanation",children:w.jsx(dD,{className:"w-3.5 h-3.5"})})]}),w.jsx("p",{className:"text-xs text-blue-900 leading-relaxed",children:c.technicalBrief})]}),w.jsx("div",{className:"ml-7 flex items-center gap-2",children:w.jsx(Wo,{text:c.prompt,variant:"light",title:"Copy Step Prompt",className:"w-full flex justify-center py-2 text-xs font-semibold bg-gray-50 border-gray-200 hover:bg-gray-100 hover:text-gray-900"})})]},f))}):w.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 shadow-inner",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("label",{className:"text-xs font-bold text-orange-600 uppercase tracking-wide flex items-center gap-2",children:[w.jsx(Ay,{className:"w-3.5 h-3.5"}),"Gemini Execution Prompt"]}),w.jsx(Wo,{text:a.executionPrompt,variant:"light",title:"Copy Phase Prompt"})]}),w.jsx("p",{className:"text-xs text-gray-500 font-mono leading-relaxed whitespace-pre-wrap max-h-40 overflow-y-auto custom-scrollbar border border-gray-50 rounded p-2 bg-gray-50/50",children:a.executionPrompt})]})]},l))}):w.jsx(qy,{content:t.roadmapOutput}):w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-forge-muted",children:[w.jsx(NT,{className:"w-12 h-12 mb-4 text-forge-300"}),w.jsx("p",{className:"text-forge-text font-medium",children:"Generate a roadmap to get started."}),!t.prdOutput&&w.jsx("p",{className:"text-sm text-red-500 mt-2",children:"Prerequisite: Generate PRD first."})]})}),t.roadmapOutput&&w.jsx("div",{className:"p-4 border-t border-forge-700 bg-forge-900/30 flex justify-end",children:w.jsxs("button",{onClick:()=>n("/design"),className:"text-white bg-gradient-to-r from-slate-700 to-slate-800 hover:from-slate-600 hover:to-slate-700 px-5 py-2.5 rounded-xl text-sm font-semibold flex items-center gap-2 transition-all shadow-md group",children:["Proceed to Design",w.jsx(vc,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]})})]})]})},q$=()=>{const{state:t,generateArtifact:e}=us(),[n,i]=Z.useState("master"),o=t.stitchPrompt||t.opalPrompt||t.antigravityPrompt;return w.jsxs("div",{className:"max-w-6xl mx-auto h-full flex flex-col animate-fade-in",children:[w.jsxs("div",{className:"mb-8",children:[w.jsx("h2",{className:"text-3xl font-bold text-forge-text mb-2",children:"Realization"}),w.jsx("p",{className:"text-forge-muted text-lg",children:"Choose your path to bring this vision to life."})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full min-h-0",children:[w.jsxs("div",{className:"flex flex-col bg-white border border-forge-300 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow relative",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-cyan-400"}),w.jsxs("div",{className:"p-6 pb-2",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:w.jsx(Ay,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Self-Guided Build"}),w.jsx("div",{className:"text-xs font-semibold text-blue-600 uppercase tracking-widest",children:"Free with Google Gemini"})]})]}),w.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-6",children:"Generate the comprehensive blueprints (Frontend, Backend, and Integration) to build this yourself using AI."})]}),w.jsxs("div",{className:"flex-1 bg-slate-50 border-t border-slate-200 p-4 flex flex-col min-h-0",children:[w.jsxs("div",{className:"flex bg-white rounded-lg p-1 border border-slate-200 mb-2",children:[w.jsx("button",{onClick:()=>i("master"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-colors ${n==="master"?"bg-blue-100 text-blue-700":"text-slate-500 hover:text-slate-700"}`,children:"Master"}),w.jsx("button",{onClick:()=>i("stitch"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-colors ${n==="stitch"?"bg-purple-100 text-purple-700":"text-slate-500 hover:text-slate-700"}`,children:"Stitch (UI)"}),w.jsx("button",{onClick:()=>i("opal"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-colors ${n==="opal"?"bg-emerald-100 text-emerald-700":"text-slate-500 hover:text-slate-700"}`,children:"Opal (Data)"})]}),w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsxs("span",{className:"text-xs font-mono text-slate-500 uppercase",children:[n==="master"&&"Integration Prompt",n==="stitch"&&"Frontend Directives",n==="opal"&&"Backend Logic"]}),t.antigravityPrompt&&w.jsx(Wo,{text:n==="master"?t.antigravityPrompt:n==="stitch"?t.stitchPrompt||"":t.opalPrompt||"",className:"hover:text-blue-600",title:"Copy Prompt"})]}),w.jsx("div",{className:"flex-1 bg-white border border-slate-200 rounded-lg p-3 overflow-y-auto custom-scrollbar",children:o?w.jsx("pre",{className:"text-xs text-gray-600 font-mono whitespace-pre-wrap",children:n==="master"?t.antigravityPrompt:n==="stitch"?t.stitchPrompt:t.opalPrompt}):w.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 text-xs text-center p-4",children:"Click generate to create your blueprints."})})]}),w.jsx("div",{className:"p-4 bg-white border-t border-slate-100",children:w.jsx("button",{onClick:()=>e(Rt.CODE),disabled:t.isGenerating||!t.roadmapOutput,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3.5 rounded-xl shadow-lg shadow-blue-500/25 transition-all flex items-center justify-center gap-2 group",children:t.isGenerating?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Generating Blueprints..."]}):w.jsxs(w.Fragment,{children:[w.jsx(fr,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"}),"Generate All Blueprints"]})})})]}),w.jsxs("div",{className:"flex flex-col bg-slate-900 border border-slate-700 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow relative",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-500 to-amber-500"}),w.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 border border-slate-600 flex items-center justify-center text-orange-500",children:w.jsx(fr,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-white",children:"Professional Project Vibe"}),w.jsx("div",{className:"text-xs font-semibold text-orange-500 uppercase tracking-widest",children:"Done For You"})]})]}),w.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed mb-8",children:["Why spend hours coding when you could be ",w.jsx("span",{className:"text-white font-medium",children:"marketing your business"}),"? Let us handle the technical heavy lifting while you focus on the vision."]}),w.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["Save 20+ hours of dev time","Focus on Marketing & Launch","Professional Grade Code","Guaranteed Deployment","Enjoy your coffee/dates while we build"].map((a,l)=>w.jsxs("li",{className:"flex items-start gap-3",children:[w.jsx(fl,{className:"w-5 h-5 text-orange-500 shrink-0"}),w.jsx("span",{className:"text-slate-200 text-sm",children:a})]},l))}),w.jsxs("div",{className:"mt-auto",children:[w.jsx("a",{href:"mailto:contact@jalanea.com?subject=Hire Vibe Code for [Project Name]",className:"block w-full text-center bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-400 hover:to-amber-400 text-white font-bold py-4 rounded-xl shadow-lg shadow-orange-500/30 transition-all hover:scale-[1.02] active:scale-[0.98] mb-3",children:"Hire Vibe Code "}),w.jsx("p",{className:"text-center text-xs text-slate-500",children:"Limited availability for new partnerships."})]})]})]})]})]})},H$=()=>{const t=Zr(),{user:e}=ih(),{state:n,openSupport:i,setCurrentStep:o}=us(),a=[{label:"Idea",step:Rt.IDEA,icon:Fw,path:"/"},{label:"Research",step:Rt.RESEARCH,icon:Vw,path:"/research"},{label:"PRD",step:Rt.PRD,icon:Ow,path:"/prd"},{label:"Planning",step:Rt.PLANNING,icon:GM,path:"/plan"},{label:"Realization",step:Rt.CODE,icon:RM,path:"/realization"}],{error:l,clearError:c}=ih();return Z.useEffect(()=>{if(l){const f=setTimeout(c,6e3);return()=>clearTimeout(f)}},[l,c]),Z.useEffect(()=>{const f=a.find(d=>d.path===t.pathname);f&&f.step!==n.currentStep&&o(f.step)},[t.pathname,n.currentStep,o]),w.jsxs("div",{className:"min-h-screen flex flex-col bg-forge-900 text-forge-text selection:bg-orange-100 selection:text-orange-900",children:[w.jsx(U$,{}),l&&w.jsxs("div",{className:"fixed bottom-6 right-6 z-50 max-w-sm w-full bg-red-500/10 border border-red-500/50 backdrop-blur-md text-red-500 p-4 rounded-xl shadow-2xl flex items-start gap-3 animate-fade-in",children:[w.jsx(wM,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),w.jsx("div",{className:"flex-1 text-sm font-medium",children:l}),w.jsx("button",{onClick:c,className:"hover:bg-red-500/10 p-1 rounded-lg transition-colors",children:w.jsx(fh,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[w.jsxs("aside",{className:"w-64 border-r border-forge-700 bg-forge-950 p-6 flex flex-col gap-2 hidden md:flex overflow-y-auto custom-scrollbar",children:[w.jsx("div",{className:"text-xs font-bold text-forge-500 uppercase tracking-widest mb-4 px-4 flex-shrink-0",children:"Workflow"}),a.map(f=>{let d=!1;return f.step===Rt.IDEA&&n.synthesizedIdea&&(d=!0),f.step===Rt.RESEARCH&&n.research.length>0&&(d=!0),f.step===Rt.PRD&&n.prdOutput&&(d=!0),f.step===Rt.PLANNING&&n.roadmapOutput&&(d=!0),f.step===Rt.DESIGN&&n.stitchPrompt&&(d=!0),f.step===Rt.CODE&&n.antigravityPrompt&&(d=!0),w.jsx("div",{onClick:()=>window.location.hash=f.path,className:"cursor-pointer group relative",children:w.jsx(L$,{item:f,isActive:t.pathname===f.path,isComplete:d})},f.path)}),w.jsxs("div",{className:"mt-auto pt-6 border-t border-forge-700",children:[w.jsxs("div",{className:"bg-forge-800/50 p-4 rounded-xl border border-forge-700",children:[w.jsx("h4",{className:"font-medium text-forge-text text-sm mb-2",children:"Pro Tip"}),w.jsx("p",{className:"text-xs text-forge-muted leading-relaxed",children:"Add NotebookLM exports in the Research tab to ground the model."})]}),w.jsxs("a",{href:"https://jalanea.com",target:"_blank",rel:"noreferrer",className:"mt-4 block p-3 rounded-xl border border-forge-700 bg-forge-900/30 hover:bg-forge-800 transition-colors text-center group",children:[w.jsx("span",{className:"text-xs text-forge-500 uppercase tracking-widest group-hover:text-forge-accent transition-colors",children:"Made by"}),w.jsx("div",{className:"font-bold text-forge-text mt-1 group-hover:text-white",children:"Meet Jalanea "})]}),w.jsxs("button",{onClick:()=>i(),className:"mt-4 block w-full p-3 rounded-xl border border-forge-700 bg-forge-900/30 hover:bg-forge-800 transition-colors text-center group",children:[w.jsx("span",{className:"text-xs text-forge-500 uppercase tracking-widest group-hover:text-forge-accent transition-colors",children:"Need Help?"}),w.jsx("div",{className:"font-bold text-forge-text mt-1 group-hover:text-white",children:"Get Support"})]})]})]}),w.jsxs("main",{className:"flex-1 overflow-auto bg-forge-900 p-8 relative",children:[w.jsx("div",{className:"md:hidden mb-6 flex overflow-x-auto gap-2 pb-2 no-print",children:a.map(f=>w.jsxs("div",{onClick:()=>window.location.hash=f.path,className:`
                   flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2
                   ${t.pathname===f.path?"bg-forge-accent text-white":"bg-white border border-forge-700 text-forge-muted"}
                `,children:[w.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.path))}),w.jsx("div",{className:"h-full",children:w.jsxs(kk,{children:[w.jsx(zs,{path:"/",element:w.jsx(O$,{})}),w.jsx(zs,{path:"/research",element:w.jsx(F$,{})}),w.jsx(zs,{path:"/prd",element:w.jsx(z$,{})}),w.jsx(zs,{path:"/plan",element:w.jsx(B$,{})}),w.jsx(zs,{path:"/realization",element:w.jsx(q$,{})}),w.jsx(zs,{path:"*",element:w.jsx(Rk,{to:"/"})})]})})]})]})]})},G$=()=>w.jsx(Kz,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:w.jsx($z,{children:w.jsx(P$,{children:w.jsx(eM,{children:w.jsx(H$,{})})})})}),Xb=document.getElementById("root");if(!Xb)throw new Error("Could not find root element to mount to");const $$=ON.createRoot(Xb);$$.render(w.jsx(Eg.StrictMode,{children:w.jsx(G$,{})}));
